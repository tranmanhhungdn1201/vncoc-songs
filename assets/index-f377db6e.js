(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function qy(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Uy=()=>{},Hy=Object.prototype.hasOwnProperty,sa=(t,e)=>Hy.call(t,e),An=Array.isArray,Vs=t=>Cp(t)==="[object Map]",Ap=t=>typeof t=="function",$y=t=>typeof t=="string",ja=t=>typeof t=="symbol",os=t=>t!==null&&typeof t=="object",Wy=Object.prototype.toString,Cp=t=>Wy.call(t),zy=t=>Cp(t).slice(8,-1),kc=t=>$y(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ss=(t,e)=>!Object.is(t,e),Vy=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})};let Ft;class kp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ft,!e&&Ft&&(this.index=(Ft.scopes||(Ft.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ft;try{return Ft=this,e()}finally{Ft=n}}}on(){Ft=this}off(){Ft=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Np(t){return new kp(t)}function Ky(t,e=Ft){e&&e.active&&e.effects.push(t)}function xp(){return Ft}function Gy(t){Ft&&Ft.cleanups.push(t)}const Nc=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Rp=t=>(t.w&pr)>0,Pp=t=>(t.n&pr)>0,Yy=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=pr},Qy=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];Rp(i)&&!Pp(i)?i.delete(t):e[n++]=i,i.w&=~pr,i.n&=~pr}e.length=n}},aa=new WeakMap;let mo=0,pr=1;const Du=30;let Wt;const Hr=Symbol(""),Fu=Symbol("");class xc{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ky(this,r)}run(){if(!this.active)return this.fn();let e=Wt,n=ir;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Wt,Wt=this,ir=!0,pr=1<<++mo,mo<=Du?Yy(this):nd(this),this.fn()}finally{mo<=Du&&Qy(this),pr=1<<--mo,Wt=this.parent,ir=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Wt===this?this.deferStop=!0:this.active&&(nd(this),this.onStop&&this.onStop(),this.active=!1)}}function nd(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ir=!0;const Lp=[];function ji(){Lp.push(ir),ir=!1}function Bi(){const t=Lp.pop();ir=t===void 0?!0:t}function Lt(t,e,n){if(ir&&Wt){let r=aa.get(t);r||aa.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Nc()),Mp(i)}}function Mp(t,e){let n=!1;mo<=Du?Pp(t)||(t.n|=pr,n=!Rp(t)):n=!t.has(Wt),n&&(t.add(Wt),Wt.deps.push(t))}function Cn(t,e,n,r,i,o){const s=aa.get(t);if(!s)return;let a=[];if(e==="clear")a=[...s.values()];else if(n==="length"&&An(t)){const l=Number(r);s.forEach((u,d)=>{(d==="length"||!ja(d)&&d>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(s.get(n)),e){case"add":An(t)?kc(n)&&a.push(s.get("length")):(a.push(s.get(Hr)),Vs(t)&&a.push(s.get(Fu)));break;case"delete":An(t)||(a.push(s.get(Hr)),Vs(t)&&a.push(s.get(Fu)));break;case"set":Vs(t)&&a.push(s.get(Hr));break}if(a.length===1)a[0]&&ju(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);ju(Nc(l))}}function ju(t,e){const n=An(t)?t:[...t];for(const r of n)r.computed&&rd(r);for(const r of n)r.computed||rd(r)}function rd(t,e){(t!==Wt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function Zy(t,e){var n;return(n=aa.get(t))==null?void 0:n.get(e)}const Xy=qy("__proto__,__v_isRef,__isVue"),Dp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ja)),id=Jy();function Jy(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=we(this);for(let o=0,s=this.length;o<s;o++)Lt(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(we)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){ji();const r=we(this)[e].apply(this,n);return Bi(),r}}),t}function e_(t){const e=we(this);return Lt(e,"has",t),e.hasOwnProperty(t)}class Fp{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const i=this._isReadonly,o=this._shallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw"&&r===(i?o?h_:Up:o?qp:Bp).get(e))return e;const s=An(e);if(!i){if(s&&sa(id,n))return Reflect.get(id,n,r);if(n==="hasOwnProperty")return e_}const a=Reflect.get(e,n,r);return(ja(n)?Dp.has(n):Xy(n))||(i||Lt(e,"get",n),o)?a:Ye(a)?s&&kc(n)?a:a.value:os(a)?i?$p(a):Jt(a):a}}class jp extends Fp{constructor(e=!1){super(!1,e)}set(e,n,r,i){let o=e[n];if(Si(o)&&Ye(o)&&!Ye(r))return!1;if(!this._shallow&&(!la(r)&&!Si(r)&&(o=we(o),r=we(r)),!An(e)&&Ye(o)&&!Ye(r)))return o.value=r,!0;const s=An(e)&&kc(n)?Number(n)<e.length:sa(e,n),a=Reflect.set(e,n,r,i);return e===we(i)&&(s?ss(r,o)&&Cn(e,"set",n,r):Cn(e,"add",n,r)),a}deleteProperty(e,n){const r=sa(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&Cn(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!ja(n)||!Dp.has(n))&&Lt(e,"has",n),r}ownKeys(e){return Lt(e,"iterate",An(e)?"length":Hr),Reflect.ownKeys(e)}}class t_ extends Fp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const n_=new jp,r_=new t_,i_=new jp(!0),Rc=t=>t,Ba=t=>Reflect.getPrototypeOf(t);function Ps(t,e,n=!1,r=!1){t=t.__v_raw;const i=we(t),o=we(e);n||(ss(e,o)&&Lt(i,"get",e),Lt(i,"get",o));const{has:s}=Ba(i),a=r?Rc:n?Mc:Po;if(s.call(i,e))return a(t.get(e));if(s.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function Ls(t,e=!1){const n=this.__v_raw,r=we(n),i=we(t);return e||(ss(t,i)&&Lt(r,"has",t),Lt(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ms(t,e=!1){return t=t.__v_raw,!e&&Lt(we(t),"iterate",Hr),Reflect.get(t,"size",t)}function od(t){t=we(t);const e=we(this);return Ba(e).has.call(e,t)||(e.add(t),Cn(e,"add",t,t)),this}function sd(t,e){e=we(e);const n=we(this),{has:r,get:i}=Ba(n);let o=r.call(n,t);o||(t=we(t),o=r.call(n,t));const s=i.call(n,t);return n.set(t,e),o?ss(e,s)&&Cn(n,"set",t,e):Cn(n,"add",t,e),this}function ad(t){const e=we(this),{has:n,get:r}=Ba(e);let i=n.call(e,t);i||(t=we(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&Cn(e,"delete",t,void 0),o}function ld(){const t=we(this),e=t.size!==0,n=t.clear();return e&&Cn(t,"clear",void 0,void 0),n}function Ds(t,e){return function(r,i){const o=this,s=o.__v_raw,a=we(s),l=e?Rc:t?Mc:Po;return!t&&Lt(a,"iterate",Hr),s.forEach((u,d)=>r.call(i,l(u),l(d),o))}}function Fs(t,e,n){return function(...r){const i=this.__v_raw,o=we(i),s=Vs(o),a=t==="entries"||t===Symbol.iterator&&s,l=t==="keys"&&s,u=i[t](...r),d=n?Rc:e?Mc:Po;return!e&&Lt(o,"iterate",l?Fu:Hr),{next(){const{value:f,done:c}=u.next();return c?{value:f,done:c}:{value:a?[d(f[0]),d(f[1])]:d(f),done:c}},[Symbol.iterator](){return this}}}}function Hn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function o_(){const t={get(o){return Ps(this,o)},get size(){return Ms(this)},has:Ls,add:od,set:sd,delete:ad,clear:ld,forEach:Ds(!1,!1)},e={get(o){return Ps(this,o,!1,!0)},get size(){return Ms(this)},has:Ls,add:od,set:sd,delete:ad,clear:ld,forEach:Ds(!1,!0)},n={get(o){return Ps(this,o,!0)},get size(){return Ms(this,!0)},has(o){return Ls.call(this,o,!0)},add:Hn("add"),set:Hn("set"),delete:Hn("delete"),clear:Hn("clear"),forEach:Ds(!0,!1)},r={get(o){return Ps(this,o,!0,!0)},get size(){return Ms(this,!0)},has(o){return Ls.call(this,o,!0)},add:Hn("add"),set:Hn("set"),delete:Hn("delete"),clear:Hn("clear"),forEach:Ds(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Fs(o,!1,!1),n[o]=Fs(o,!0,!1),e[o]=Fs(o,!1,!0),r[o]=Fs(o,!0,!0)}),[t,n,e,r]}const[s_,a_,l_,u_]=o_();function Pc(t,e){const n=e?t?u_:l_:t?a_:s_;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(sa(n,i)&&i in r?n:r,i,o)}const c_={get:Pc(!1,!1)},f_={get:Pc(!1,!0)},d_={get:Pc(!0,!1)},Bp=new WeakMap,qp=new WeakMap,Up=new WeakMap,h_=new WeakMap;function p_(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function g_(t){return t.__v_skip||!Object.isExtensible(t)?0:p_(zy(t))}function Jt(t){return Si(t)?t:Lc(t,!1,n_,c_,Bp)}function Hp(t){return Lc(t,!1,i_,f_,qp)}function $p(t){return Lc(t,!0,r_,d_,Up)}function Lc(t,e,n,r,i){if(!os(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const s=g_(t);if(s===0)return t;const a=new Proxy(t,s===2?r:n);return i.set(t,a),a}function kn(t){return Si(t)?kn(t.__v_raw):!!(t&&t.__v_isReactive)}function Si(t){return!!(t&&t.__v_isReadonly)}function la(t){return!!(t&&t.__v_isShallow)}function Wp(t){return kn(t)||Si(t)}function we(t){const e=t&&t.__v_raw;return e?we(e):t}function qa(t){return Vy(t,"__v_skip",!0),t}const Po=t=>os(t)?Jt(t):t,Mc=t=>os(t)?$p(t):t;function zp(t){ir&&Wt&&(t=we(t),Mp(t.dep||(t.dep=Nc())))}function Vp(t,e){t=we(t);const n=t.dep;n&&ju(n)}function Ye(t){return!!(t&&t.__v_isRef===!0)}function $e(t){return Kp(t,!1)}function m_(t){return Kp(t,!0)}function Kp(t,e){return Ye(t)?t:new v_(t,e)}class v_{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:we(e),this._value=n?e:Po(e)}get value(){return zp(this),this._value}set value(e){const n=this.__v_isShallow||la(e)||Si(e);e=n?e:we(e),ss(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Po(e),Vp(this))}}function ye(t){return Ye(t)?t.value:t}const y_={get:(t,e,n)=>ye(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ye(i)&&!Ye(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Gp(t){return kn(t)?t:new Proxy(t,y_)}function __(t){const e=An(t)?new Array(t.length):{};for(const n in t)e[n]=Yp(t,n);return e}class b_{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Zy(we(this._object),this._key)}}class E_{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function w_(t,e,n){return Ye(t)?t:Ap(t)?new E_(t):os(t)&&arguments.length>1?Yp(t,e,n):$e(t)}function Yp(t,e,n){const r=t[e];return Ye(r)?r:new b_(t,e,n)}class T_{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new xc(e,()=>{this._dirty||(this._dirty=!0,Vp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=we(this);return zp(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function S_(t,e,n=!1){let r,i;const o=Ap(t);return o?(r=t,i=Uy):(r=t.get,i=t.set),new T_(r,i,o||!i,n)}function O_(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ke={},gi=[],un=()=>{},I_=()=>!1,A_=/^on[^a-z]/,Dc=t=>A_.test(t),Qp=t=>t.startsWith("onUpdate:"),bt=Object.assign,Fc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},C_=Object.prototype.hasOwnProperty,je=(t,e)=>C_.call(t,e),Ne=Array.isArray,Zp=t=>jc(t)==="[object Map]",Xp=t=>jc(t)==="[object Set]",Ie=t=>typeof t=="function",Mt=t=>typeof t=="string",Je=t=>t!==null&&typeof t=="object",Jp=t=>(Je(t)||Ie(t))&&Ie(t.then)&&Ie(t.catch),eg=Object.prototype.toString,jc=t=>eg.call(t),tg=t=>jc(t)==="[object Object]",Ks=O_(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ua=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},k_=/-(\w)/g,Oi=Ua(t=>t.replace(k_,(e,n)=>n?n.toUpperCase():"")),N_=/\B([A-Z])/g,Ha=Ua(t=>t.replace(N_,"-$1").toLowerCase()),x_=Ua(t=>t.charAt(0).toUpperCase()+t.slice(1)),au=Ua(t=>t?`on${x_(t)}`:""),ud=(t,e)=>!Object.is(t,e),lu=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Bu=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},R_=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let cd;const qu=()=>cd||(cd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $a(t){if(Ne(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=Mt(r)?D_(r):$a(r);if(i)for(const o in i)e[o]=i[o]}return e}else if(Mt(t)||Je(t))return t}const P_=/;(?![^(]*\))/g,L_=/:([^]+)/,M_=/\/\*[^]*?\*\//g;function D_(t){const e={};return t.replace(M_,"").split(P_).forEach(n=>{if(n){const r=n.split(L_);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function or(t){let e="";if(Mt(t))e=t;else if(Ne(t))for(let n=0;n<t.length;n++){const r=or(t[n]);r&&(e+=r+" ")}else if(Je(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const sr=t=>Mt(t)?t:t==null?"":Ne(t)||Je(t)&&(t.toString===eg||!Ie(t.toString))?JSON.stringify(t,ng,2):String(t),ng=(t,e)=>e&&e.__v_isRef?ng(t,e.value):Zp(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Xp(e)?{[`Set(${e.size})`]:[...e.values()]}:Je(e)&&!Ne(e)&&!tg(e)?String(e):e;function ar(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){Wa(o,e,n)}return i}function Bt(t,e,n,r){if(Ie(t)){const o=ar(t,e,n,r);return o&&Jp(o)&&o.catch(s=>{Wa(s,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Bt(t[o],e,n,r));return i}function Wa(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const s=e.proxy,a=n;for(;o;){const u=o.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,s,a)===!1)return}o=o.parent}const l=e.appContext.config.errorHandler;if(l){ar(l,null,10,[t,s,a]);return}}F_(t,n,i,r)}function F_(t,e,n,r=!0){console.error(t)}let Lo=!1,Uu=!1;const _t=[];let an=0;const mi=[];let Tn=null,Mr=0;const rg=Promise.resolve();let Bc=null;function Kr(t){const e=Bc||rg;return t?e.then(this?t.bind(this):t):e}function j_(t){let e=an+1,n=_t.length;for(;e<n;){const r=e+n>>>1,i=_t[r],o=Mo(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function qc(t){(!_t.length||!_t.includes(t,Lo&&t.allowRecurse?an+1:an))&&(t.id==null?_t.push(t):_t.splice(j_(t.id),0,t),ig())}function ig(){!Lo&&!Uu&&(Uu=!0,Bc=rg.then(sg))}function B_(t){const e=_t.indexOf(t);e>an&&_t.splice(e,1)}function q_(t){Ne(t)?mi.push(...t):(!Tn||!Tn.includes(t,t.allowRecurse?Mr+1:Mr))&&mi.push(t),ig()}function fd(t,e=Lo?an+1:0){for(;e<_t.length;e++){const n=_t[e];n&&n.pre&&(_t.splice(e,1),e--,n())}}function og(t){if(mi.length){const e=[...new Set(mi)];if(mi.length=0,Tn){Tn.push(...e);return}for(Tn=e,Tn.sort((n,r)=>Mo(n)-Mo(r)),Mr=0;Mr<Tn.length;Mr++)Tn[Mr]();Tn=null,Mr=0}}const Mo=t=>t.id==null?1/0:t.id,U_=(t,e)=>{const n=Mo(t)-Mo(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function sg(t){Uu=!1,Lo=!0,_t.sort(U_);const e=un;try{for(an=0;an<_t.length;an++){const n=_t[an];n&&n.active!==!1&&ar(n,null,14)}}finally{an=0,_t.length=0,og(),Lo=!1,Bc=null,(_t.length||mi.length)&&sg()}}function H_(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ke;let i=n;const o=e.startsWith("update:"),s=o&&e.slice(7);if(s&&s in r){const d=`${s==="modelValue"?"model":s}Modifiers`,{number:f,trim:c}=r[d]||Ke;c&&(i=n.map(h=>Mt(h)?h.trim():h)),f&&(i=n.map(R_))}let a,l=r[a=au(e)]||r[a=au(Oi(e))];!l&&o&&(l=r[a=au(Ha(e))]),l&&Bt(l,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Bt(u,t,6,i)}}function ag(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let s={},a=!1;if(!Ie(t)){const l=u=>{const d=ag(u,e,!0);d&&(a=!0,bt(s,d))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Je(t)&&r.set(t,null),null):(Ne(o)?o.forEach(l=>s[l]=null):bt(s,o),Je(t)&&r.set(t,s),s)}function za(t,e){return!t||!Dc(e)?!1:(e=e.slice(2).replace(/Once$/,""),je(t,e[0].toLowerCase()+e.slice(1))||je(t,Ha(e))||je(t,e))}let ht=null,lg=null;function ua(t){const e=ht;return ht=t,lg=t&&t.type.__scopeId||null,e}function Va(t,e=ht,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&wd(-1);const o=ua(e);let s;try{s=t(...i)}finally{ua(o),r._d&&wd(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function uu(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:l,emit:u,render:d,renderCache:f,data:c,setupState:h,ctx:v,inheritAttrs:y}=t;let _,m;const g=ua(t);try{if(n.shapeFlag&4){const p=i||r,b=p;_=sn(d.call(b,p,f,o,h,c,v)),m=l}else{const p=e;_=sn(p.length>1?p(o,{attrs:l,slots:a,emit:u}):p(o,null)),m=e.props?l:$_(l)}}catch(p){To.length=0,Wa(p,t,1),_=Se(Ut)}let E=_;if(m&&y!==!1){const p=Object.keys(m),{shapeFlag:b}=E;p.length&&b&7&&(s&&p.some(Qp)&&(m=W_(m,s)),E=xn(E,m))}return n.dirs&&(E=xn(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),_=E,ua(g),_}const $_=t=>{let e;for(const n in t)(n==="class"||n==="style"||Dc(n))&&((e||(e={}))[n]=t[n]);return e},W_=(t,e)=>{const n={};for(const r in t)(!Qp(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function z_(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:l}=e,u=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?dd(r,s,u):!!s;if(l&8){const d=e.dynamicProps;for(let f=0;f<d.length;f++){const c=d[f];if(s[c]!==r[c]&&!za(u,c))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?dd(r,s,u):!0:!!s;return!1}function dd(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!za(n,o))return!0}return!1}function V_({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const K_=Symbol.for("v-ndc"),G_=t=>t.__isSuspense;function Y_(t,e){e&&e.pendingBranch?Ne(t)?e.effects.push(...t):e.effects.push(t):q_(t)}function Gs(t,e){return Uc(t,null,e)}const js={};function lr(t,e,n){return Uc(t,e,n)}function Uc(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=Ke){var a;const l=xp()===((a=at)==null?void 0:a.scope)?at:null;let u,d=!1,f=!1;if(Ye(t)?(u=()=>t.value,d=la(t)):kn(t)?(u=()=>t,r=!0):Ne(t)?(f=!0,d=t.some(p=>kn(p)||la(p)),u=()=>t.map(p=>{if(Ye(p))return p.value;if(kn(p))return Br(p);if(Ie(p))return ar(p,l,2)})):Ie(t)?e?u=()=>ar(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return c&&c(),Bt(t,l,3,[h])}:u=un,e&&r){const p=u;u=()=>Br(p())}let c,h=p=>{c=g.onStop=()=>{ar(p,l,4),c=g.onStop=void 0}},v;if(Bo)if(h=un,e?n&&Bt(e,l,3,[u(),f?[]:void 0,h]):u(),i==="sync"){const p=$0();v=p.__watcherHandles||(p.__watcherHandles=[])}else return un;let y=f?new Array(t.length).fill(js):js;const _=()=>{if(g.active)if(e){const p=g.run();(r||d||(f?p.some((b,C)=>ud(b,y[C])):ud(p,y)))&&(c&&c(),Bt(e,l,3,[p,y===js?void 0:f&&y[0]===js?[]:y,h]),y=p)}else g.run()};_.allowRecurse=!!e;let m;i==="sync"?m=_:i==="post"?m=()=>Nt(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),m=()=>qc(_));const g=new xc(u,m);e?n?_():y=g.run():i==="post"?Nt(g.run.bind(g),l&&l.suspense):g.run();const E=()=>{g.stop(),l&&l.scope&&Fc(l.scope.effects,g)};return v&&v.push(E),E}function Q_(t,e,n){const r=this.proxy,i=Mt(t)?t.includes(".")?ug(r,t):()=>r[t]:t.bind(r,r);let o;Ie(e)?o=e:(o=e.handler,n=e);const s=at;Ai(this);const a=Uc(i,o.bind(r),n);return s?Ai(s):Wr(),a}function ug(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Br(t,e){if(!Je(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ye(t))Br(t.value,e);else if(Ne(t))for(let n=0;n<t.length;n++)Br(t[n],e);else if(Xp(t)||Zp(t))t.forEach(n=>{Br(n,e)});else if(tg(t))for(const n in t)Br(t[n],e);return t}function Do(t,e){const n=ht;if(n===null)return t;const r=Ja(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[s,a,l,u=Ke]=e[o];s&&(Ie(s)&&(s={mounted:s,updated:s}),s.deep&&Br(a),i.push({dir:s,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return t}function kr(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&(ji(),Bt(l,n,8,[t.el,a,t,e]),Bi())}}const Qn=Symbol("_leaveCb"),Bs=Symbol("_enterCb");function Z_(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _r(()=>{t.isMounted=!0}),Ya(()=>{t.isUnmounting=!0}),t}const jt=[Function,Array],cg={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:jt,onEnter:jt,onAfterEnter:jt,onEnterCancelled:jt,onBeforeLeave:jt,onLeave:jt,onAfterLeave:jt,onLeaveCancelled:jt,onBeforeAppear:jt,onAppear:jt,onAfterAppear:jt,onAppearCancelled:jt},X_={name:"BaseTransition",props:cg,setup(t,{slots:e}){const n=D0(),r=Z_();let i;return()=>{const o=e.default&&dg(e.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const y of o)if(y.type!==Ut){s=y;break}}const a=we(t),{mode:l}=a;if(r.isLeaving)return cu(s);const u=hd(s);if(!u)return cu(s);const d=Hu(u,a,r,n);$u(u,d);const f=n.subTree,c=f&&hd(f);let h=!1;const{getTransitionKey:v}=u.type;if(v){const y=v();i===void 0?i=y:y!==i&&(i=y,h=!0)}if(c&&c.type!==Ut&&(!Dr(u,c)||h)){const y=Hu(c,a,r,n);if($u(c,y),l==="out-in")return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},cu(s);l==="in-out"&&u.type!==Ut&&(y.delayLeave=(_,m,g)=>{const E=fg(r,c);E[String(c.key)]=c,_[Qn]=()=>{m(),_[Qn]=void 0,delete d.delayedLeave},d.delayedLeave=g})}return s}}},J_=X_;function fg(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Hu(t,e,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:c,onAfterLeave:h,onLeaveCancelled:v,onBeforeAppear:y,onAppear:_,onAfterAppear:m,onAppearCancelled:g}=e,E=String(t.key),p=fg(n,t),b=(I,N)=>{I&&Bt(I,r,9,N)},C=(I,N)=>{const A=N[1];b(I,N),Ne(I)?I.every(T=>T.length<=1)&&A():I.length<=1&&A()},O={mode:o,persisted:s,beforeEnter(I){let N=a;if(!n.isMounted)if(i)N=y||a;else return;I[Qn]&&I[Qn](!0);const A=p[E];A&&Dr(t,A)&&A.el[Qn]&&A.el[Qn](),b(N,[I])},enter(I){let N=l,A=u,T=d;if(!n.isMounted)if(i)N=_||l,A=m||u,T=g||d;else return;let S=!1;const k=I[Bs]=P=>{S||(S=!0,P?b(T,[I]):b(A,[I]),O.delayedLeave&&O.delayedLeave(),I[Bs]=void 0)};N?C(N,[I,k]):k()},leave(I,N){const A=String(t.key);if(I[Bs]&&I[Bs](!0),n.isUnmounting)return N();b(f,[I]);let T=!1;const S=I[Qn]=k=>{T||(T=!0,N(),k?b(v,[I]):b(h,[I]),I[Qn]=void 0,p[A]===t&&delete p[A])};p[A]=t,c?C(c,[I,S]):S()},clone(I){return Hu(I,e,n,r)}};return O}function cu(t){if(Ka(t))return t=xn(t),t.children=null,t}function hd(t){return Ka(t)?t.children?t.children[0]:void 0:t}function $u(t,e){t.shapeFlag&6&&t.component?$u(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function dg(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===ot?(s.patchFlag&128&&i++,r=r.concat(dg(s.children,e,a))):(e||s.type!==Ut)&&r.push(a!=null?xn(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function yr(t,e){return Ie(t)?(()=>bt({name:t.name},e,{setup:t}))():t}const Eo=t=>!!t.type.__asyncLoader,Ka=t=>t.type.__isKeepAlive;function e0(t,e){hg(t,"a",e)}function t0(t,e){hg(t,"da",e)}function hg(t,e,n=at){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Ga(e,r,n),n){let i=n.parent;for(;i&&i.parent;)Ka(i.parent.vnode)&&n0(r,e,n,i),i=i.parent}}function n0(t,e,n,r){const i=Ga(e,t,r,!0);Qa(()=>{Fc(r[e],i)},n)}function Ga(t,e,n=at,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...s)=>{if(n.isUnmounted)return;ji(),Ai(n);const a=Bt(e,n,t,s);return Wr(),Bi(),a});return r?i.unshift(o):i.push(o),o}}const Dn=t=>(e,n=at)=>(!Bo||t==="sp")&&Ga(t,(...r)=>e(...r),n),r0=Dn("bm"),_r=Dn("m"),i0=Dn("bu"),o0=Dn("u"),Ya=Dn("bum"),Qa=Dn("um"),s0=Dn("sp"),a0=Dn("rtg"),l0=Dn("rtc");function u0(t,e=at){Ga("ec",t,e)}function pg(t,e,n,r){let i;const o=n&&n[r];if(Ne(t)||Mt(t)){i=new Array(t.length);for(let s=0,a=t.length;s<a;s++)i[s]=e(t[s],s,void 0,o&&o[s])}else if(typeof t=="number"){i=new Array(t);for(let s=0;s<t;s++)i[s]=e(s+1,s,void 0,o&&o[s])}else if(Je(t))if(t[Symbol.iterator])i=Array.from(t,(s,a)=>e(s,a,void 0,o&&o[a]));else{const s=Object.keys(t);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const u=s[a];i[a]=e(t[u],u,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}function gg(t,e,n={},r,i){if(ht.isCE||ht.parent&&Eo(ht.parent)&&ht.parent.isCE)return e!=="default"&&(n.name=e),Se("slot",n,r&&r());let o=t[e];o&&o._c&&(o._d=!1),Be();const s=o&&mg(o(n)),a=Gr(ot,{key:n.key||s&&s.key||`_${e}`},s||(r?r():[]),s&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function mg(t){return t.some(e=>Ii(e)?!(e.type===Ut||e.type===ot&&!mg(e.children)):!0)?t:null}const Wu=t=>t?Ag(t)?Ja(t)||t.proxy:Wu(t.parent):null,wo=bt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Wu(t.parent),$root:t=>Wu(t.root),$emit:t=>t.emit,$options:t=>Hc(t),$forceUpdate:t=>t.f||(t.f=()=>qc(t.update)),$nextTick:t=>t.n||(t.n=Kr.bind(t.proxy)),$watch:t=>Q_.bind(t)}),fu=(t,e)=>t!==Ke&&!t.__isScriptSetup&&je(t,e),c0={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const h=s[e];if(h!==void 0)switch(h){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(fu(r,e))return s[e]=1,r[e];if(i!==Ke&&je(i,e))return s[e]=2,i[e];if((u=t.propsOptions[0])&&je(u,e))return s[e]=3,o[e];if(n!==Ke&&je(n,e))return s[e]=4,n[e];zu&&(s[e]=0)}}const d=wo[e];let f,c;if(d)return e==="$attrs"&&Lt(t,"get",e),d(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(n!==Ke&&je(n,e))return s[e]=4,n[e];if(c=l.config.globalProperties,je(c,e))return c[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return fu(i,e)?(i[e]=n,!0):r!==Ke&&je(r,e)?(r[e]=n,!0):je(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||t!==Ke&&je(t,s)||fu(e,s)||(a=o[0])&&je(a,s)||je(r,s)||je(wo,s)||je(i.config.globalProperties,s)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:je(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function pd(t){return Ne(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let zu=!0;function f0(t){const e=Hc(t),n=t.proxy,r=t.ctx;zu=!1,e.beforeCreate&&gd(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:u,created:d,beforeMount:f,mounted:c,beforeUpdate:h,updated:v,activated:y,deactivated:_,beforeDestroy:m,beforeUnmount:g,destroyed:E,unmounted:p,render:b,renderTracked:C,renderTriggered:O,errorCaptured:I,serverPrefetch:N,expose:A,inheritAttrs:T,components:S,directives:k,filters:P}=e;if(u&&d0(u,r,null),s)for(const Q in s){const se=s[Q];Ie(se)&&(r[Q]=se.bind(n))}if(i){const Q=i.call(n,n);Je(Q)&&(t.data=Jt(Q))}if(zu=!0,o)for(const Q in o){const se=o[Q],X=Ie(se)?se.bind(n,n):Ie(se.get)?se.get.bind(n,n):un,B=!Ie(se)&&Ie(se.set)?se.set.bind(n):un,x=He({get:X,set:B});Object.defineProperty(r,Q,{enumerable:!0,configurable:!0,get:()=>x.value,set:j=>x.value=j})}if(a)for(const Q in a)vg(a[Q],r,n,Q);if(l){const Q=Ie(l)?l.call(n):l;Reflect.ownKeys(Q).forEach(se=>{Ys(se,Q[se])})}d&&gd(d,t,"c");function z(Q,se){Ne(se)?se.forEach(X=>Q(X.bind(n))):se&&Q(se.bind(n))}if(z(r0,f),z(_r,c),z(i0,h),z(o0,v),z(e0,y),z(t0,_),z(u0,I),z(l0,C),z(a0,O),z(Ya,g),z(Qa,p),z(s0,N),Ne(A))if(A.length){const Q=t.exposed||(t.exposed={});A.forEach(se=>{Object.defineProperty(Q,se,{get:()=>n[se],set:X=>n[se]=X})})}else t.exposed||(t.exposed={});b&&t.render===un&&(t.render=b),T!=null&&(t.inheritAttrs=T),S&&(t.components=S),k&&(t.directives=k)}function d0(t,e,n=un){Ne(t)&&(t=Vu(t));for(const r in t){const i=t[r];let o;Je(i)?"default"in i?o=qt(i.from||r,i.default,!0):o=qt(i.from||r):o=qt(i),Ye(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):e[r]=o}}function gd(t,e,n){Bt(Ne(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function vg(t,e,n,r){const i=r.includes(".")?ug(n,r):()=>n[r];if(Mt(t)){const o=e[t];Ie(o)&&lr(i,o)}else if(Ie(t))lr(i,t.bind(n));else if(Je(t))if(Ne(t))t.forEach(o=>vg(o,e,n,r));else{const o=Ie(t.handler)?t.handler.bind(n):e[t.handler];Ie(o)&&lr(i,o,t)}}function Hc(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!n&&!r?l=e:(l={},i.length&&i.forEach(u=>ca(l,u,s,!0)),ca(l,e,s)),Je(e)&&o.set(e,l),l}function ca(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&ca(t,o,n,!0),i&&i.forEach(s=>ca(t,s,n,!0));for(const s in e)if(!(r&&s==="expose")){const a=h0[s]||n&&n[s];t[s]=a?a(t[s],e[s]):e[s]}return t}const h0={data:md,props:vd,emits:vd,methods:vo,computed:vo,beforeCreate:Tt,created:Tt,beforeMount:Tt,mounted:Tt,beforeUpdate:Tt,updated:Tt,beforeDestroy:Tt,beforeUnmount:Tt,destroyed:Tt,unmounted:Tt,activated:Tt,deactivated:Tt,errorCaptured:Tt,serverPrefetch:Tt,components:vo,directives:vo,watch:g0,provide:md,inject:p0};function md(t,e){return e?t?function(){return bt(Ie(t)?t.call(this,this):t,Ie(e)?e.call(this,this):e)}:e:t}function p0(t,e){return vo(Vu(t),Vu(e))}function Vu(t){if(Ne(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Tt(t,e){return t?[...new Set([].concat(t,e))]:e}function vo(t,e){return t?bt(Object.create(null),t,e):e}function vd(t,e){return t?Ne(t)&&Ne(e)?[...new Set([...t,...e])]:bt(Object.create(null),pd(t),pd(e??{})):e}function g0(t,e){if(!t)return e;if(!e)return t;const n=bt(Object.create(null),t);for(const r in e)n[r]=Tt(t[r],e[r]);return n}function yg(){return{app:null,config:{isNativeTag:I_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let m0=0;function v0(t,e){return function(r,i=null){Ie(r)||(r=bt({},r)),i!=null&&!Je(i)&&(i=null);const o=yg(),s=new WeakSet;let a=!1;const l=o.app={_uid:m0++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:W0,get config(){return o.config},set config(u){},use(u,...d){return s.has(u)||(u&&Ie(u.install)?(s.add(u),u.install(l,...d)):Ie(u)&&(s.add(u),u(l,...d))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,d){return d?(o.components[u]=d,l):o.components[u]},directive(u,d){return d?(o.directives[u]=d,l):o.directives[u]},mount(u,d,f){if(!a){const c=Se(r,i);return c.appContext=o,d&&e?e(c,u):t(c,u,f),a=!0,l._container=u,u.__vue_app__=l,Ja(c.component)||c.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(u,d){return o.provides[u]=d,l},runWithContext(u){Fo=l;try{return u()}finally{Fo=null}}};return l}}let Fo=null;function Ys(t,e){if(at){let n=at.provides;const r=at.parent&&at.parent.provides;r===n&&(n=at.provides=Object.create(r)),n[t]=e}}function qt(t,e,n=!1){const r=at||ht;if(r||Fo){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Fo._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Ie(e)?e.call(r&&r.proxy):e}}function y0(){return!!(at||ht||Fo)}function _0(t,e,n,r=!1){const i={},o={};Bu(o,Xa,1),t.propsDefaults=Object.create(null),_g(t,e,i,o);for(const s in t.propsOptions[0])s in i||(i[s]=void 0);n?t.props=r?i:Hp(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function b0(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=t,a=we(i),[l]=t.propsOptions;let u=!1;if((r||s>0)&&!(s&16)){if(s&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let c=d[f];if(za(t.emitsOptions,c))continue;const h=e[c];if(l)if(je(o,c))h!==o[c]&&(o[c]=h,u=!0);else{const v=Oi(c);i[v]=Ku(l,a,v,h,t,!1)}else h!==o[c]&&(o[c]=h,u=!0)}}}else{_g(t,e,i,o)&&(u=!0);let d;for(const f in a)(!e||!je(e,f)&&((d=Ha(f))===f||!je(e,d)))&&(l?n&&(n[f]!==void 0||n[d]!==void 0)&&(i[f]=Ku(l,a,f,void 0,t,!0)):delete i[f]);if(o!==a)for(const f in o)(!e||!je(e,f))&&(delete o[f],u=!0)}u&&Cn(t,"set","$attrs")}function _g(t,e,n,r){const[i,o]=t.propsOptions;let s=!1,a;if(e)for(let l in e){if(Ks(l))continue;const u=e[l];let d;i&&je(i,d=Oi(l))?!o||!o.includes(d)?n[d]=u:(a||(a={}))[d]=u:za(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,s=!0)}if(o){const l=we(n),u=a||Ke;for(let d=0;d<o.length;d++){const f=o[d];n[f]=Ku(i,l,f,u[f],t,!je(u,f))}}return s}function Ku(t,e,n,r,i,o){const s=t[n];if(s!=null){const a=je(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&Ie(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Ai(i),r=u[n]=l.call(null,e),Wr())}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===Ha(n))&&(r=!0))}return r}function bg(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,s={},a=[];let l=!1;if(!Ie(t)){const d=f=>{l=!0;const[c,h]=bg(f,e,!0);bt(s,c),h&&a.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!l)return Je(t)&&r.set(t,gi),gi;if(Ne(o))for(let d=0;d<o.length;d++){const f=Oi(o[d]);yd(f)&&(s[f]=Ke)}else if(o)for(const d in o){const f=Oi(d);if(yd(f)){const c=o[d],h=s[f]=Ne(c)||Ie(c)?{type:c}:bt({},c);if(h){const v=Ed(Boolean,h.type),y=Ed(String,h.type);h[0]=v>-1,h[1]=y<0||v<y,(v>-1||je(h,"default"))&&a.push(f)}}}const u=[s,a];return Je(t)&&r.set(t,u),u}function yd(t){return t[0]!=="$"}function _d(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function bd(t,e){return _d(t)===_d(e)}function Ed(t,e){return Ne(e)?e.findIndex(n=>bd(n,t)):Ie(e)&&bd(e,t)?0:-1}const Eg=t=>t[0]==="_"||t==="$stable",$c=t=>Ne(t)?t.map(sn):[sn(t)],E0=(t,e,n)=>{if(e._n)return e;const r=Va((...i)=>$c(e(...i)),n);return r._c=!1,r},wg=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Eg(i))continue;const o=t[i];if(Ie(o))e[i]=E0(i,o,r);else if(o!=null){const s=$c(o);e[i]=()=>s}}},Tg=(t,e)=>{const n=$c(e);t.slots.default=()=>n},w0=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=we(e),Bu(e,"_",n)):wg(e,t.slots={})}else t.slots={},e&&Tg(t,e);Bu(t.slots,Xa,1)},T0=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,s=Ke;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(bt(i,e),!n&&a===1&&delete i._):(o=!e.$stable,wg(e,i)),s=e}else e&&(Tg(t,e),s={default:1});if(o)for(const a in i)!Eg(a)&&s[a]==null&&delete i[a]};function Gu(t,e,n,r,i=!1){if(Ne(t)){t.forEach((c,h)=>Gu(c,e&&(Ne(e)?e[h]:e),n,r,i));return}if(Eo(r)&&!i)return;const o=r.shapeFlag&4?Ja(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=t,u=e&&e.r,d=a.refs===Ke?a.refs={}:a.refs,f=a.setupState;if(u!=null&&u!==l&&(Mt(u)?(d[u]=null,je(f,u)&&(f[u]=null)):Ye(u)&&(u.value=null)),Ie(l))ar(l,a,12,[s,d]);else{const c=Mt(l),h=Ye(l);if(c||h){const v=()=>{if(t.f){const y=c?je(f,l)?f[l]:d[l]:l.value;i?Ne(y)&&Fc(y,o):Ne(y)?y.includes(o)||y.push(o):c?(d[l]=[o],je(f,l)&&(f[l]=d[l])):(l.value=[o],t.k&&(d[t.k]=l.value))}else c?(d[l]=s,je(f,l)&&(f[l]=s)):h&&(l.value=s,t.k&&(d[t.k]=s))};s?(v.id=-1,Nt(v,n)):v()}}}const Nt=Y_;function S0(t){return O0(t)}function O0(t,e){const n=qu();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:u,setElementText:d,parentNode:f,nextSibling:c,setScopeId:h=un,insertStaticContent:v}=t,y=(M,q,K,ne=null,oe=null,ie=null,G=!1,V=null,te=!!q.dynamicChildren)=>{if(M===q)return;M&&!Dr(M,q)&&(ne=L(M),j(M,oe,ie,!0),M=null),q.patchFlag===-2&&(te=!1,q.dynamicChildren=null);const{type:J,ref:re,shapeFlag:ce}=q;switch(J){case Za:_(M,q,K,ne);break;case Ut:m(M,q,K,ne);break;case Qs:M==null&&g(q,K,ne,G);break;case ot:S(M,q,K,ne,oe,ie,G,V,te);break;default:ce&1?b(M,q,K,ne,oe,ie,G,V,te):ce&6?k(M,q,K,ne,oe,ie,G,V,te):(ce&64||ce&128)&&J.process(M,q,K,ne,oe,ie,G,V,te,F)}re!=null&&oe&&Gu(re,M&&M.ref,ie,q||M,!q)},_=(M,q,K,ne)=>{if(M==null)r(q.el=a(q.children),K,ne);else{const oe=q.el=M.el;q.children!==M.children&&u(oe,q.children)}},m=(M,q,K,ne)=>{M==null?r(q.el=l(q.children||""),K,ne):q.el=M.el},g=(M,q,K,ne)=>{[M.el,M.anchor]=v(M.children,q,K,ne,M.el,M.anchor)},E=({el:M,anchor:q},K,ne)=>{let oe;for(;M&&M!==q;)oe=c(M),r(M,K,ne),M=oe;r(q,K,ne)},p=({el:M,anchor:q})=>{let K;for(;M&&M!==q;)K=c(M),i(M),M=K;i(q)},b=(M,q,K,ne,oe,ie,G,V,te)=>{G=G||q.type==="svg",M==null?C(q,K,ne,oe,ie,G,V,te):N(M,q,oe,ie,G,V,te)},C=(M,q,K,ne,oe,ie,G,V)=>{let te,J;const{type:re,props:ce,shapeFlag:ue,transition:fe,dirs:me}=M;if(te=M.el=s(M.type,ie,ce&&ce.is,ce),ue&8?d(te,M.children):ue&16&&I(M.children,te,null,ne,oe,ie&&re!=="foreignObject",G,V),me&&kr(M,null,ne,"created"),O(te,M,M.scopeId,G,ne),ce){for(const pe in ce)pe!=="value"&&!Ks(pe)&&o(te,pe,null,ce[pe],ie,M.children,ne,oe,D);"value"in ce&&o(te,"value",null,ce.value),(J=ce.onVnodeBeforeMount)&&on(J,ne,M)}me&&kr(M,null,ne,"beforeMount");const be=I0(oe,fe);be&&fe.beforeEnter(te),r(te,q,K),((J=ce&&ce.onVnodeMounted)||be||me)&&Nt(()=>{J&&on(J,ne,M),be&&fe.enter(te),me&&kr(M,null,ne,"mounted")},oe)},O=(M,q,K,ne,oe)=>{if(K&&h(M,K),ne)for(let ie=0;ie<ne.length;ie++)h(M,ne[ie]);if(oe){let ie=oe.subTree;if(q===ie){const G=oe.vnode;O(M,G,G.scopeId,G.slotScopeIds,oe.parent)}}},I=(M,q,K,ne,oe,ie,G,V,te=0)=>{for(let J=te;J<M.length;J++){const re=M[J]=V?Zn(M[J]):sn(M[J]);y(null,re,q,K,ne,oe,ie,G,V)}},N=(M,q,K,ne,oe,ie,G)=>{const V=q.el=M.el;let{patchFlag:te,dynamicChildren:J,dirs:re}=q;te|=M.patchFlag&16;const ce=M.props||Ke,ue=q.props||Ke;let fe;K&&Nr(K,!1),(fe=ue.onVnodeBeforeUpdate)&&on(fe,K,q,M),re&&kr(q,M,K,"beforeUpdate"),K&&Nr(K,!0);const me=oe&&q.type!=="foreignObject";if(J?A(M.dynamicChildren,J,V,K,ne,me,ie):G||se(M,q,V,null,K,ne,me,ie,!1),te>0){if(te&16)T(V,q,ce,ue,K,ne,oe);else if(te&2&&ce.class!==ue.class&&o(V,"class",null,ue.class,oe),te&4&&o(V,"style",ce.style,ue.style,oe),te&8){const be=q.dynamicProps;for(let pe=0;pe<be.length;pe++){const Oe=be[pe],ve=ce[Oe],qe=ue[Oe];(qe!==ve||Oe==="value")&&o(V,Oe,ve,qe,oe,M.children,K,ne,D)}}te&1&&M.children!==q.children&&d(V,q.children)}else!G&&J==null&&T(V,q,ce,ue,K,ne,oe);((fe=ue.onVnodeUpdated)||re)&&Nt(()=>{fe&&on(fe,K,q,M),re&&kr(q,M,K,"updated")},ne)},A=(M,q,K,ne,oe,ie,G)=>{for(let V=0;V<q.length;V++){const te=M[V],J=q[V],re=te.el&&(te.type===ot||!Dr(te,J)||te.shapeFlag&70)?f(te.el):K;y(te,J,re,null,ne,oe,ie,G,!0)}},T=(M,q,K,ne,oe,ie,G)=>{if(K!==ne){if(K!==Ke)for(const V in K)!Ks(V)&&!(V in ne)&&o(M,V,K[V],null,G,q.children,oe,ie,D);for(const V in ne){if(Ks(V))continue;const te=ne[V],J=K[V];te!==J&&V!=="value"&&o(M,V,J,te,G,q.children,oe,ie,D)}"value"in ne&&o(M,"value",K.value,ne.value)}},S=(M,q,K,ne,oe,ie,G,V,te)=>{const J=q.el=M?M.el:a(""),re=q.anchor=M?M.anchor:a("");let{patchFlag:ce,dynamicChildren:ue,slotScopeIds:fe}=q;fe&&(V=V?V.concat(fe):fe),M==null?(r(J,K,ne),r(re,K,ne),I(q.children,K,re,oe,ie,G,V,te)):ce>0&&ce&64&&ue&&M.dynamicChildren?(A(M.dynamicChildren,ue,K,oe,ie,G,V),(q.key!=null||oe&&q===oe.subTree)&&Sg(M,q,!0)):se(M,q,K,re,oe,ie,G,V,te)},k=(M,q,K,ne,oe,ie,G,V,te)=>{q.slotScopeIds=V,M==null?q.shapeFlag&512?oe.ctx.activate(q,K,ne,G,te):P(q,K,ne,oe,ie,G,te):U(M,q,te)},P=(M,q,K,ne,oe,ie,G)=>{const V=M.component=M0(M,ne,oe);if(Ka(M)&&(V.ctx.renderer=F),F0(V),V.asyncDep){if(oe&&oe.registerDep(V,z),!M.el){const te=V.subTree=Se(Ut);m(null,te,q,K)}return}z(V,M,q,K,oe,ie,G)},U=(M,q,K)=>{const ne=q.component=M.component;if(z_(M,q,K))if(ne.asyncDep&&!ne.asyncResolved){Q(ne,q,K);return}else ne.next=q,B_(ne.update),ne.update();else q.el=M.el,ne.vnode=q},z=(M,q,K,ne,oe,ie,G)=>{const V=()=>{if(M.isMounted){let{next:re,bu:ce,u:ue,parent:fe,vnode:me}=M,be=re,pe;Nr(M,!1),re?(re.el=me.el,Q(M,re,G)):re=me,ce&&lu(ce),(pe=re.props&&re.props.onVnodeBeforeUpdate)&&on(pe,fe,re,me),Nr(M,!0);const Oe=uu(M),ve=M.subTree;M.subTree=Oe,y(ve,Oe,f(ve.el),L(ve),M,oe,ie),re.el=Oe.el,be===null&&V_(M,Oe.el),ue&&Nt(ue,oe),(pe=re.props&&re.props.onVnodeUpdated)&&Nt(()=>on(pe,fe,re,me),oe)}else{let re;const{el:ce,props:ue}=q,{bm:fe,m:me,parent:be}=M,pe=Eo(q);if(Nr(M,!1),fe&&lu(fe),!pe&&(re=ue&&ue.onVnodeBeforeMount)&&on(re,be,q),Nr(M,!0),ce&&le){const Oe=()=>{M.subTree=uu(M),le(ce,M.subTree,M,oe,null)};pe?q.type.__asyncLoader().then(()=>!M.isUnmounted&&Oe()):Oe()}else{const Oe=M.subTree=uu(M);y(null,Oe,K,ne,M,oe,ie),q.el=Oe.el}if(me&&Nt(me,oe),!pe&&(re=ue&&ue.onVnodeMounted)){const Oe=q;Nt(()=>on(re,be,Oe),oe)}(q.shapeFlag&256||be&&Eo(be.vnode)&&be.vnode.shapeFlag&256)&&M.a&&Nt(M.a,oe),M.isMounted=!0,q=K=ne=null}},te=M.effect=new xc(V,()=>qc(J),M.scope),J=M.update=()=>te.run();J.id=M.uid,Nr(M,!0),J()},Q=(M,q,K)=>{q.component=M;const ne=M.vnode.props;M.vnode=q,M.next=null,b0(M,q.props,ne,K),T0(M,q.children,K),ji(),fd(),Bi()},se=(M,q,K,ne,oe,ie,G,V,te=!1)=>{const J=M&&M.children,re=M?M.shapeFlag:0,ce=q.children,{patchFlag:ue,shapeFlag:fe}=q;if(ue>0){if(ue&128){B(J,ce,K,ne,oe,ie,G,V,te);return}else if(ue&256){X(J,ce,K,ne,oe,ie,G,V,te);return}}fe&8?(re&16&&D(J,oe,ie),ce!==J&&d(K,ce)):re&16?fe&16?B(J,ce,K,ne,oe,ie,G,V,te):D(J,oe,ie,!0):(re&8&&d(K,""),fe&16&&I(ce,K,ne,oe,ie,G,V,te))},X=(M,q,K,ne,oe,ie,G,V,te)=>{M=M||gi,q=q||gi;const J=M.length,re=q.length,ce=Math.min(J,re);let ue;for(ue=0;ue<ce;ue++){const fe=q[ue]=te?Zn(q[ue]):sn(q[ue]);y(M[ue],fe,K,null,oe,ie,G,V,te)}J>re?D(M,oe,ie,!0,!1,ce):I(q,K,ne,oe,ie,G,V,te,ce)},B=(M,q,K,ne,oe,ie,G,V,te)=>{let J=0;const re=q.length;let ce=M.length-1,ue=re-1;for(;J<=ce&&J<=ue;){const fe=M[J],me=q[J]=te?Zn(q[J]):sn(q[J]);if(Dr(fe,me))y(fe,me,K,null,oe,ie,G,V,te);else break;J++}for(;J<=ce&&J<=ue;){const fe=M[ce],me=q[ue]=te?Zn(q[ue]):sn(q[ue]);if(Dr(fe,me))y(fe,me,K,null,oe,ie,G,V,te);else break;ce--,ue--}if(J>ce){if(J<=ue){const fe=ue+1,me=fe<re?q[fe].el:ne;for(;J<=ue;)y(null,q[J]=te?Zn(q[J]):sn(q[J]),K,me,oe,ie,G,V,te),J++}}else if(J>ue)for(;J<=ce;)j(M[J],oe,ie,!0),J++;else{const fe=J,me=J,be=new Map;for(J=me;J<=ue;J++){const Ge=q[J]=te?Zn(q[J]):sn(q[J]);Ge.key!=null&&be.set(Ge.key,J)}let pe,Oe=0;const ve=ue-me+1;let qe=!1,mn=0;const At=new Array(ve);for(J=0;J<ve;J++)At[J]=0;for(J=fe;J<=ce;J++){const Ge=M[J];if(Oe>=ve){j(Ge,oe,ie,!0);continue}let lt;if(Ge.key!=null)lt=be.get(Ge.key);else for(pe=me;pe<=ue;pe++)if(At[pe-me]===0&&Dr(Ge,q[pe])){lt=pe;break}lt===void 0?j(Ge,oe,ie,!0):(At[lt-me]=J+1,lt>=mn?mn=lt:qe=!0,y(Ge,q[lt],K,null,oe,ie,G,V,te),Oe++)}const en=qe?A0(At):gi;for(pe=en.length-1,J=ve-1;J>=0;J--){const Ge=me+J,lt=q[Ge],vn=Ge+1<re?q[Ge+1].el:ne;At[J]===0?y(null,lt,K,vn,oe,ie,G,V,te):qe&&(pe<0||J!==en[pe]?x(lt,K,vn,2):pe--)}}},x=(M,q,K,ne,oe=null)=>{const{el:ie,type:G,transition:V,children:te,shapeFlag:J}=M;if(J&6){x(M.component.subTree,q,K,ne);return}if(J&128){M.suspense.move(q,K,ne);return}if(J&64){G.move(M,q,K,F);return}if(G===ot){r(ie,q,K);for(let ce=0;ce<te.length;ce++)x(te[ce],q,K,ne);r(M.anchor,q,K);return}if(G===Qs){E(M,q,K);return}if(ne!==2&&J&1&&V)if(ne===0)V.beforeEnter(ie),r(ie,q,K),Nt(()=>V.enter(ie),oe);else{const{leave:ce,delayLeave:ue,afterLeave:fe}=V,me=()=>r(ie,q,K),be=()=>{ce(ie,()=>{me(),fe&&fe()})};ue?ue(ie,me,be):be()}else r(ie,q,K)},j=(M,q,K,ne=!1,oe=!1)=>{const{type:ie,props:G,ref:V,children:te,dynamicChildren:J,shapeFlag:re,patchFlag:ce,dirs:ue}=M;if(V!=null&&Gu(V,null,K,M,!0),re&256){q.ctx.deactivate(M);return}const fe=re&1&&ue,me=!Eo(M);let be;if(me&&(be=G&&G.onVnodeBeforeUnmount)&&on(be,q,M),re&6)Y(M.component,K,ne);else{if(re&128){M.suspense.unmount(K,ne);return}fe&&kr(M,null,q,"beforeUnmount"),re&64?M.type.remove(M,q,K,oe,F,ne):J&&(ie!==ot||ce>0&&ce&64)?D(J,q,K,!1,!0):(ie===ot&&ce&384||!oe&&re&16)&&D(te,q,K),ne&&H(M)}(me&&(be=G&&G.onVnodeUnmounted)||fe)&&Nt(()=>{be&&on(be,q,M),fe&&kr(M,null,q,"unmounted")},K)},H=M=>{const{type:q,el:K,anchor:ne,transition:oe}=M;if(q===ot){ee(K,ne);return}if(q===Qs){p(M);return}const ie=()=>{i(K),oe&&!oe.persisted&&oe.afterLeave&&oe.afterLeave()};if(M.shapeFlag&1&&oe&&!oe.persisted){const{leave:G,delayLeave:V}=oe,te=()=>G(K,ie);V?V(M.el,ie,te):te()}else ie()},ee=(M,q)=>{let K;for(;M!==q;)K=c(M),i(M),M=K;i(q)},Y=(M,q,K)=>{const{bum:ne,scope:oe,update:ie,subTree:G,um:V}=M;ne&&lu(ne),oe.stop(),ie&&(ie.active=!1,j(G,M,q,K)),V&&Nt(V,q),Nt(()=>{M.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},D=(M,q,K,ne=!1,oe=!1,ie=0)=>{for(let G=ie;G<M.length;G++)j(M[G],q,K,ne,oe)},L=M=>M.shapeFlag&6?L(M.component.subTree):M.shapeFlag&128?M.suspense.next():c(M.anchor||M.el),$=(M,q,K)=>{M==null?q._vnode&&j(q._vnode,null,null,!0):y(q._vnode||null,M,q,null,null,null,K),fd(),og(),q._vnode=M},F={p:y,um:j,m:x,r:H,mt:P,mc:I,pc:se,pbc:A,n:L,o:t};let Z,le;return e&&([Z,le]=e(F)),{render:$,hydrate:Z,createApp:v0($,Z)}}function Nr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function I0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Sg(t,e,n=!1){const r=t.children,i=e.children;if(Ne(r)&&Ne(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Zn(i[o]),a.el=s.el),n||Sg(s,a)),a.type===Za&&(a.el=s.el)}}function A0(t){const e=t.slice(),n=[0];let r,i,o,s,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=e[s];return n}const C0=t=>t.__isTeleport,ot=Symbol.for("v-fgt"),Za=Symbol.for("v-txt"),Ut=Symbol.for("v-cmt"),Qs=Symbol.for("v-stc"),To=[];let Vt=null;function Be(t=!1){To.push(Vt=t?null:[])}function k0(){To.pop(),Vt=To[To.length-1]||null}let jo=1;function wd(t){jo+=t}function Og(t){return t.dynamicChildren=jo>0?Vt||gi:null,k0(),jo>0&&Vt&&Vt.push(t),t}function Ze(t,e,n,r,i,o){return Og(de(t,e,n,r,i,o,!0))}function Gr(t,e,n,r,i){return Og(Se(t,e,n,r,i,!0))}function Ii(t){return t?t.__v_isVNode===!0:!1}function Dr(t,e){return t.type===e.type&&t.key===e.key}const Xa="__vInternal",Ig=({key:t})=>t??null,Zs=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Mt(t)||Ye(t)||Ie(t)?{i:ht,r:t,k:e,f:!!n}:t:null);function de(t,e=null,n=null,r=0,i=null,o=t===ot?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ig(e),ref:e&&Zs(e),scopeId:lg,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ht};return a?(Wc(l,n),o&128&&t.normalize(l)):n&&(l.shapeFlag|=Mt(n)?8:16),jo>0&&!s&&Vt&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Vt.push(l),l}const Se=N0;function N0(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===K_)&&(t=Ut),Ii(t)){const a=xn(t,e,!0);return n&&Wc(a,n),jo>0&&!o&&Vt&&(a.shapeFlag&6?Vt[Vt.indexOf(t)]=a:Vt.push(a)),a.patchFlag|=-2,a}if(U0(t)&&(t=t.__vccOpts),e){e=x0(e);let{class:a,style:l}=e;a&&!Mt(a)&&(e.class=or(a)),Je(l)&&(Wp(l)&&!Ne(l)&&(l=bt({},l)),e.style=$a(l))}const s=Mt(t)?1:G_(t)?128:C0(t)?64:Je(t)?4:Ie(t)?2:0;return de(t,e,n,r,i,s,o,!0)}function x0(t){return t?Wp(t)||Xa in t?bt({},t):t:null}function xn(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=t,a=e?Fn(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Ig(a),ref:e&&e.ref?n&&i?Ne(i)?i.concat(Zs(e)):[i,Zs(e)]:Zs(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:s,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ot?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xn(t.ssContent),ssFallback:t.ssFallback&&xn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Xs(t=" ",e=0){return Se(Za,null,t,e)}function R0(t,e){const n=Se(Qs,null,t);return n.staticCount=e,n}function $r(t="",e=!1){return e?(Be(),Gr(Ut,null,t)):Se(Ut,null,t)}function sn(t){return t==null||typeof t=="boolean"?Se(Ut):Ne(t)?Se(ot,null,t.slice()):typeof t=="object"?Zn(t):Se(Za,null,String(t))}function Zn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xn(t)}function Wc(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Ne(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Wc(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Xa in e)?e._ctx=ht:i===3&&ht&&(ht.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ie(e)?(e={default:e,_ctx:ht},n=32):(e=String(e),r&64?(n=16,e=[Xs(e)]):n=8);t.children=e,t.shapeFlag|=n}function Fn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=or([e.class,r.class]));else if(i==="style")e.style=$a([e.style,r.style]);else if(Dc(i)){const o=e[i],s=r[i];s&&o!==s&&!(Ne(o)&&o.includes(s))&&(e[i]=o?[].concat(o,s):s)}else i!==""&&(e[i]=r[i])}return e}function on(t,e,n,r=null){Bt(t,e,7,[n,r])}const P0=yg();let L0=0;function M0(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||P0,o={uid:L0++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new kp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:bg(r,i),emitsOptions:ag(r,i),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:r.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=H_.bind(null,o),t.ce&&t.ce(o),o}let at=null;const D0=()=>at||ht;let zc,ui,Td="__VUE_INSTANCE_SETTERS__";(ui=qu()[Td])||(ui=qu()[Td]=[]),ui.push(t=>at=t),zc=t=>{ui.length>1?ui.forEach(e=>e(t)):ui[0](t)};const Ai=t=>{zc(t),t.scope.on()},Wr=()=>{at&&at.scope.off(),zc(null)};function Ag(t){return t.vnode.shapeFlag&4}let Bo=!1;function F0(t,e=!1){Bo=e;const{props:n,children:r}=t.vnode,i=Ag(t);_0(t,n,i,e),w0(t,r);const o=i?j0(t,e):void 0;return Bo=!1,o}function j0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=qa(new Proxy(t.ctx,c0));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?q0(t):null;Ai(t),ji();const o=ar(r,t,0,[t.props,i]);if(Bi(),Wr(),Jp(o)){if(o.then(Wr,Wr),e)return o.then(s=>{Sd(t,s,e)}).catch(s=>{Wa(s,t,0)});t.asyncDep=o}else Sd(t,o,e)}else Cg(t,e)}function Sd(t,e,n){Ie(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Je(e)&&(t.setupState=Gp(e)),Cg(t,n)}let Od;function Cg(t,e,n){const r=t.type;if(!t.render){if(!e&&Od&&!r.render){const i=r.template||Hc(t).template;if(i){const{isCustomElement:o,compilerOptions:s}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,u=bt(bt({isCustomElement:o,delimiters:a},s),l);r.render=Od(i,u)}}t.render=r.render||un}{Ai(t),ji();try{f0(t)}finally{Bi(),Wr()}}}function B0(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Lt(t,"get","$attrs"),e[n]}}))}function q0(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return B0(t)},slots:t.slots,emit:t.emit,expose:e}}function Ja(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Gp(qa(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wo)return wo[n](t)},has(e,n){return n in e||n in wo}}))}function U0(t){return Ie(t)&&"__vccOpts"in t}const He=(t,e)=>S_(t,e,Bo);function rr(t,e,n){const r=arguments.length;return r===2?Je(e)&&!Ne(e)?Ii(e)?Se(t,null,[e]):Se(t,e):Se(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ii(n)&&(n=[n]),Se(t,e,n))}const H0=Symbol.for("v-scx"),$0=()=>qt(H0),W0="3.3.9";function z0(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const V0=/^on[^a-z]/,K0=t=>V0.test(t),G0=t=>t.startsWith("onUpdate:"),Vc=Object.assign,Rn=Array.isArray,kg=t=>xg(t)==="[object Set]",Id=t=>xg(t)==="[object Date]",Ng=t=>typeof t=="function",qo=t=>typeof t=="string",Ad=t=>typeof t=="symbol",Yu=t=>t!==null&&typeof t=="object",Y0=Object.prototype.toString,xg=t=>Y0.call(t),Rg=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Q0=/\B([A-Z])/g,Kc=Rg(t=>t.replace(Q0,"-$1").toLowerCase()),Z0=Rg(t=>t.charAt(0).toUpperCase()+t.slice(1)),X0=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Cd=t=>{const e=parseFloat(t);return isNaN(e)?t:e},J0=t=>{const e=qo(t)?Number(t):NaN;return isNaN(e)?t:e},eb="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tb=z0(eb);function Pg(t){return!!t||t===""}function nb(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=el(t[r],e[r]);return n}function el(t,e){if(t===e)return!0;let n=Id(t),r=Id(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ad(t),r=Ad(e),n||r)return t===e;if(n=Rn(t),r=Rn(e),n||r)return n&&r?nb(t,e):!1;if(n=Yu(t),r=Yu(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const s in t){const a=t.hasOwnProperty(s),l=e.hasOwnProperty(s);if(a&&!l||!a&&l||!el(t[s],e[s]))return!1}}return String(t)===String(e)}function Lg(t,e){return t.findIndex(n=>el(n,e))}const rb="http://www.w3.org/2000/svg",Fr=typeof document<"u"?document:null,kd=Fr&&Fr.createElement("template"),ib={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Fr.createElementNS(rb,t):Fr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Fr.createTextNode(t),createComment:t=>Fr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Fr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{kd.innerHTML=r?`<svg>${t}</svg>`:t;const a=kd.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},$n="transition",so="animation",Uo=Symbol("_vtc"),Gc=(t,{slots:e})=>rr(J_,ob(t),e);Gc.displayName="Transition";const Mg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Gc.props=Vc({},cg,Mg);const xr=(t,e=[])=>{Rn(t)?t.forEach(n=>n(...e)):t&&t(...e)},Nd=t=>t?Rn(t)?t.some(e=>e.length>1):t.length>1:!1;function ob(t){const e={};for(const S in t)S in Mg||(e[S]=t[S]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:u=s,appearToClass:d=a,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:c=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,v=sb(i),y=v&&v[0],_=v&&v[1],{onBeforeEnter:m,onEnter:g,onEnterCancelled:E,onLeave:p,onLeaveCancelled:b,onBeforeAppear:C=m,onAppear:O=g,onAppearCancelled:I=E}=e,N=(S,k,P)=>{Rr(S,k?d:a),Rr(S,k?u:s),P&&P()},A=(S,k)=>{S._isLeaving=!1,Rr(S,f),Rr(S,h),Rr(S,c),k&&k()},T=S=>(k,P)=>{const U=S?O:g,z=()=>N(k,S,P);xr(U,[k,z]),xd(()=>{Rr(k,S?l:o),Wn(k,S?d:a),Nd(U)||Rd(k,r,y,z)})};return Vc(e,{onBeforeEnter(S){xr(m,[S]),Wn(S,o),Wn(S,s)},onBeforeAppear(S){xr(C,[S]),Wn(S,l),Wn(S,u)},onEnter:T(!1),onAppear:T(!0),onLeave(S,k){S._isLeaving=!0;const P=()=>A(S,k);Wn(S,f),ub(),Wn(S,c),xd(()=>{S._isLeaving&&(Rr(S,f),Wn(S,h),Nd(p)||Rd(S,r,_,P))}),xr(p,[S,P])},onEnterCancelled(S){N(S,!1),xr(E,[S])},onAppearCancelled(S){N(S,!0),xr(I,[S])},onLeaveCancelled(S){A(S),xr(b,[S])}})}function sb(t){if(t==null)return null;if(Yu(t))return[du(t.enter),du(t.leave)];{const e=du(t);return[e,e]}}function du(t){return J0(t)}function Wn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Uo]||(t[Uo]=new Set)).add(e)}function Rr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Uo];n&&(n.delete(e),n.size||(t[Uo]=void 0))}function xd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let ab=0;function Rd(t,e,n,r){const i=t._endId=++ab,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=lb(t,e);if(!s)return r();const u=s+"end";let d=0;const f=()=>{t.removeEventListener(u,c),o()},c=h=>{h.target===t&&++d>=l&&f()};setTimeout(()=>{d<l&&f()},a+1),t.addEventListener(u,c)}function lb(t,e){const n=window.getComputedStyle(t),r=v=>(n[v]||"").split(", "),i=r(`${$n}Delay`),o=r(`${$n}Duration`),s=Pd(i,o),a=r(`${so}Delay`),l=r(`${so}Duration`),u=Pd(a,l);let d=null,f=0,c=0;e===$n?s>0&&(d=$n,f=s,c=o.length):e===so?u>0&&(d=so,f=u,c=l.length):(f=Math.max(s,u),d=f>0?s>u?$n:so:null,c=d?d===$n?o.length:l.length:0);const h=d===$n&&/\b(transform|all)(,|$)/.test(r(`${$n}Property`).toString());return{type:d,timeout:f,propCount:c,hasTransform:h}}function Pd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Ld(n)+Ld(t[r])))}function Ld(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ub(){return document.body.offsetHeight}function cb(t,e,n){const r=t[Uo];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Yc=Symbol("_vod"),fb={beforeMount(t,{value:e},{transition:n}){t[Yc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ao(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ao(t,!0),r.enter(t)):r.leave(t,()=>{ao(t,!1)}):ao(t,e))},beforeUnmount(t,{value:e}){ao(t,e)}};function ao(t,e){t.style.display=e?t[Yc]:"none"}function db(t,e,n){const r=t.style,i=qo(n);if(n&&!i){if(e&&!qo(e))for(const o in e)n[o]==null&&Qu(r,o,"");for(const o in n)Qu(r,o,n[o])}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),Yc in t&&(r.display=o)}}const Md=/\s*!important$/;function Qu(t,e,n){if(Rn(n))n.forEach(r=>Qu(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=hb(t,e);Md.test(n)?t.setProperty(Kc(r),n.replace(Md,""),"important"):t[r]=n}}const Dd=["Webkit","Moz","ms"],hu={};function hb(t,e){const n=hu[e];if(n)return n;let r=Oi(e);if(r!=="filter"&&r in t)return hu[e]=r;r=Z0(r);for(let i=0;i<Dd.length;i++){const o=Dd[i]+r;if(o in t)return hu[e]=o}return e}const Fd="http://www.w3.org/1999/xlink";function pb(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Fd,e.slice(6,e.length)):t.setAttributeNS(Fd,e,n);else{const o=tb(e);n==null||o&&!Pg(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function gb(t,e,n,r,i,o,s){if(e==="innerHTML"||e==="textContent"){r&&s(r,i,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const u=a==="OPTION"?t.getAttribute("value"):t.value,d=n??"";u!==d&&(t.value=d),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Pg(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function jr(t,e,n,r){t.addEventListener(e,n,r)}function mb(t,e,n,r){t.removeEventListener(e,n,r)}const jd=Symbol("_vei");function vb(t,e,n,r,i=null){const o=t[jd]||(t[jd]={}),s=o[e];if(r&&s)s.value=r;else{const[a,l]=yb(e);if(r){const u=o[e]=Eb(r,i);jr(t,a,u,l)}else s&&(mb(t,a,s,l),o[e]=void 0)}}const Bd=/(?:Once|Passive|Capture)$/;function yb(t){let e;if(Bd.test(t)){e={};let r;for(;r=t.match(Bd);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Kc(t.slice(2)),e]}let pu=0;const _b=Promise.resolve(),bb=()=>pu||(_b.then(()=>pu=0),pu=Date.now());function Eb(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Bt(wb(r,n.value),e,5,[r])};return n.value=t,n.attached=bb(),n}function wb(t,e){if(Rn(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const qd=/^on[a-z]/,Tb=(t,e,n,r,i=!1,o,s,a,l)=>{e==="class"?cb(t,r,i):e==="style"?db(t,n,r):K0(e)?G0(e)||vb(t,e,n,r,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Sb(t,e,r,i))?gb(t,e,r,o,s,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),pb(t,e,r,i))};function Sb(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&qd.test(e)&&Ng(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||qd.test(e)&&qo(n)?!1:e in t}const fa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Rn(e)?n=>X0(e,n):e};function Ob(t){t.target.composing=!0}function Ud(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vi=Symbol("_assign"),Zu={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[vi]=fa(i);const o=r||i.props&&i.props.type==="number";jr(t,e?"change":"input",s=>{if(s.target.composing)return;let a=t.value;n&&(a=a.trim()),o&&(a=Cd(a)),t[vi](a)}),n&&jr(t,"change",()=>{t.value=t.value.trim()}),e||(jr(t,"compositionstart",Ob),jr(t,"compositionend",Ud),jr(t,"change",Ud))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},o){if(t[vi]=fa(o),t.composing)return;const s=i||t.type==="number"?Cd(t.value):t.value,a=e??"";s!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},Ib={deep:!0,created(t,e,n){t[vi]=fa(n),jr(t,"change",()=>{const r=t._modelValue,i=Ab(t),o=t.checked,s=t[vi];if(Rn(r)){const a=Lg(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const u=[...r];u.splice(a,1),s(u)}}else if(kg(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(Dg(t,o))})},mounted:Hd,beforeUpdate(t,e,n){t[vi]=fa(n),Hd(t,e,n)}};function Hd(t,{value:e,oldValue:n},r){t._modelValue=e,Rn(e)?t.checked=Lg(e,r.props.value)>-1:kg(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=el(e,Dg(t,!0)))}function Ab(t){return"_value"in t?t._value:t.value}function Dg(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Cb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},$d=(t,e)=>n=>{if(!("key"in n))return;const r=Kc(n.key);if(e.some(i=>i===r||Cb[i]===r))return t(n)},kb=Vc({patchProp:Tb},ib);let Wd;function Nb(){return Wd||(Wd=S0(kb))}const Fg=(...t)=>{const e=Nb().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=xb(r);if(!i)return;const o=e._component;!Ng(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},e};function xb(t){return qo(t)?document.querySelector(t):t}var Rb=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let jg;const tl=t=>jg=t,Bg=Symbol();function Xu(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var So;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(So||(So={}));function Pb(){const t=Np(!0),e=t.run(()=>$e({}));let n=[],r=[];const i=qa({install(o){tl(i),i._a=o,o.provide(Bg,i),o.config.globalProperties.$pinia=i,r.forEach(s=>n.push(s)),r=[]},use(o){return!this._a&&!Rb?r.push(o):n.push(o),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return i}const qg=()=>{};function zd(t,e,n,r=qg){t.push(e);const i=()=>{const o=t.indexOf(e);o>-1&&(t.splice(o,1),r())};return!n&&xp()&&Gy(i),i}function ci(t,...e){t.slice().forEach(n=>{n(...e)})}const Lb=t=>t();function Ju(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],i=t[n];Xu(i)&&Xu(r)&&t.hasOwnProperty(n)&&!Ye(r)&&!kn(r)?t[n]=Ju(i,r):t[n]=r}return t}const Mb=Symbol();function Db(t){return!Xu(t)||!t.hasOwnProperty(Mb)}const{assign:Yn}=Object;function Fb(t){return!!(Ye(t)&&t.effect)}function jb(t,e,n,r){const{state:i,actions:o,getters:s}=e,a=n.state.value[t];let l;function u(){a||(n.state.value[t]=i?i():{});const d=__(n.state.value[t]);return Yn(d,o,Object.keys(s||{}).reduce((f,c)=>(f[c]=qa(He(()=>{tl(n);const h=n._s.get(t);return s[c].call(h,h)})),f),{}))}return l=Ug(t,u,e,n,r,!0),l}function Ug(t,e,n={},r,i,o){let s;const a=Yn({actions:{}},n),l={deep:!0};let u,d,f=[],c=[],h;const v=r.state.value[t];!o&&!v&&(r.state.value[t]={}),$e({});let y;function _(I){let N;u=d=!1,typeof I=="function"?(I(r.state.value[t]),N={type:So.patchFunction,storeId:t,events:h}):(Ju(r.state.value[t],I),N={type:So.patchObject,payload:I,storeId:t,events:h});const A=y=Symbol();Kr().then(()=>{y===A&&(u=!0)}),d=!0,ci(f,N,r.state.value[t])}const m=o?function(){const{state:N}=n,A=N?N():{};this.$patch(T=>{Yn(T,A)})}:qg;function g(){s.stop(),f=[],c=[],r._s.delete(t)}function E(I,N){return function(){tl(r);const A=Array.from(arguments),T=[],S=[];function k(z){T.push(z)}function P(z){S.push(z)}ci(c,{args:A,name:I,store:b,after:k,onError:P});let U;try{U=N.apply(this&&this.$id===t?this:b,A)}catch(z){throw ci(S,z),z}return U instanceof Promise?U.then(z=>(ci(T,z),z)).catch(z=>(ci(S,z),Promise.reject(z))):(ci(T,U),U)}}const p={_p:r,$id:t,$onAction:zd.bind(null,c),$patch:_,$reset:m,$subscribe(I,N={}){const A=zd(f,I,N.detached,()=>T()),T=s.run(()=>lr(()=>r.state.value[t],S=>{(N.flush==="sync"?d:u)&&I({storeId:t,type:So.direct,events:h},S)},Yn({},l,N)));return A},$dispose:g},b=Jt(p);r._s.set(t,b);const O=(r._a&&r._a.runWithContext||Lb)(()=>r._e.run(()=>(s=Np()).run(e)));for(const I in O){const N=O[I];if(Ye(N)&&!Fb(N)||kn(N))o||(v&&Db(N)&&(Ye(N)?N.value=v[I]:Ju(N,v[I])),r.state.value[t][I]=N);else if(typeof N=="function"){const A=E(I,N);O[I]=A,a.actions[I]=N}}return Yn(b,O),Yn(we(b),O),Object.defineProperty(b,"$state",{get:()=>r.state.value[t],set:I=>{_(N=>{Yn(N,I)})}}),r._p.forEach(I=>{Yn(b,s.run(()=>I({store:b,app:r._a,pinia:r,options:a})))}),v&&o&&n.hydrate&&n.hydrate(b.$state,v),u=!0,d=!0,b}function Qc(t,e,n){let r,i;const o=typeof e=="function";typeof t=="string"?(r=t,i=o?n:e):(i=t,r=t.id);function s(a,l){const u=y0();return a=a||(u?qt(Bg,null):null),a&&tl(a),a=jg,a._s.has(r)||(o?Ug(r,e,i,a):jb(r,i,a)),a._s.get(r)}return s.$id=r,s}function Ci(t){{t=we(t);const e={};for(const n in t){const r=t[n];(Ye(r)||kn(r))&&(e[n]=w_(t,n))}return e}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const di=typeof window<"u";function Bb(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Fe=Object.assign;function gu(t,e){const n={};for(const r in e){const i=e[r];n[r]=Zt(i)?i.map(t):t(i)}return n}const Oo=()=>{},Zt=Array.isArray,qb=/\/$/,Ub=t=>t.replace(qb,"");function mu(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=zb(r??e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function Hb(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Vd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function $b(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ki(e.matched[r],n.matched[i])&&Hg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ki(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Hg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Wb(t[n],e[n]))return!1;return!0}function Wb(t,e){return Zt(t)?Kd(t,e):Zt(e)?Kd(e,t):t===e}function Kd(t,e){return Zt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function zb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,s,a;for(s=0;s<r.length;s++)if(a=r[s],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(s-(s===r.length?1:0)).join("/")}var Ho;(function(t){t.pop="pop",t.push="push"})(Ho||(Ho={}));var Io;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Io||(Io={}));function Vb(t){if(!t)if(di){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Ub(t)}const Kb=/^[^#]+#/;function Gb(t,e){return t.replace(Kb,"#")+e}function Yb(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const nl=()=>({left:window.pageXOffset,top:window.pageYOffset});function Qb(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=Yb(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Gd(t,e){return(history.state?history.state.position-e:-1)+t}const ec=new Map;function Zb(t,e){ec.set(t,e)}function Xb(t){const e=ec.get(t);return ec.delete(t),e}let Jb=()=>location.protocol+"//"+location.host;function $g(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Vd(l,"")}return Vd(n,t)+r+i}function e1(t,e,n,r){let i=[],o=[],s=null;const a=({state:c})=>{const h=$g(t,location),v=n.value,y=e.value;let _=0;if(c){if(n.value=h,e.value=c,s&&s===v){s=null;return}_=y?c.position-y.position:0}else r(h);i.forEach(m=>{m(n.value,v,{delta:_,type:Ho.pop,direction:_?_>0?Io.forward:Io.back:Io.unknown})})};function l(){s=n.value}function u(c){i.push(c);const h=()=>{const v=i.indexOf(c);v>-1&&i.splice(v,1)};return o.push(h),h}function d(){const{history:c}=window;c.state&&c.replaceState(Fe({},c.state,{scroll:nl()}),"")}function f(){for(const c of o)c();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:u,destroy:f}}function Yd(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?nl():null}}function t1(t){const{history:e,location:n}=window,r={value:$g(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,u,d){const f=t.indexOf("#"),c=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+l:Jb()+t+l;try{e[d?"replaceState":"pushState"](u,"",c),i.value=u}catch(h){console.error(h),n[d?"replace":"assign"](c)}}function s(l,u){const d=Fe({},e.state,Yd(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});o(l,d,!0),r.value=l}function a(l,u){const d=Fe({},i.value,e.state,{forward:l,scroll:nl()});o(d.current,d,!0);const f=Fe({},Yd(r.value,l,null),{position:d.position+1},u);o(l,f,!1),r.value=l}return{location:r,state:i,push:a,replace:s}}function n1(t){t=Vb(t);const e=t1(t),n=e1(t,e.state,e.location,e.replace);function r(o,s=!0){s||n.pauseListeners(),history.go(o)}const i=Fe({location:"",base:t,go:r,createHref:Gb.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function r1(t){return typeof t=="string"||t&&typeof t=="object"}function Wg(t){return typeof t=="string"||typeof t=="symbol"}const zn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},zg=Symbol("");var Qd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Qd||(Qd={}));function Ni(t,e){return Fe(new Error,{type:t,[zg]:!0},e)}function wn(t,e){return t instanceof Error&&zg in t&&(e==null||!!(t.type&e))}const Zd="[^/]+?",i1={sensitive:!1,strict:!1,start:!0,end:!0},o1=/[.+*?^${}()[\]/\\]/g;function s1(t,e){const n=Fe({},i1,e),r=[];let i=n.start?"^":"";const o=[];for(const u of t){const d=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let f=0;f<u.length;f++){const c=u[f];let h=40+(n.sensitive?.25:0);if(c.type===0)f||(i+="/"),i+=c.value.replace(o1,"\\$&"),h+=40;else if(c.type===1){const{value:v,repeatable:y,optional:_,regexp:m}=c;o.push({name:v,repeatable:y,optional:_});const g=m||Zd;if(g!==Zd){h+=10;try{new RegExp(`(${g})`)}catch(p){throw new Error(`Invalid custom RegExp for param "${v}" (${g}): `+p.message)}}let E=y?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;f||(E=_&&u.length<2?`(?:/${E})`:"/"+E),_&&(E+="?"),i+=E,h+=20,_&&(h+=-8),y&&(h+=-20),g===".*"&&(h+=-50)}d.push(h)}r.push(d)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function a(u){const d=u.match(s),f={};if(!d)return null;for(let c=1;c<d.length;c++){const h=d[c]||"",v=o[c-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function l(u){let d="",f=!1;for(const c of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const h of c)if(h.type===0)d+=h.value;else if(h.type===1){const{value:v,repeatable:y,optional:_}=h,m=v in u?u[v]:"";if(Zt(m)&&!y)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const g=Zt(m)?m.join("/"):m;if(!g)if(_)c.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);d+=g}}return d||"/"}return{re:s,score:r,keys:o,parse:a,stringify:l}}function a1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function l1(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=a1(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Xd(r))return 1;if(Xd(i))return-1}return i.length-r.length}function Xd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const u1={type:0,value:""},c1=/[a-zA-Z0-9_]/;function f1(t){if(!t)return[[]];if(t==="/")return[[u1]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${u}": ${h}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a=0,l,u="",d="";function f(){u&&(n===0?o.push({type:0,value:u}):n===1||n===2||n===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function c(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&f(),s()):l===":"?(f(),n=1):c();break;case 4:c(),n=r;break;case 1:l==="("?n=2:c1.test(l)?c():(f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:n=3:d+=l;break;case 3:f(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),f(),s(),i}function d1(t,e,n){const r=s1(f1(t.path),n),i=Fe(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function h1(t,e){const n=[],r=new Map;e=th({strict:!1,end:!0,sensitive:!1},e);function i(d){return r.get(d)}function o(d,f,c){const h=!c,v=p1(d);v.aliasOf=c&&c.record;const y=th(e,d),_=[v];if("alias"in d){const E=typeof d.alias=="string"?[d.alias]:d.alias;for(const p of E)_.push(Fe({},v,{components:c?c.record.components:v.components,path:p,aliasOf:c?c.record:v}))}let m,g;for(const E of _){const{path:p}=E;if(f&&p[0]!=="/"){const b=f.record.path,C=b[b.length-1]==="/"?"":"/";E.path=f.record.path+(p&&C+p)}if(m=d1(E,f,y),c?c.alias.push(m):(g=g||m,g!==m&&g.alias.push(m),h&&d.name&&!eh(m)&&s(d.name)),v.children){const b=v.children;for(let C=0;C<b.length;C++)o(b[C],m,c&&c.children[C])}c=c||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&l(m)}return g?()=>{s(g)}:Oo}function s(d){if(Wg(d)){const f=r.get(d);f&&(r.delete(d),n.splice(n.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=n.indexOf(d);f>-1&&(n.splice(f,1),d.record.name&&r.delete(d.record.name),d.children.forEach(s),d.alias.forEach(s))}}function a(){return n}function l(d){let f=0;for(;f<n.length&&l1(d,n[f])>=0&&(d.record.path!==n[f].record.path||!Vg(d,n[f]));)f++;n.splice(f,0,d),d.record.name&&!eh(d)&&r.set(d.record.name,d)}function u(d,f){let c,h={},v,y;if("name"in d&&d.name){if(c=r.get(d.name),!c)throw Ni(1,{location:d});y=c.record.name,h=Fe(Jd(f.params,c.keys.filter(g=>!g.optional).map(g=>g.name)),d.params&&Jd(d.params,c.keys.map(g=>g.name))),v=c.stringify(h)}else if("path"in d)v=d.path,c=n.find(g=>g.re.test(v)),c&&(h=c.parse(v),y=c.record.name);else{if(c=f.name?r.get(f.name):n.find(g=>g.re.test(f.path)),!c)throw Ni(1,{location:d,currentLocation:f});y=c.record.name,h=Fe({},f.params,d.params),v=c.stringify(h)}const _=[];let m=c;for(;m;)_.unshift(m.record),m=m.parent;return{name:y,path:v,params:h,matched:_,meta:m1(_)}}return t.forEach(d=>o(d)),{addRoute:o,resolve:u,removeRoute:s,getRoutes:a,getRecordMatcher:i}}function Jd(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function p1(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:g1(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function g1(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function eh(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function m1(t){return t.reduce((e,n)=>Fe(e,n.meta),{})}function th(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Vg(t,e){return e.children.some(n=>n===t||Vg(t,n))}const Kg=/#/g,v1=/&/g,y1=/\//g,_1=/=/g,b1=/\?/g,Gg=/\+/g,E1=/%5B/g,w1=/%5D/g,Yg=/%5E/g,T1=/%60/g,Qg=/%7B/g,S1=/%7C/g,Zg=/%7D/g,O1=/%20/g;function Zc(t){return encodeURI(""+t).replace(S1,"|").replace(E1,"[").replace(w1,"]")}function I1(t){return Zc(t).replace(Qg,"{").replace(Zg,"}").replace(Yg,"^")}function tc(t){return Zc(t).replace(Gg,"%2B").replace(O1,"+").replace(Kg,"%23").replace(v1,"%26").replace(T1,"`").replace(Qg,"{").replace(Zg,"}").replace(Yg,"^")}function A1(t){return tc(t).replace(_1,"%3D")}function C1(t){return Zc(t).replace(Kg,"%23").replace(b1,"%3F")}function k1(t){return t==null?"":C1(t).replace(y1,"%2F")}function da(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function N1(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(Gg," "),s=o.indexOf("="),a=da(s<0?o:o.slice(0,s)),l=s<0?null:da(o.slice(s+1));if(a in e){let u=e[a];Zt(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function nh(t){let e="";for(let n in t){const r=t[n];if(n=A1(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Zt(r)?r.map(o=>o&&tc(o)):[r&&tc(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function x1(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Zt(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const R1=Symbol(""),rh=Symbol(""),rl=Symbol(""),Xc=Symbol(""),nc=Symbol("");function lo(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Xn(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,a)=>{const l=f=>{f===!1?a(Ni(4,{from:n,to:e})):f instanceof Error?a(f):r1(f)?a(Ni(2,{from:e,to:f})):(o&&r.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),s())},u=t.call(r&&r.instances[i],e,n,l);let d=Promise.resolve(u);t.length<3&&(d=d.then(l)),d.catch(f=>a(f))})}function vu(t,e,n,r){const i=[];for(const o of t)for(const s in o.components){let a=o.components[s];if(!(e!=="beforeRouteEnter"&&!o.instances[s]))if(P1(a)){const u=(a.__vccOpts||a)[e];u&&i.push(Xn(u,n,r,o,s))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${o.path}"`));const d=Bb(u)?u.default:u;o.components[s]=d;const c=(d.__vccOpts||d)[e];return c&&Xn(c,n,r,o,s)()}))}}return i}function P1(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ih(t){const e=qt(rl),n=qt(Xc),r=He(()=>e.resolve(ye(t.to))),i=He(()=>{const{matched:l}=r.value,{length:u}=l,d=l[u-1],f=n.matched;if(!d||!f.length)return-1;const c=f.findIndex(ki.bind(null,d));if(c>-1)return c;const h=oh(l[u-2]);return u>1&&oh(d)===h&&f[f.length-1].path!==h?f.findIndex(ki.bind(null,l[u-2])):c}),o=He(()=>i.value>-1&&F1(n.params,r.value.params)),s=He(()=>i.value>-1&&i.value===n.matched.length-1&&Hg(n.params,r.value.params));function a(l={}){return D1(l)?e[ye(t.replace)?"replace":"push"](ye(t.to)).catch(Oo):Promise.resolve()}return{route:r,href:He(()=>r.value.href),isActive:o,isExactActive:s,navigate:a}}const L1=yr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ih,setup(t,{slots:e}){const n=Jt(ih(t)),{options:r}=qt(rl),i=He(()=>({[sh(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[sh(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:rr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),M1=L1;function D1(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function F1(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Zt(i)||i.length!==r.length||r.some((o,s)=>o!==i[s]))return!1}return!0}function oh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const sh=(t,e,n)=>t??e??n,j1=yr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=qt(nc),i=He(()=>t.route||r.value),o=qt(rh,0),s=He(()=>{let u=ye(o);const{matched:d}=i.value;let f;for(;(f=d[u])&&!f.components;)u++;return u}),a=He(()=>i.value.matched[s.value]);Ys(rh,He(()=>s.value+1)),Ys(R1,a),Ys(nc,i);const l=$e();return lr(()=>[l.value,a.value,t.name],([u,d,f],[c,h,v])=>{d&&(d.instances[f]=u,h&&h!==d&&u&&u===c&&(d.leaveGuards.size||(d.leaveGuards=h.leaveGuards),d.updateGuards.size||(d.updateGuards=h.updateGuards))),u&&d&&(!h||!ki(d,h)||!c)&&(d.enterCallbacks[f]||[]).forEach(y=>y(u))},{flush:"post"}),()=>{const u=i.value,d=t.name,f=a.value,c=f&&f.components[d];if(!c)return ah(n.default,{Component:c,route:u});const h=f.props[d],v=h?h===!0?u.params:typeof h=="function"?h(u):h:null,_=rr(c,Fe({},v,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(f.instances[d]=null)},ref:l}));return ah(n.default,{Component:_,route:u})||_}}});function ah(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const Xg=j1;function B1(t){const e=h1(t.routes,t),n=t.parseQuery||N1,r=t.stringifyQuery||nh,i=t.history,o=lo(),s=lo(),a=lo(),l=m_(zn);let u=zn;di&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=gu.bind(null,L=>""+L),f=gu.bind(null,k1),c=gu.bind(null,da);function h(L,$){let F,Z;return Wg(L)?(F=e.getRecordMatcher(L),Z=$):Z=L,e.addRoute(Z,F)}function v(L){const $=e.getRecordMatcher(L);$&&e.removeRoute($)}function y(){return e.getRoutes().map(L=>L.record)}function _(L){return!!e.getRecordMatcher(L)}function m(L,$){if($=Fe({},$||l.value),typeof L=="string"){const K=mu(n,L,$.path),ne=e.resolve({path:K.path},$),oe=i.createHref(K.fullPath);return Fe(K,ne,{params:c(ne.params),hash:da(K.hash),redirectedFrom:void 0,href:oe})}let F;if("path"in L)F=Fe({},L,{path:mu(n,L.path,$.path).path});else{const K=Fe({},L.params);for(const ne in K)K[ne]==null&&delete K[ne];F=Fe({},L,{params:f(K)}),$.params=f($.params)}const Z=e.resolve(F,$),le=L.hash||"";Z.params=d(c(Z.params));const M=Hb(r,Fe({},L,{hash:I1(le),path:Z.path})),q=i.createHref(M);return Fe({fullPath:M,hash:le,query:r===nh?x1(L.query):L.query||{}},Z,{redirectedFrom:void 0,href:q})}function g(L){return typeof L=="string"?mu(n,L,l.value.path):Fe({},L)}function E(L,$){if(u!==L)return Ni(8,{from:$,to:L})}function p(L){return O(L)}function b(L){return p(Fe(g(L),{replace:!0}))}function C(L){const $=L.matched[L.matched.length-1];if($&&$.redirect){const{redirect:F}=$;let Z=typeof F=="function"?F(L):F;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=g(Z):{path:Z},Z.params={}),Fe({query:L.query,hash:L.hash,params:"path"in Z?{}:L.params},Z)}}function O(L,$){const F=u=m(L),Z=l.value,le=L.state,M=L.force,q=L.replace===!0,K=C(F);if(K)return O(Fe(g(K),{state:typeof K=="object"?Fe({},le,K.state):le,force:M,replace:q}),$||F);const ne=F;ne.redirectedFrom=$;let oe;return!M&&$b(r,Z,F)&&(oe=Ni(16,{to:ne,from:Z}),x(Z,Z,!0,!1)),(oe?Promise.resolve(oe):A(ne,Z)).catch(ie=>wn(ie)?wn(ie,2)?ie:B(ie):se(ie,ne,Z)).then(ie=>{if(ie){if(wn(ie,2))return O(Fe({replace:q},g(ie.to),{state:typeof ie.to=="object"?Fe({},le,ie.to.state):le,force:M}),$||ne)}else ie=S(ne,Z,!0,q,le);return T(ne,Z,ie),ie})}function I(L,$){const F=E(L,$);return F?Promise.reject(F):Promise.resolve()}function N(L){const $=ee.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(L):L()}function A(L,$){let F;const[Z,le,M]=q1(L,$);F=vu(Z.reverse(),"beforeRouteLeave",L,$);for(const K of Z)K.leaveGuards.forEach(ne=>{F.push(Xn(ne,L,$))});const q=I.bind(null,L,$);return F.push(q),D(F).then(()=>{F=[];for(const K of o.list())F.push(Xn(K,L,$));return F.push(q),D(F)}).then(()=>{F=vu(le,"beforeRouteUpdate",L,$);for(const K of le)K.updateGuards.forEach(ne=>{F.push(Xn(ne,L,$))});return F.push(q),D(F)}).then(()=>{F=[];for(const K of M)if(K.beforeEnter)if(Zt(K.beforeEnter))for(const ne of K.beforeEnter)F.push(Xn(ne,L,$));else F.push(Xn(K.beforeEnter,L,$));return F.push(q),D(F)}).then(()=>(L.matched.forEach(K=>K.enterCallbacks={}),F=vu(M,"beforeRouteEnter",L,$),F.push(q),D(F))).then(()=>{F=[];for(const K of s.list())F.push(Xn(K,L,$));return F.push(q),D(F)}).catch(K=>wn(K,8)?K:Promise.reject(K))}function T(L,$,F){a.list().forEach(Z=>N(()=>Z(L,$,F)))}function S(L,$,F,Z,le){const M=E(L,$);if(M)return M;const q=$===zn,K=di?history.state:{};F&&(Z||q?i.replace(L.fullPath,Fe({scroll:q&&K&&K.scroll},le)):i.push(L.fullPath,le)),l.value=L,x(L,$,F,q),B()}let k;function P(){k||(k=i.listen((L,$,F)=>{if(!Y.listening)return;const Z=m(L),le=C(Z);if(le){O(Fe(le,{replace:!0}),Z).catch(Oo);return}u=Z;const M=l.value;di&&Zb(Gd(M.fullPath,F.delta),nl()),A(Z,M).catch(q=>wn(q,12)?q:wn(q,2)?(O(q.to,Z).then(K=>{wn(K,20)&&!F.delta&&F.type===Ho.pop&&i.go(-1,!1)}).catch(Oo),Promise.reject()):(F.delta&&i.go(-F.delta,!1),se(q,Z,M))).then(q=>{q=q||S(Z,M,!1),q&&(F.delta&&!wn(q,8)?i.go(-F.delta,!1):F.type===Ho.pop&&wn(q,20)&&i.go(-1,!1)),T(Z,M,q)}).catch(Oo)}))}let U=lo(),z=lo(),Q;function se(L,$,F){B(L);const Z=z.list();return Z.length?Z.forEach(le=>le(L,$,F)):console.error(L),Promise.reject(L)}function X(){return Q&&l.value!==zn?Promise.resolve():new Promise((L,$)=>{U.add([L,$])})}function B(L){return Q||(Q=!L,P(),U.list().forEach(([$,F])=>L?F(L):$()),U.reset()),L}function x(L,$,F,Z){const{scrollBehavior:le}=t;if(!di||!le)return Promise.resolve();const M=!F&&Xb(Gd(L.fullPath,0))||(Z||!F)&&history.state&&history.state.scroll||null;return Kr().then(()=>le(L,$,M)).then(q=>q&&Qb(q)).catch(q=>se(q,L,$))}const j=L=>i.go(L);let H;const ee=new Set,Y={currentRoute:l,listening:!0,addRoute:h,removeRoute:v,hasRoute:_,getRoutes:y,resolve:m,options:t,push:p,replace:b,go:j,back:()=>j(-1),forward:()=>j(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:z.add,isReady:X,install(L){const $=this;L.component("RouterLink",M1),L.component("RouterView",Xg),L.config.globalProperties.$router=$,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>ye(l)}),di&&!H&&l.value===zn&&(H=!0,p(i.location).catch(le=>{}));const F={};for(const le in zn)Object.defineProperty(F,le,{get:()=>l.value[le],enumerable:!0});L.provide(rl,$),L.provide(Xc,Hp(F)),L.provide(nc,l);const Z=L.unmount;ee.add(L),L.unmount=function(){ee.delete(L),ee.size<1&&(u=zn,k&&k(),k=null,l.value=zn,H=!1,Q=!1),Z()}}};function D(L){return L.reduce(($,F)=>$.then(()=>N(F)),Promise.resolve())}return Y}function q1(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const a=e.matched[s];a&&(t.matched.find(u=>ki(u,a))?r.push(a):n.push(a));const l=t.matched[s];l&&(e.matched.find(u=>ki(u,l))||i.push(l))}return[n,r,i]}function Jc(){return qt(rl)}function Jg(){return qt(Xc)}const gn=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},U1={},H1={xmlns:"http://www.w3.org/2000/svg",fill:"currentColor","data-name":"레이어 1",width:"30",viewBox:"0 8 48 60",x:"0px",y:"0px"},$1=de("path",{d:"M5.29,12.67H30.2a1,1,0,0,0,0-2H5.29a1,1,0,0,0,0,2Z"},null,-1),W1=de("path",{d:"M23,21.77H5.28a1,1,0,0,0,0,2H23a1,1,0,0,0,0-2Z"},null,-1),z1=de("path",{d:"M18,33.36H5.2a1,1,0,0,0,0,2H18a1,1,0,0,0,0-2Z"},null,-1),V1=de("path",{d:"M43.32,14.65c-2-3.88-6.72-4.92-6.92-5a.94.94,0,0,0-.5,0,1,1,0,0,0-.91,1v15.4a6.19,6.19,0,1,0,2,4.55c0-.11,0-.21,0-.32s0-.05,0-.07V12a8.22,8.22,0,0,1,4.55,3.62c1,1.89.87,4.28-.34,7.1A1,1,0,0,0,41.72,24a.92.92,0,0,0,.4.08,1,1,0,0,0,.91-.6C44.49,20.06,44.59,17.1,43.32,14.65ZM30.78,34.86A4.21,4.21,0,1,1,35,30.66,4.2,4.2,0,0,1,30.78,34.86Z"},null,-1),K1=[$1,W1,z1,V1];function G1(t,e){return Be(),Ze("svg",H1,K1)}const Y1=gn(U1,[["render",G1]]),Q1={},Z1={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"20",height:"20",viewBox:"0 0 256 256","xml:space":"preserve"},X1=de("g",{fill:"currentColor",style:{stroke:"none","stroke-width":"0","stroke-dasharray":"none","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10",opacity:"1"},transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},[de("path",{d:"M 45 84.334 L 6.802 46.136 C 2.416 41.75 0 35.918 0 29.716 c 0 -6.203 2.416 -12.034 6.802 -16.42 c 4.386 -4.386 10.217 -6.802 16.42 -6.802 c 6.203 0 12.034 2.416 16.42 6.802 L 45 18.654 l 5.358 -5.358 c 4.386 -4.386 10.218 -6.802 16.42 -6.802 c 6.203 0 12.034 2.416 16.42 6.802 l 0 0 l 0 0 C 87.585 17.682 90 23.513 90 29.716 c 0 6.203 -2.415 12.034 -6.802 16.42 L 45 84.334 z M 23.222 10.494 c -5.134 0 -9.961 2 -13.592 5.63 S 4 24.582 4 29.716 s 2 9.961 5.63 13.592 L 45 78.678 l 35.37 -35.37 C 84.001 39.677 86 34.85 86 29.716 s -1.999 -9.961 -5.63 -13.592 l 0 0 c -3.631 -3.63 -8.457 -5.63 -13.592 -5.63 c -5.134 0 -9.961 2 -13.592 5.63 L 45 24.311 l -8.187 -8.187 C 33.183 12.494 28.356 10.494 23.222 10.494 z",style:{stroke:"none","stroke-width":"1","stroke-dasharray":"none","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10","fill-rule":"nonzero",opacity:"1"},transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})],-1),J1=[X1];function eE(t,e){return Be(),Ze("svg",Z1,J1)}const tE=gn(Q1,[["render",eE]]),nE={},rE={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"15",height:"15",viewBox:"0 0 256 256","xml:space":"preserve"},iE=de("g",{fill:"currentColor",style:{stroke:"none","stroke-width":"0","stroke-dasharray":"none","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10","fill-rule":"nonzero",opacity:"1"},transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},[de("path",{d:"M 65.75 90 c 0.896 0 1.792 -0.342 2.475 -1.025 c 1.367 -1.366 1.367 -3.583 0 -4.949 L 29.2 45 L 68.225 5.975 c 1.367 -1.367 1.367 -3.583 0 -4.95 c -1.367 -1.366 -3.583 -1.366 -4.95 0 l -41.5 41.5 c -1.367 1.366 -1.367 3.583 0 4.949 l 41.5 41.5 C 63.958 89.658 64.854 90 65.75 90 z",style:{stroke:"none","stroke-width":"1","stroke-dasharray":"none","stroke-linecap":"butt","stroke-linejoin":"miter","stroke-miterlimit":"10","fill-rule":"nonzero",opacity:"1"},transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})],-1),oE=[iE];function sE(t,e){return Be(),Ze("svg",rE,oE)}const aE=gn(nE,[["render",sE]]),lE={},uE={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","enable-background":"new 0 0 20 20",height:"20px",version:"1.1",viewBox:"0 0 48 48",width:"48px","xml:space":"preserve"},cE=de("g",{fill:"currentColor",id:"Expanded"},[de("g",null,[de("g",null,[de("path",{d:"M26,48h-4c-1.654,0-3-1.346-3-3v-3.724c-1.28-0.37-2.512-0.881-3.681-1.527l-2.634,2.635     c-1.134,1.134-3.109,1.132-4.243,0l-2.829-2.828c-0.567-0.566-0.879-1.32-0.879-2.121s0.312-1.555,0.879-2.121l2.635-2.636     c-0.645-1.166-1.156-2.398-1.525-3.679H3c-1.654,0-3-1.346-3-3v-4c0-0.802,0.312-1.555,0.878-2.121     c0.567-0.566,1.32-0.879,2.122-0.879h3.724c0.37-1.278,0.88-2.511,1.526-3.679l-2.634-2.635c-1.17-1.17-1.17-3.072,0-4.242     l2.828-2.829c1.133-1.132,3.109-1.134,4.243,0l2.635,2.635C16.49,7.604,17.722,7.093,19,6.724V3c0-1.654,1.346-3,3-3h4     c1.654,0,3,1.346,3,3v3.724c1.28,0.37,2.512,0.881,3.678,1.525l2.635-2.635c1.134-1.132,3.109-1.134,4.243,0l2.829,2.828     c0.567,0.566,0.879,1.32,0.879,2.121s-0.312,1.555-0.879,2.121l-2.634,2.635c0.646,1.168,1.157,2.4,1.526,3.68H45     c1.654,0,3,1.346,3,3v4c0,0.802-0.312,1.555-0.878,2.121s-1.32,0.879-2.122,0.879h-3.724c-0.37,1.28-0.881,2.513-1.526,3.68     l2.634,2.635c1.17,1.17,1.17,3.072,0,4.242l-2.828,2.829c-1.134,1.133-3.109,1.133-4.243,0L32.68,39.75     c-1.168,0.646-2.401,1.156-3.679,1.526V45C29,46.654,27.655,48,26,48z M15.157,37.498c0.179,0,0.36,0.048,0.521,0.146     c1.416,0.866,2.949,1.502,4.557,1.891C20.684,39.644,21,40.045,21,40.507V45c0,0.552,0.449,1,1,1h4c0.551,0,1-0.448,1-1v-4.493     c0-0.462,0.316-0.863,0.765-0.972c1.606-0.389,3.139-1.023,4.556-1.89c0.396-0.241,0.902-0.18,1.229,0.146l3.178,3.179     c0.375,0.374,1.039,0.376,1.415,0l2.828-2.829c0.39-0.39,0.39-1.024,0-1.414l-3.179-3.179c-0.327-0.326-0.387-0.835-0.146-1.229     c0.865-1.414,1.5-2.947,1.889-4.556c0.108-0.449,0.51-0.766,0.972-0.766H45c0.267,0,0.519-0.104,0.708-0.293     C45.896,26.518,46,26.267,46,25.999v-4c0-0.552-0.449-1-1-1h-4.493c-0.462,0-0.864-0.316-0.972-0.766     c-0.388-1.607-1.023-3.14-1.889-4.556c-0.241-0.394-0.181-0.901,0.146-1.229l3.179-3.179c0.186-0.187,0.293-0.444,0.293-0.707     s-0.107-0.521-0.293-0.707l-2.829-2.828c-0.378-0.377-1.037-0.377-1.415,0l-3.179,3.179c-0.326,0.328-0.833,0.389-1.229,0.146     c-1.413-0.864-2.945-1.5-4.554-1.889C27.317,8.356,27,7.955,27,7.493V3c0-0.552-0.449-1-1-1h-4c-0.551,0-1,0.448-1,1v4.493     c0,0.462-0.316,0.863-0.765,0.972c-1.606,0.388-3.139,1.023-4.556,1.889c-0.395,0.241-0.902,0.181-1.228-0.146l-3.179-3.179     c-0.378-0.377-1.037-0.377-1.415,0L7.03,9.857c-0.39,0.39-0.39,1.024,0,1.414l3.179,3.179c0.327,0.326,0.387,0.835,0.146,1.229     c-0.866,1.416-1.501,2.949-1.889,4.555c-0.108,0.449-0.51,0.766-0.972,0.766H3c-0.267,0-0.519,0.104-0.708,0.293     C2.104,21.48,2,21.731,2,21.999v4c0,0.552,0.449,1,1,1h4.493c0.462,0,0.864,0.316,0.972,0.766     c0.389,1.608,1.024,3.141,1.889,4.555c0.241,0.394,0.181,0.901-0.146,1.229l-3.179,3.18c-0.186,0.187-0.293,0.444-0.293,0.707     s0.107,0.521,0.293,0.707l2.829,2.828c0.377,0.377,1.037,0.377,1.415,0l3.178-3.179C14.643,37.598,14.898,37.498,15.157,37.498z"})]),de("g",null,[de("path",{d:"M24,34c-5.514,0-10-4.486-10-10s4.486-10,10-10s10,4.486,10,10S29.515,34,24,34z M24,16c-4.411,0-8,3.589-8,8     s3.589,8,8,8s8-3.589,8-8S28.412,16,24,16z"})])])],-1),fE=[cE];function dE(t,e){return Be(),Ze("svg",uE,fE)}const hE=gn(lE,[["render",dE]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(t,e){if(!t)throw qi(e)},qi=function(t){return new Error("Firebase Database ("+em.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ef={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let c=(a&15)<<2|u>>6,h=u&63;l||(h=64,s||(c=64)),r.push(n[d],n[f],n[c],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new gE;const c=o<<2|a>>4;if(r.push(c),u!==64){const h=a<<4&240|u>>2;if(r.push(h),f!==64){const v=u<<6&192|f;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nm=function(t){const e=tm(t);return ef.encodeByteArray(e,!0)},ha=function(t){return nm(t).replace(/\./g,"")},pa=function(t){try{return ef.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){return rm(void 0,t)}function rm(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!vE(n)||(t[n]=rm(t[n],e[n]));return t}function vE(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=()=>yE().__FIREBASE_DEFAULTS__,bE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pa(t[1]);return e&&JSON.parse(e)},tf=()=>{try{return _E()||bE()||EE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},im=t=>{var e,n;return(n=(e=tf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wE=t=>{const e=im(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},om=()=>{var t;return(t=tf())===null||t===void 0?void 0:t.config},sm=t=>{var e;return(e=tf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ha(JSON.stringify(n)),ha(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nf(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function SE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function am(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OE(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lm(){return em.NODE_ADMIN===!0}function IE(){try{return typeof indexedDB=="object"}catch{return!1}}function AE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="FirebaseError";class br extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=CE,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,as.prototype.create)}}class as{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?kE(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new br(i,a,r)}}function kE(t,e){return t.replace(NE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){return JSON.parse(t)}function tt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=$o(pa(o[0])||""),n=$o(pa(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},xE=function(t){const e=um(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},RE=function(t){const e=um(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function xi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function rc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ga(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ma(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(lh(o)&&lh(s)){if(!ma(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _o(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)r[f]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let f=0;f<16;f++)r[f]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let f=16;f<80;f++){const c=r[f-3]^r[f-8]^r[f-14]^r[f-16];r[f]=(c<<1|c>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=a^o&(s^a),d=1518500249):(u=o^s^a,d=1859775393):f<60?(u=o&s|a&(o|s),d=2400959708):(u=o^s^a,d=3395469782);const c=(i<<5|i>>>27)+u+l+d+r[f]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=c}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function LE(t,e){const n=new ME(t,e);return n.subscribe.bind(n)}class ME{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DE(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yu),i.error===void 0&&(i.error=yu),i.complete===void 0&&(i.complete=yu);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yu(){}function rf(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,he(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ol=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(t){return t&&t._delegate?t._delegate:t}class Yr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new il;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qE(e))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pr){return this.instances.has(e)}getOptions(e=Pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:BE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pr){return this.component?this.component.multipleInstances?e:Pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BE(t){return t===Pr?void 0:t}function qE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ue||(Ue={}));const HE={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},$E=Ue.INFO,WE={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},zE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class of{constructor(e){this.name=e,this._logLevel=$E,this._logHandler=zE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const VE=(t,e)=>e.some(n=>t instanceof n);let uh,ch;function KE(){return uh||(uh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GE(){return ch||(ch=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cm=new WeakMap,ic=new WeakMap,fm=new WeakMap,_u=new WeakMap,sf=new WeakMap;function YE(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ur(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&cm.set(n,t)}).catch(()=>{}),sf.set(e,t),e}function QE(t){if(ic.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ic.set(t,e)}let oc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ic.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZE(t){oc=t(oc)}function XE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bu(this),e,...n);return fm.set(r,e.sort?e.sort():[e]),ur(r)}:GE().includes(t)?function(...e){return t.apply(bu(this),e),ur(cm.get(this))}:function(...e){return ur(t.apply(bu(this),e))}}function JE(t){return typeof t=="function"?XE(t):(t instanceof IDBTransaction&&QE(t),VE(t,KE())?new Proxy(t,oc):t)}function ur(t){if(t instanceof IDBRequest)return YE(t);if(_u.has(t))return _u.get(t);const e=JE(t);return e!==t&&(_u.set(t,e),sf.set(e,t)),e}const bu=t=>sf.get(t);function ew(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ur(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ur(s.result),l.oldVersion,l.newVersion,ur(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const tw=["get","getKey","getAll","getAllKeys","count"],nw=["put","add","delete","clear"],Eu=new Map;function fh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Eu.get(e))return Eu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tw.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Eu.set(e,o),o}ZE(t=>({...t,get:(e,n,r)=>fh(e,n)||t.get(e,n,r),has:(e,n)=>!!fh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const sc="@firebase/app",dh="0.9.24";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new of("@firebase/app"),ow="@firebase/app-compat",sw="@firebase/analytics-compat",aw="@firebase/analytics",lw="@firebase/app-check-compat",uw="@firebase/app-check",cw="@firebase/auth",fw="@firebase/auth-compat",dw="@firebase/database",hw="@firebase/database-compat",pw="@firebase/functions",gw="@firebase/functions-compat",mw="@firebase/installations",vw="@firebase/installations-compat",yw="@firebase/messaging",_w="@firebase/messaging-compat",bw="@firebase/performance",Ew="@firebase/performance-compat",ww="@firebase/remote-config",Tw="@firebase/remote-config-compat",Sw="@firebase/storage",Ow="@firebase/storage-compat",Iw="@firebase/firestore",Aw="@firebase/firestore-compat",Cw="firebase",kw="10.7.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac="[DEFAULT]",Nw={[sc]:"fire-core",[ow]:"fire-core-compat",[aw]:"fire-analytics",[sw]:"fire-analytics-compat",[uw]:"fire-app-check",[lw]:"fire-app-check-compat",[cw]:"fire-auth",[fw]:"fire-auth-compat",[dw]:"fire-rtdb",[hw]:"fire-rtdb-compat",[pw]:"fire-fn",[gw]:"fire-fn-compat",[mw]:"fire-iid",[vw]:"fire-iid-compat",[yw]:"fire-fcm",[_w]:"fire-fcm-compat",[bw]:"fire-perf",[Ew]:"fire-perf-compat",[ww]:"fire-rc",[Tw]:"fire-rc-compat",[Sw]:"fire-gcs",[Ow]:"fire-gcs-compat",[Iw]:"fire-fst",[Aw]:"fire-fst-compat","fire-js":"fire-js",[Cw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new Map,lc=new Map;function xw(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ri(t){const e=t.name;if(lc.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;lc.set(e,t);for(const n of va.values())xw(n,t);return!0}function af(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},cr=new as("app","Firebase",Rw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=kw;function dm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ac,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cr.create("bad-app-name",{appName:String(i)});if(n||(n=om()),!n)throw cr.create("no-options");const o=va.get(i);if(o){if(ma(n,o.options)&&ma(r,o.config))return o;throw cr.create("duplicate-app",{appName:i})}const s=new UE(i);for(const l of lc.values())s.addComponent(l);const a=new Pw(n,r,s);return va.set(i,a),a}function hm(t=ac){const e=va.get(t);if(!e&&t===ac&&om())return dm();if(!e)throw cr.create("no-app",{appName:t});return e}function fr(t,e,n){var r;let i=(r=Nw[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(a.join(" "));return}Ri(new Yr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="firebase-heartbeat-database",Mw=1,Wo="firebase-heartbeat-store";let wu=null;function pm(){return wu||(wu=ew(Lw,Mw,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Wo)}}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),wu}async function Dw(t){try{return await(await pm()).transaction(Wo).objectStore(Wo).get(gm(t))}catch(e){if(e instanceof br)Qr.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(n.message)}}}async function hh(t,e){try{const r=(await pm()).transaction(Wo,"readwrite");await r.objectStore(Wo).put(e,gm(t)),await r.done}catch(n){if(n instanceof br)Qr.warn(n.message);else{const r=cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qr.warn(r.message)}}}function gm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=1024,jw=30*24*60*60*1e3;class Bw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ph();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=jw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ph(),{heartbeatsToSend:r,unsentEntries:i}=qw(this._heartbeatsCache.heartbeats),o=ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function ph(){return new Date().toISOString().substring(0,10)}function qw(t,e=Fw){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),gh(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Uw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IE()?AE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Dw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function gh(t){return ha(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t){Ri(new Yr("platform-logger",e=>new rw(e),"PRIVATE")),Ri(new Yr("heartbeat",e=>new Bw(e),"PRIVATE")),fr(sc,dh,t),fr(sc,dh,"esm2017"),fr("fire-js","")}Hw("");var $w="firebase",Ww="10.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr($w,Ww,"app");function lf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zw=mm,vm=new as("auth","Firebase",mm());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new of("@firebase/auth");function Vw(t,...e){ya.logLevel<=Ue.WARN&&ya.warn(`Auth (${Hi}): ${t}`,...e)}function Js(t,...e){ya.logLevel<=Ue.ERROR&&ya.error(`Auth (${Hi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(t,...e){throw uf(t,...e)}function cn(t,...e){return uf(t,...e)}function Kw(t,e,n){const r=Object.assign(Object.assign({},zw()),{[e]:n});return new as("auth","Firebase",r).create(e,{appName:t.name})}function uf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vm.create(t,...e)}function Ee(t,e,...n){if(!t)throw uf(e,...n)}function Sn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Js(e),new Error(e)}function Pn(t,e){t||Sn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Gw(){return mh()==="http:"||mh()==="https:"}function mh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gw()||SE()||"connection"in navigator)?navigator.onLine:!0}function Qw(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pn(n>e,"Short delay should be less than long delay!"),this.isMobile=nf()||am()}get(){return Yw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(t,e){Pn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new ls(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Er(t,e,n,r,i={}){return _m(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Ui(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),ym.fetch()(bm(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function _m(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Zw),e);try{const i=new eT(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw qs(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qs(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw qs(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw qs(t,"user-disabled",s);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Kw(t,d,u);Xt(t,d)}}catch(i){if(i instanceof br)throw i;Xt(t,"network-request-failed",{message:String(i)})}}async function sl(t,e,n,r,i={}){const o=await Er(t,e,n,r,i);return"mfaPendingCredential"in o&&Xt(t,"multi-factor-auth-required",{_serverResponse:o}),o}function bm(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?cf(t.config,i):`${t.config.apiScheme}://${i}`}function Jw(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eT{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cn(this.auth,"network-request-failed")),Xw.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qs(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cn(t,e,r);return i.customData._tokenResponse=n,i}function vh(t){return t!==void 0&&t.enterprise!==void 0}class tT{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function nT(t,e){return Er(t,"GET","/v2/recaptchaConfig",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rT(t,e){return Er(t,"POST","/v1/accounts:delete",e)}async function iT(t,e){return Er(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oT(t,e=!1){const n=It(t),r=await n.getIdToken(e),i=ff(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ao(Tu(i.auth_time)),issuedAtTime:Ao(Tu(i.iat)),expirationTime:Ao(Tu(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Tu(t){return Number(t)*1e3}function ff(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Js("JWT malformed, contained fewer than 3 sections"),null;try{const i=pa(n);return i?JSON.parse(i):(Js("Failed to decode base64 JWT payload"),null)}catch(i){return Js("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sT(t){const e=ff(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof br&&aT(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aT({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _a(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zo(t,iT(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?fT(o.providerUserInfo):[],a=cT(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function uT(t){const e=It(t);await _a(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cT(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fT(t){return t.map(e=>{var{providerId:n}=e,r=lf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT(t,e){const n=await _m(t,{},async()=>{const r=Ui({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=bm(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ym.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function hT(t,e){return Er(t,"POST","/v2/accounts:revokeToken",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ee(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await dT(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Vo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return Sn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=lf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await zo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oT(this,e)}reload(){return uT(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _a(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await zo(this,rT(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,c=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=n.photoURL)!==null&&s!==void 0?s:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:p,isAnonymous:b,providerData:C,stsTokenManager:O}=n;Ee(E&&O,e,"internal-error");const I=Vo.fromJSON(this.name,O);Ee(typeof E=="string",e,"internal-error"),Vn(f,e.name),Vn(c,e.name),Ee(typeof p=="boolean",e,"internal-error"),Ee(typeof b=="boolean",e,"internal-error"),Vn(h,e.name),Vn(v,e.name),Vn(y,e.name),Vn(_,e.name),Vn(m,e.name),Vn(g,e.name);const N=new zr({uid:E,auth:e,email:c,emailVerified:p,displayName:f,isAnonymous:b,photoURL:v,phoneNumber:h,tenantId:y,stsTokenManager:I,createdAt:m,lastLoginAt:g});return C&&Array.isArray(C)&&(N.providerData=C.map(A=>Object.assign({},A))),_&&(N._redirectEventId=_),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vo;i.updateFromServerResponse(n);const o=new zr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _a(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Map;function On(t){Pn(t instanceof Function,"Expected a class definition");let e=yh.get(t);return e?(Pn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yh.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wm.type="NONE";const _h=wm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t,e,n){return`firebase:${t}:${e}:${n}`}class yi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ea(this.userKey,i.apiKey,o),this.fullPersistenceKey=ea("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yi(On(_h),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||On(_h);const s=ea(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(s);if(d){const f=zr._fromJSON(e,d);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new yi(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new yi(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Om(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tm(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Am(e))return"Blackberry";if(Cm(e))return"Webos";if(df(e))return"Safari";if((e.includes("chrome/")||Sm(e))&&!e.includes("edge/"))return"Chrome";if(Im(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Tm(t=Et()){return/firefox\//i.test(t)}function df(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Sm(t=Et()){return/crios\//i.test(t)}function Om(t=Et()){return/iemobile/i.test(t)}function Im(t=Et()){return/android/i.test(t)}function Am(t=Et()){return/blackberry/i.test(t)}function Cm(t=Et()){return/webos/i.test(t)}function al(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pT(t=Et()){var e;return al(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gT(){return OE()&&document.documentMode===10}function km(t=Et()){return al(t)||Im(t)||Cm(t)||Am(t)||/windows phone/i.test(t)||Om(t)}function mT(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t,e=[]){let n;switch(t){case"Browser":n=bh(Et());break;case"Worker":n=`${bh(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(t,e={}){return Er(t,"GET","/v2/passwordPolicy",ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=6;class bT{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:_T,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eh(this),this.idTokenSubscription=new Eh(this),this.beforeStateQueue=new vT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=On(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await yi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _a(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Qw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?It(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(On(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yT(this),n=new bT(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new as("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await hT(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&On(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await yi.create(this,[On(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Vw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $i(t){return It(t)}class Eh{constructor(e){this.auth=e,this.observer=null,this.addObserver=LE(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function xm(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=cn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",wT().appendChild(r)})}function TT(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const ST="https://www.google.com/recaptcha/enterprise.js?render=",OT="recaptcha-enterprise",IT="NO_RECAPTCHA";class AT{constructor(e){this.type=OT,this.auth=$i(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{nT(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new tT(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;vh(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(IT)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&vh(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}xm(ST+a).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}async function wh(t,e,n,r=!1){const i=new AT(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Th(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await wh(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await wh(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t,e){const n=af(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ma(o,e??{}))return i;Xt(i,"already-initialized")}return n.initialize({options:e})}function kT(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(On);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NT(t,e,n){const r=$i(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=Rm(e),{host:s,port:a}=xT(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||RT()}function Rm(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xT(t){const e=Rm(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Sh(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Sh(s)}}}function Sh(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function RT(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Sn("not implemented")}_getIdTokenResponse(e){return Sn("not implemented")}_linkToIdToken(e,n){return Sn("not implemented")}_getReauthenticationResolver(e){return Sn("not implemented")}}async function PT(t,e){return Er(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LT(t,e){return sl(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(t,e){return sl(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}async function DT(t,e){return sl(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko extends hf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ko(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ko(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,n,"signInWithPassword",LT);case"emailLink":return MT(e,{email:this._email,oobCode:this._password});default:Xt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,r,"signUpPassword",PT);case"emailLink":return DT(e,{idToken:n,email:this._email,oobCode:this._password});default:Xt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _i(t,e){return sl(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT="http://localhost";class Zr extends hf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=lf(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Zr(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return _i(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_i(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_i(e,n)}buildRequest(){const e={requestUri:FT,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ui(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BT(t){const e=yo(_o(t)).link,n=e?yo(_o(e)).deep_link_id:null,r=yo(_o(t)).deep_link_id;return(r?yo(_o(r)).link:null)||r||n||e||t}class pf{constructor(e){var n,r,i,o,s,a;const l=yo(_o(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=jT((i=l.mode)!==null&&i!==void 0?i:null);Ee(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=BT(e);try{return new pf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.providerId=Wi.PROVIDER_ID}static credential(e,n){return Ko._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=pf.parseLink(n);return Ee(r,"argument-error"),Ko._fromEmailAndCode(e,r.code,r.tenantId)}}Wi.PROVIDER_ID="password";Wi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Pm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn extends us{constructor(){super("facebook.com")}static credential(e){return Zr._fromParams({providerId:Jn.PROVIDER_ID,signInMethod:Jn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jn.credentialFromTaggedObject(e)}static credentialFromError(e){return Jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jn.credential(e.oauthAccessToken)}catch{return null}}}Jn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends us{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zr._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return er.credential(n,r)}catch{return null}}}er.GOOGLE_SIGN_IN_METHOD="google.com";er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends us{constructor(){super("github.com")}static credential(e){return Zr._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends us{constructor(){super("twitter.com")}static credential(e,n){return Zr._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.TWITTER_SIGN_IN_METHOD="twitter.com";nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await zr._fromIdTokenResponse(e,r,i),s=Oh(r);return new Pi({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Oh(r);return new Pi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Oh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends br{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ba.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ba(e,n,r,i)}}function Lm(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ba._fromErrorAndOperation(t,o,e,r):o})}async function qT(t,e,n=!1){const r=await zo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await zo(t,Lm(r,i,e,t),n);Ee(o.idToken,r,"internal-error");const s=ff(o.idToken);Ee(s,r,"internal-error");const{sub:a}=s;return Ee(t.uid===a,r,"user-mismatch"),Pi._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Xt(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mm(t,e,n=!1){const r="signIn",i=await Lm(t,r,e),o=await Pi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function HT(t,e){return Mm($i(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $T(t){const e=$i(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function WT(t,e,n){return HT(It(t),Wi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$T(t),r})}function zT(t,e,n,r){return It(t).onIdTokenChanged(e,n,r)}function VT(t,e,n){return It(t).beforeAuthStateChanged(e,n)}function KT(t,e,n,r){return It(t).onAuthStateChanged(e,n,r)}function GT(t){return It(t).signOut()}const Ea="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ea,"1"),this.storage.removeItem(Ea),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){const t=Et();return df(t)||al(t)}const QT=1e3,ZT=10;class Fm extends Dm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=YT()&&mT(),this.fallbackToPolling=km(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);gT()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZT):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},QT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fm.type="LOCAL";const XT=Fm;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends Dm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jm.type="SESSION";const Bm=jm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ll(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await JT(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ll.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=gf("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const c=f;if(c.data.eventId===u)switch(c.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(c.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return window}function tS(t){fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){return typeof fn().WorkerGlobalScope<"u"&&typeof fn().importScripts=="function"}async function nS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rS(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iS(){return qm()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="firebaseLocalStorageDb",oS=1,wa="firebaseLocalStorage",Hm="fbase_key";class cs{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ul(t,e){return t.transaction([wa],e?"readwrite":"readonly").objectStore(wa)}function sS(){const t=indexedDB.deleteDatabase(Um);return new cs(t).toPromise()}function cc(){const t=indexedDB.open(Um,oS);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wa,{keyPath:Hm})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wa)?e(r):(r.close(),await sS(),e(await cc()))})})}async function Ih(t,e,n){const r=ul(t,!0).put({[Hm]:e,value:n});return new cs(r).toPromise()}async function aS(t,e){const n=ul(t,!1).get(e),r=await new cs(n).toPromise();return r===void 0?null:r.value}function Ah(t,e){const n=ul(t,!0).delete(e);return new cs(n).toPromise()}const lS=800,uS=3;class $m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uS)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ll._getInstance(iS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nS(),!this.activeServiceWorker)return;this.sender=new eS(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cc();return await Ih(e,Ea,"1"),await Ah(e,Ea),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ih(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aS(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ah(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=ul(i,!1).getAll();return new cs(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$m.type="LOCAL";const cS=$m;new ls(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e){return e?On(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends hf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _i(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _i(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _i(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dS(t){return Mm(t.auth,new mf(t),t.bypassAuthState)}function hS(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),UT(n,new mf(t),t.bypassAuthState)}async function pS(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),qT(n,new mf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dS;case"linkViaPopup":case"linkViaRedirect":return pS;case"reauthViaPopup":case"reauthViaRedirect":return hS;default:Xt(this.auth,"internal-error")}}resolve(e){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new ls(2e3,1e4);class hi extends Wm{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Pn(this.filter.length===1,"Popup operations only handle one event");const e=gf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gS.get())};e()}}hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="pendingRedirect",ta=new Map;class vS extends Wm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ta.get(this.auth._key());if(!e){try{const r=await yS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ta.set(this.auth._key(),e)}return this.bypassAuthState||ta.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yS(t,e){const n=ES(e),r=bS(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _S(t,e){ta.set(t._key(),e)}function bS(t){return On(t._redirectPersistence)}function ES(t){return ea(mS,t.config.apiKey,t.name)}async function wS(t,e,n=!1){const r=$i(t),i=fS(r,e),s=await new vS(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=10*60*1e3;class SS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OS(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zm(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ch(e))}saveEventToCache(e){this.cachedEventUids.add(Ch(e)),this.lastProcessedEventTime=Date.now()}}function Ch(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zm({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OS(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zm(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IS(t,e={}){return Er(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CS=/^https?/;async function kS(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IS(t);for(const n of e)try{if(NS(n))return}catch{}Xt(t,"unauthorized-domain")}function NS(t){const e=uc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!CS.test(n))return!1;if(AS.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=new ls(3e4,6e4);function kh(){const t=fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function RS(t){return new Promise((e,n)=>{var r,i,o;function s(){kh(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kh(),n(cn(t,"network-request-failed"))},timeout:xS.get()})}if(!((i=(r=fn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=fn().gapi)===null||o===void 0)&&o.load)s();else{const a=TT("iframefcb");return fn()[a]=()=>{gapi.load?s():n(cn(t,"network-request-failed"))},xm(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw na=null,e})}let na=null;function PS(t){return na=na||RS(t),na}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS=new ls(5e3,15e3),MS="__/auth/iframe",DS="emulator/auth/iframe",FS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BS(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cf(e,DS):`https://${t.config.authDomain}/${MS}`,r={apiKey:e.apiKey,appName:t.name,v:Hi},i=jS.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ui(r).slice(1)}`}async function qS(t){const e=await PS(t),n=fn().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:BS(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FS,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=cn(t,"network-request-failed"),a=fn().setTimeout(()=>{o(s)},LS.get());function l(){fn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HS=500,$S=600,WS="_blank",zS="http://localhost";class Nh{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VS(t,e,n,r=HS,i=$S){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},US),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Et().toLowerCase();n&&(a=Sm(u)?WS:n),Tm(u)&&(e=e||zS,l.scrollbars="yes");const d=Object.entries(l).reduce((c,[h,v])=>`${c}${h}=${v},`,"");if(pT(u)&&a!=="_self")return KS(e||"",a),new Nh(null);const f=window.open(e||"",a,d);Ee(f,t,"popup-blocked");try{f.focus()}catch{}return new Nh(f)}function KS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="__/auth/handler",YS="emulator/auth/handler",QS=encodeURIComponent("fac");async function xh(t,e,n,r,i,o){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hi,eventId:i};if(e instanceof Pm){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",rc(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(o||{}))s[d]=f}if(e instanceof us){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${QS}=${encodeURIComponent(l)}`:"";return`${ZS(t)}?${Ui(a).slice(1)}${u}`}function ZS({config:t}){return t.emulator?cf(t,YS):`https://${t.authDomain}/${GS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="webStorageSupport";class XS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bm,this._completeRedirectFn=wS,this._overrideRedirectResult=_S}async _openPopup(e,n,r,i){var o;Pn((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await xh(e,n,r,uc(),i);return VS(e,s,gf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await xh(e,n,r,uc(),i);return tS(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Pn(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qS(e),r=new SS(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Su,{type:Su},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Su];s!==void 0&&n(!!s),Xt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kS(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return km()||df()||al()}}const JS=XS;var Rh="@firebase/auth",Ph="1.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function nO(t){Ri(new Yr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nm(t)},u=new ET(r,i,o,l);return kT(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ri(new Yr("auth-internal",e=>{const n=$i(e.getProvider("auth").getImmediate());return(r=>new eO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(Rh,Ph,tO(t)),fr(Rh,Ph,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=5*60,iO=sm("authIdTokenMaxAge")||rO;let Lh=null;const oO=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>iO)return;const i=n==null?void 0:n.token;Lh!==i&&(Lh=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function sO(t=hm()){const e=af(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CT(t,{popupRedirectResolver:JS,persistence:[cS,XT,Bm]}),r=sm("authTokenSyncURL");if(r){const o=oO(r);VT(n,o,()=>o(n.currentUser)),zT(n,s=>o(s))}const i=im("auth");return i&&NT(n,`http://${i}`),n}nO("Browser");const Mh="@firebase/database",Dh="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm="";function aO(t){Vm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:$o(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return jn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new lO(e)}}catch{}return new uO},qr=Km("localStorage"),fc=Km("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new of("@firebase/database"),cO=function(){let t=1;return function(){return t++}}(),Gm=function(t){const e=FE(t),n=new PE;n.update(e);const r=n.digest();return ef.encodeByteArray(r)},fs=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=fs.apply(null,r):typeof r=="object"?e+=tt(r):e+=r,e+=" "}return e};let Vr=null,Fh=!0;const fO=function(t,e){he(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(bi.logLevel=Ue.VERBOSE,Vr=bi.log.bind(bi),e&&fc.set("logging_enabled",!0)):typeof t=="function"?Vr=t:(Vr=null,fc.remove("logging_enabled"))},yt=function(...t){if(Fh===!0&&(Fh=!1,Vr===null&&fc.get("logging_enabled")===!0&&fO(!0)),Vr){const e=fs.apply(null,t);Vr(e)}},ds=function(t){return function(...e){yt(t,...e)}},dc=function(...t){const e="FIREBASE INTERNAL ERROR: "+fs(...t);bi.error(e)},Ln=function(...t){const e=`FIREBASE FATAL ERROR: ${fs(...t)}`;throw bi.error(e),new Error(e)},Pt=function(...t){const e="FIREBASE WARNING: "+fs(...t);bi.warn(e)},dO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ym=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hO=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Li="[MIN_NAME]",Xr="[MAX_NAME]",zi=function(t,e){if(t===e)return 0;if(t===Li||e===Xr)return-1;if(e===Li||t===Xr)return 1;{const n=jh(t),r=jh(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},pO=function(t,e){return t===e?0:t<e?-1:1},uo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tt(e))},vf=function(t){if(typeof t!="object"||t===null)return tt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=tt(e[r]),n+=":",n+=vf(t[e[r]]);return n+="}",n},Qm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Dt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Zm=function(t){he(!Ym(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const d=u.join("");let f="";for(l=0;l<64;l+=8){let c=parseInt(d.substr(l,8),2).toString(16);c.length===1&&(c="0"+c),f=f+c}return f.toLowerCase()},gO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function vO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const yO=new RegExp("^-?(0*)\\d{1,10}$"),_O=-2147483648,bO=2147483647,jh=function(t){if(yO.test(t)){const e=Number(t);if(e>=_O&&e<=bO)return e}return null},Vi=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},EO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Co=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pt(e)}}class Ei{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ei.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="5",Xm="v",Jm="s",ev="r",tv="f",nv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rv="ls",iv="p",hc="ac",ov="websocket",sv="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function SO(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function lv(t,e,n){he(typeof e=="string","typeof type must == string"),he(typeof n=="object","typeof params must == object");let r;if(e===ov)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sv)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);SO(t)&&(n.ns=t.namespace);const i=[];return Dt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.counters_={}}incrementCounter(e,n=1){jn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return mE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou={},Iu={};function _f(t){const e=t.toString();return Ou[e]||(Ou[e]=new OO),Ou[e]}function IO(t,e){const n=t.toString();return Iu[n]||(Iu[n]=e()),Iu[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Vi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="start",CO="close",kO="pLPCommand",NO="pRTLPCB",uv="id",cv="pw",fv="ser",xO="cb",RO="seg",PO="ts",LO="d",MO="dframe",dv=1870,hv=30,DO=dv-hv,FO=25e3,jO=3e4;class pi{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ds(e),this.stats_=_f(n),this.urlFn=l=>(this.appCheckToken&&(l[hc]=this.appCheckToken),lv(n,sv,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new AO(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jO)),hO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bf((...o)=>{const[s,a,l,u,d]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===Bh)this.id=a,this.password=l;else if(s===CO)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Bh]="t",r[fv]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[xO]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Xm]=yf,this.transportSessionId&&(r[Jm]=this.transportSessionId),this.lastSessionId&&(r[rv]=this.lastSessionId),this.applicationId&&(r[iv]=this.applicationId),this.appCheckToken&&(r[hc]=this.appCheckToken),typeof location<"u"&&location.hostname&&nv.test(location.hostname)&&(r[ev]=tv);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pi.forceAllow_=!0}static forceDisallow(){pi.forceDisallow_=!0}static isAvailable(){return pi.forceAllow_?!0:!pi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gO()&&!mO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nm(n),i=Qm(r,DO);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[MO]="t",r[uv]=e,r[cv]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=tt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class bf{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cO(),window[kO+this.uniqueCallbackIdentifier]=e,window[NO+this.uniqueCallbackIdentifier]=n,this.myIFrame=bf.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){yt("frame writing exception"),a.stack&&yt(a.stack),yt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[uv]=this.myID,e[cv]=this.myPW,e[fv]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+hv+r.length<=dv;){const s=this.pendingSegs.shift();r=r+"&"+RO+i+"="+s.seg+"&"+PO+i+"="+s.ts+"&"+LO+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(FO)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=16384,qO=45e3;let Ta=null;typeof MozWebSocket<"u"?Ta=MozWebSocket:typeof WebSocket<"u"&&(Ta=WebSocket);class zt{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ds(this.connId),this.stats_=_f(n),this.connURL=zt.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[Xm]=yf,typeof location<"u"&&location.hostname&&nv.test(location.hostname)&&(s[ev]=tv),n&&(s[Jm]=n),r&&(s[rv]=r),i&&(s[hc]=i),o&&(s[iv]=o),lv(e,ov,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qr.set("previous_websocket_failure",!0);try{let r;lm(),this.mySock=new Ta(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){zt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ta!==null&&!zt.forceDisallow_}static previouslyFailed(){return qr.isInMemoryStorage||qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){qr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=$o(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=tt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Qm(n,BO);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qO))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}zt.responsesRequiredToBeHealthy=2;zt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[pi,zt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=zt&&zt.isAvailable();let r=n&&!zt.previouslyFailed();if(e.webSocketOnly&&(n||Pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zt];else{const i=this.transports_=[];for(const o of Go.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Go.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Go.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=6e4,HO=5e3,$O=10*1024,WO=100*1024,Au="t",qh="d",zO="s",Uh="r",VO="e",Hh="o",$h="a",Wh="n",zh="p",KO="h";class GO{constructor(e,n,r,i,o,s,a,l,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ds("c:"+this.id+":"),this.transportManager_=new Go(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Co(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$O?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Au in e){const n=e[Au];n===$h?this.upgradeIfSecondaryHealthy_():n===Uh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Hh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=uo("t",e),r=uo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$h,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Wh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=uo("t",e),r=uo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=uo(Au,e);if(qh in e){const r=e[qh];if(n===KO){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Wh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===zO?this.onConnectionShutdown_(r):n===Uh?this.onReset_(r):n===VO?dc("Server Error: "+r):n===Hh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):dc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yf!==r&&Pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Co(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Co(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zh,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){he(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends gv{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!nf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sa}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=32,Kh=768;class We{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Pe(){return new We("")}function ke(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gr(t){return t.pieces_.length-t.pieceNum_}function ze(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new We(t.pieces_,e)}function mv(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function vv(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function yv(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new We(e,0)}function nt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof We)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new We(n,0)}function Ce(t){return t.pieceNum_>=t.pieces_.length}function St(t,e){const n=ke(t),r=ke(e);if(n===null)return e;if(n===r)return St(ze(t),ze(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _v(t,e){if(gr(t)!==gr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Kt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(gr(t)>gr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class QO{constructor(e,n){this.errorPrefix_=n,this.parts_=vv(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ol(this.parts_[r]);bv(this)}}function ZO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ol(e),bv(t)}function XO(t){const e=t.parts_.pop();t.byteLength_-=ol(e),t.parts_.length>0&&(t.byteLength_-=1)}function bv(t){if(t.byteLength_>Kh)throw new Error(t.errorPrefix_+"has a key path longer than "+Kh+" bytes ("+t.byteLength_+").");if(t.parts_.length>Vh)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Vh+") or object contains a cycle "+Lr(t))}function Lr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef extends gv{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Ef}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=1e3,JO=60*5*1e3,Gh=30*1e3,eI=1.3,tI=3e4,nI="server_kill",Yh=3;class Nn extends pv{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Nn.nextPersistentConnectionId_++,this.log_=ds("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=co,this.maxReconnectDelay_=JO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!lm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ef.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(tt(o)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new il,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;Nn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&jn(e,"w")){const r=xi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||RE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gh)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xE(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):dc("Unrecognized action received from server: "+tt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=co,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=co,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tI&&(this.reconnectDelay_=co),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*eI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Nn.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(f){he(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,c]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);s?yt("getToken() completed but was canceled"):(yt("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=c&&c.token,a=new GO(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,h=>{Pt(h+" ("+this.repoInfo_.toString()+")"),this.interrupt(nI)},o))}catch(f){this.log_("Failed to get token: "+f),s||(this.repoInfo_.nodeAdmin&&Pt(f),l())}}}interrupt(e){yt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],rc(this.interruptReasons_)&&(this.reconnectDelay_=co,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>vf(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new We(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){yt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Yh&&(this.reconnectDelay_=Gh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Yh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Vm.replace(/\./g,"-")]=1,nf()?e["framework.cordova"]=1:am()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sa.getInstance().currentlyOnline();return rc(this.interruptReasons_)&&e}}Nn.nextPersistentConnectionId_=0;Nn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ae(Li,e),i=new Ae(Li,n);return this.compare(r,i)!==0}minPost(){return Ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us;class Ev extends cl{static get __EMPTY_NODE(){return Us}static set __EMPTY_NODE(e){Us=e}compare(e,n){return zi(e.name,n.name)}isDefinedOn(e){throw qi("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ae.MIN}maxPost(){return new Ae(Xr,Us)}makePost(e,n){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new Ae(e,Us)}toString(){return".key"}}const wi=new Ev;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class it{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??it.RED,this.left=i??Rt.EMPTY_NODE,this.right=o??Rt.EMPTY_NODE}copy(e,n,r,i,o){return new it(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Rt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Rt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}it.RED=!0;it.BLACK=!1;class rI{copy(e,n,r,i,o){return this}insert(e,n,r){return new it(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Rt{constructor(e,n=Rt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Rt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,it.BLACK,null,null))}remove(e){return new Rt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,it.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Hs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Hs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Hs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Hs(this.root_,null,this.comparator_,!0,e)}}Rt.EMPTY_NODE=new rI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t,e){return zi(t.name,e.name)}function wf(t,e){return zi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pc;function oI(t){pc=t}const wv=function(t){return typeof t=="number"?"number:"+Zm(t):"string:"+t},Tv=function(t){if(t.isLeafNode()){const e=t.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&jn(e,".sv"),"Priority must be a string or number.")}else he(t===pc||t.isEmpty(),"priority of unexpected type.");he(t===pc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh;class rt{constructor(e,n=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Tv(this.priorityNode_)}static set __childrenNodeConstructor(e){Qh=e}static get __childrenNodeConstructor(){return Qh}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ce(e)?this:ke(e)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ke(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(he(r!==".priority"||gr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+wv(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Zm(this.value_):e+=this.value_,this.lazyHash_=Gm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof rt.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=rt.VALUE_TYPE_ORDER.indexOf(n),o=rt.VALUE_TYPE_ORDER.indexOf(r);return he(i>=0,"Unknown leaf type: "+n),he(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sv,Ov;function sI(t){Sv=t}function aI(t){Ov=t}class lI extends cl{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?zi(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ae.MIN}maxPost(){return new Ae(Xr,new rt("[PRIORITY-POST]",Ov))}makePost(e,n){const r=Sv(e);return new Ae(n,new rt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qe=new lI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=Math.log(2);class cI{constructor(e){const n=o=>parseInt(Math.log(o)/uI,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Oa=function(t,e,n,r){t.sort(e);const i=function(l,u){const d=u-l;let f,c;if(d===0)return null;if(d===1)return f=t[l],c=n?n(f):f,new it(c,f.node,it.BLACK,null,null);{const h=parseInt(d/2,10)+l,v=i(l,h),y=i(h+1,u);return f=t[h],c=n?n(f):f,new it(c,f.node,it.BLACK,v,y)}},o=function(l){let u=null,d=null,f=t.length;const c=function(v,y){const _=f-v,m=f;f-=v;const g=i(_+1,m),E=t[_],p=n?n(E):E;h(new it(p,E.node,y,null,g))},h=function(v){u?(u.left=v,u=v):(d=v,u=v)};for(let v=0;v<l.count;++v){const y=l.nextBitIsOne(),_=Math.pow(2,l.count-(v+1));y?c(_,it.BLACK):(c(_,it.BLACK),c(_,it.RED))}return d},s=new cI(t.length),a=o(s);return new Rt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu;const fi={};class In{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return he(fi&&Qe,"ChildrenNode.ts has not been loaded"),Cu=Cu||new In({".priority":fi},{".priority":Qe}),Cu}get(e){const n=xi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Rt?n:null}hasIndex(e){return jn(this.indexSet_,e.toString())}addIndex(e,n){he(e!==wi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Ae.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Oa(r,e.getCompare()):a=fi;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new In(d,u)}addToIndexes(e,n){const r=ga(this.indexes_,(i,o)=>{const s=xi(this.indexSet_,o);if(he(s,"Missing index implementation for "+o),i===fi)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ae.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Oa(a,s.getCompare())}else return fi;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Ae(e.name,a))),l.insert(e,e.node)}});return new In(r,this.indexSet_)}removeFromIndexes(e,n){const r=ga(this.indexes_,i=>{if(i===fi)return i;{const o=n.get(e.name);return o?i.remove(new Ae(e.name,o)):i}});return new In(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fo;class _e{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Tv(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fo||(fo=new _e(new Rt(wf),null,In.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fo}updatePriority(e){return this.children_.isEmpty()?this:new _e(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?fo:n}}getChild(e){const n=ke(e);return n===null?this:this.getImmediateChild(n).getChild(ze(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ae(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?fo:this.priorityNode_;return new _e(i,s,o)}}updateChild(e,n){const r=ke(e);if(r===null)return n;{he(ke(e)!==".priority"||gr(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ze(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Qe,(s,a)=>{n[s]=a.val(e),r++,o&&_e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+wv(this.getPriority().val())+":"),this.forEachChild(Qe,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Gm(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Ae(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ae(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ae.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ae.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hs?-1:0}withIndex(e){if(e===wi||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new _e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===wi||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qe),i=n.getIterator(Qe);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===wi?null:this.indexMap_.get(e.toString())}}_e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class fI extends _e{constructor(){super(new Rt(wf),_e.EMPTY_NODE,In.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _e.EMPTY_NODE}isEmpty(){return!1}}const hs=new fI;Object.defineProperties(Ae,{MIN:{value:new Ae(Li,_e.EMPTY_NODE)},MAX:{value:new Ae(Xr,hs)}});Ev.__EMPTY_NODE=_e.EMPTY_NODE;rt.__childrenNodeConstructor=_e;oI(hs);aI(hs);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=!0;function st(t,e=null){if(t===null)return _e.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new rt(n,st(e))}if(!(t instanceof Array)&&dI){const n=[];let r=!1;if(Dt(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=st(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ae(s,l)))}}),n.length===0)return _e.EMPTY_NODE;const o=Oa(n,iI,s=>s.name,wf);if(r){const s=Oa(n,Qe.getCompare());return new _e(o,st(e),new In({".priority":s},{".priority":Qe}))}else return new _e(o,st(e),In.Default)}else{let n=_e.EMPTY_NODE;return Dt(t,(r,i)=>{if(jn(t,r)&&r.substring(0,1)!=="."){const o=st(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(st(e))}}sI(st);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI extends cl{constructor(e){super(),this.indexPath_=e,he(!Ce(e)&&ke(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?zi(e.name,n.name):o}makePost(e,n){const r=st(e),i=_e.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ae(n,i)}maxPost(){const e=_e.EMPTY_NODE.updateChild(this.indexPath_,hs);return new Ae(Xr,e)}toString(){return vv(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI extends cl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?zi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ae.MIN}maxPost(){return Ae.MAX}makePost(e,n){const r=st(e);return new Ae(n,r)}toString(){return".value"}}const gI=new pI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){return{type:"value",snapshotNode:t}}function Mi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Yo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Qo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function mI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){he(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Yo(n,a)):he(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Mi(n,r)):s.trackChildChange(Qo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Qe,(i,o)=>{n.hasChild(i)||r.trackChildChange(Yo(i,o))}),n.isLeafNode()||n.forEachChild(Qe,(i,o)=>{if(e.hasChild(i)){const s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Qo(i,o,s))}else r.trackChildChange(Mi(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?_e.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.indexedFilter_=new Tf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Zo.getStartPost_(e),this.endPost_=Zo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new Ae(n,r))||(r=_e.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=_e.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(_e.EMPTY_NODE);const o=this;return n.forEachChild(Qe,(s,a)=>{o.matches(new Ae(s,a))||(i=i.updateImmediateChild(s,_e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Zo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new Ae(n,r))||(r=_e.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=_e.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=_e.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(_e.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,_e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){const f=this.index_.getCompare();s=(c,h)=>f(h,c)}else s=this.index_.getCompare();const a=e;he(a.numChildren()===this.limit_,"");const l=new Ae(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(a.hasChild(n)){const f=a.getImmediateChild(n);let c=i.getChildAfterChild(this.index_,u,this.reverse_);for(;c!=null&&(c.name===n||a.hasChild(c.name));)c=i.getChildAfterChild(this.index_,c,this.reverse_);const h=c==null?1:s(c,l);if(d&&!r.isEmpty()&&h>=0)return o!=null&&o.trackChildChange(Qo(n,r,f)),a.updateImmediateChild(n,r);{o!=null&&o.trackChildChange(Yo(n,f));const y=a.updateImmediateChild(n,_e.EMPTY_NODE);return c!=null&&this.rangedFilter_.matches(c)?(o!=null&&o.trackChildChange(Mi(c.name,c.node)),y.updateImmediateChild(c.name,c.node)):y}}else return r.isEmpty()?e:d&&s(u,l)>=0?(o!=null&&(o.trackChildChange(Yo(u.name,u.node)),o.trackChildChange(Mi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,_e.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Li}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qe}copy(){const e=new Sf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yI(t){return t.loadsAllData()?new Tf(t.getIndex()):t.hasLimit()?new vI(t):new Zo(t)}function Zh(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Qe?n="$priority":t.index_===gI?n="$value":t.index_===wi?n="$key":(he(t.index_ instanceof hI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=tt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=tt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+tt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=tt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+tt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xh(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends pv{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ds("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Ia.getListenId_(e,r),a={};this.listens_[s]=a;const l=Zh(e._queryParams);this.restRequest_(o+".json",l,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(o,f,!1,r),xi(this.listens_,s)===a){let c;u?u===401?c="permission_denied":c="rest_error:"+u:c="ok",i(c,null)}})}unlisten(e,n){const r=Ia.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Zh(e._queryParams),r=e._path.toString(),i=new il;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ui(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=$o(a.responseText)}catch{Pt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Pt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.rootNode_=_e.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(){return{value:null,children:new Map}}function Av(t,e,n){if(Ce(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ke(e);t.children.has(r)||t.children.set(r,Aa());const i=t.children.get(r);e=ze(e),Av(i,e,n)}}function gc(t,e,n){t.value!==null?n(e,t.value):bI(t,(r,i)=>{const o=new We(e.toString()+"/"+r);gc(i,o,n)})}function bI(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Dt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=10*1e3,wI=30*1e3,TI=5*60*1e3;class SI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new EI(e);const r=Jh+(wI-Jh)*Math.random();Co(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Dt(e,(i,o)=>{o>0&&jn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Co(this.reportStats_.bind(this),Math.floor(Math.random()*2*TI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Gt||(Gt={}));function Cv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Of(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function If(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Gt.ACK_USER_WRITE,this.source=Cv()}operationForChild(e){if(Ce(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new We(e));return new Ca(Pe(),n,this.revert)}}else return he(ke(this.path)===e,"operationForChild called for unrelated child."),new Ca(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.source=e,this.path=n,this.type=Gt.LISTEN_COMPLETE}operationForChild(e){return Ce(this.path)?new Xo(this.source,Pe()):new Xo(this.source,ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Gt.OVERWRITE}operationForChild(e){return Ce(this.path)?new Jr(this.source,Pe(),this.snap.getImmediateChild(e)):new Jr(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Gt.MERGE}operationForChild(e){if(Ce(this.path)){const n=this.children.subtree(new We(e));return n.isEmpty()?null:n.value?new Jr(this.source,Pe(),n.value):new Jo(this.source,Pe(),n)}else return he(ke(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Jo(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=ke(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function II(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(mI(s.childName,s.snapshotNode))}),ho(t,i,"child_removed",e,r,n),ho(t,i,"child_added",e,r,n),ho(t,i,"child_moved",o,r,n),ho(t,i,"child_changed",e,r,n),ho(t,i,"value",e,r,n),i}function ho(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>CI(t,a,l)),s.forEach(a=>{const l=AI(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function AI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function CI(t,e,n){if(e.childName==null||n.childName==null)throw qi("Should only compare child_ events.");const r=new Ae(e.childName,e.snapshotNode),i=new Ae(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t,e){return{eventCache:t,serverCache:e}}function ko(t,e,n,r){return fl(new mr(e,n,r),t.serverCache)}function kv(t,e,n,r){return fl(t.eventCache,new mr(e,n,r))}function ka(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ei(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku;const kI=()=>(ku||(ku=new Rt(pO)),ku);class Ve{constructor(e,n=kI()){this.value=e,this.children=n}static fromObject(e){let n=new Ve(null);return Dt(e,(r,i)=>{n=n.set(new We(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Pe(),value:this.value};if(Ce(e))return null;{const r=ke(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(ze(e),n);return o!=null?{path:nt(new We(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ce(e))return this;{const n=ke(e),r=this.children.get(n);return r!==null?r.subtree(ze(e)):new Ve(null)}}set(e,n){if(Ce(e))return new Ve(n,this.children);{const r=ke(e),o=(this.children.get(r)||new Ve(null)).set(ze(e),n),s=this.children.insert(r,o);return new Ve(this.value,s)}}remove(e){if(Ce(e))return this.children.isEmpty()?new Ve(null):new Ve(null,this.children);{const n=ke(e),r=this.children.get(n);if(r){const i=r.remove(ze(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new Ve(null):new Ve(this.value,o)}else return this}}get(e){if(Ce(e))return this.value;{const n=ke(e),r=this.children.get(n);return r?r.get(ze(e)):null}}setTree(e,n){if(Ce(e))return n;{const r=ke(e),o=(this.children.get(r)||new Ve(null)).setTree(ze(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new Ve(this.value,s)}}fold(e){return this.fold_(Pe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(nt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Pe(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ce(e))return null;{const o=ke(e),s=this.children.get(o);return s?s.findOnPath_(ze(e),nt(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Pe(),n)}foreachOnPath_(e,n,r){if(Ce(e))return this;{this.value&&r(n,this.value);const i=ke(e),o=this.children.get(i);return o?o.foreachOnPath_(ze(e),nt(n,i),r):new Ve(null)}}foreach(e){this.foreach_(Pe(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(nt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.writeTree_=e}static empty(){return new Qt(new Ve(null))}}function No(t,e,n){if(Ce(e))return new Qt(new Ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=St(i,e);return o=o.updateChild(s,n),new Qt(t.writeTree_.set(i,o))}else{const i=new Ve(n),o=t.writeTree_.setTree(e,i);return new Qt(o)}}}function ep(t,e,n){let r=t;return Dt(n,(i,o)=>{r=No(r,nt(e,i),o)}),r}function tp(t,e){if(Ce(e))return Qt.empty();{const n=t.writeTree_.setTree(e,new Ve(null));return new Qt(n)}}function mc(t,e){return ni(t,e)!=null}function ni(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(St(n.path,e)):null}function np(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qe,(r,i)=>{e.push(new Ae(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ae(r,i.value))}),e}function dr(t,e){if(Ce(e))return t;{const n=ni(t,e);return n!=null?new Qt(new Ve(n)):new Qt(t.writeTree_.subtree(e))}}function vc(t){return t.writeTree_.isEmpty()}function Di(t,e){return Nv(Pe(),t.writeTree_,e)}function Nv(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(he(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=Nv(nt(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(nt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t,e){return Lv(e,t)}function NI(t,e,n,r,i){he(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=No(t.visibleWrites,e,n)),t.lastWriteId=r}function xI(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function RI(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);he(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&PI(a,r.path)?i=!1:Kt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return LI(t),!0;if(r.snap)t.visibleWrites=tp(t.visibleWrites,r.path);else{const a=r.children;Dt(a,l=>{t.visibleWrites=tp(t.visibleWrites,nt(r.path,l))})}return!0}else return!1}function PI(t,e){if(t.snap)return Kt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Kt(nt(t.path,n),e))return!0;return!1}function LI(t){t.visibleWrites=xv(t.allWrites,MI,Pe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function MI(t){return t.visible}function xv(t,e,n){let r=Qt.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)Kt(n,s)?(a=St(n,s),r=No(r,a,o.snap)):Kt(s,n)&&(a=St(s,n),r=No(r,Pe(),o.snap.getChild(a)));else if(o.children){if(Kt(n,s))a=St(n,s),r=ep(r,a,o.children);else if(Kt(s,n))if(a=St(s,n),Ce(a))r=ep(r,Pe(),o.children);else{const l=xi(o.children,ke(a));if(l){const u=l.getChild(ze(a));r=No(r,Pe(),u)}}}else throw qi("WriteRecord should have .snap or .children")}}return r}function Rv(t,e,n,r,i){if(!r&&!i){const o=ni(t.visibleWrites,e);if(o!=null)return o;{const s=dr(t.visibleWrites,e);if(vc(s))return n;if(n==null&&!mc(s,Pe()))return null;{const a=n||_e.EMPTY_NODE;return Di(s,a)}}}else{const o=dr(t.visibleWrites,e);if(!i&&vc(o))return n;if(!i&&n==null&&!mc(o,Pe()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Kt(u.path,e)||Kt(e,u.path))},a=xv(t.allWrites,s,e),l=n||_e.EMPTY_NODE;return Di(a,l)}}}function DI(t,e,n){let r=_e.EMPTY_NODE;const i=ni(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Qe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=dr(t.visibleWrites,e);return n.forEachChild(Qe,(s,a)=>{const l=Di(dr(o,new We(s)),a);r=r.updateImmediateChild(s,l)}),np(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=dr(t.visibleWrites,e);return np(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function FI(t,e,n,r,i){he(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=nt(e,n);if(mc(t.visibleWrites,o))return null;{const s=dr(t.visibleWrites,o);return vc(s)?i.getChild(n):Di(s,i.getChild(n))}}function jI(t,e,n,r){const i=nt(e,n),o=ni(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=dr(t.visibleWrites,i);return Di(s,r.getNode().getImmediateChild(n))}else return null}function BI(t,e){return ni(t.visibleWrites,e)}function qI(t,e,n,r,i,o,s){let a;const l=dr(t.visibleWrites,e),u=ni(l,Pe());if(u!=null)a=u;else if(n!=null)a=Di(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const d=[],f=s.getCompare(),c=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let h=c.getNext();for(;h&&d.length<i;)f(h,r)!==0&&d.push(h),h=c.getNext();return d}else return[]}function UI(){return{visibleWrites:Qt.empty(),allWrites:[],lastWriteId:-1}}function Na(t,e,n,r){return Rv(t.writeTree,t.treePath,e,n,r)}function Af(t,e){return DI(t.writeTree,t.treePath,e)}function rp(t,e,n,r){return FI(t.writeTree,t.treePath,e,n,r)}function xa(t,e){return BI(t.writeTree,nt(t.treePath,e))}function HI(t,e,n,r,i,o){return qI(t.writeTree,t.treePath,e,n,r,i,o)}function Cf(t,e,n){return jI(t.writeTree,t.treePath,e,n)}function Pv(t,e){return Lv(nt(t.treePath,e),t.writeTree)}function Lv(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;he(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),he(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Qo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Yo(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Mi(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Qo(r,e.snapshotNode,i.oldSnap));else throw qi("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Mv=new WI;class kf{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new mr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Cf(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ei(this.viewCache_),o=HI(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){return{filter:t}}function VI(t,e){he(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function KI(t,e,n,r,i){const o=new $I;let s,a;if(n.type===Gt.OVERWRITE){const u=n;u.source.fromUser?s=yc(t,e,u.path,u.snap,r,i,o):(he(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ce(u.path),s=Ra(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Gt.MERGE){const u=n;u.source.fromUser?s=YI(t,e,u.path,u.children,r,i,o):(he(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=_c(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Gt.ACK_USER_WRITE){const u=n;u.revert?s=XI(t,e,u.path,r,i,o):s=QI(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Gt.LISTEN_COMPLETE)s=ZI(t,e,n.path,r,o);else throw qi("Unknown operation type: "+n.type);const l=o.getChanges();return GI(e,s,l),{viewCache:s,changes:l}}function GI(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ka(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Iv(ka(e)))}}function Dv(t,e,n,r,i,o){const s=e.eventCache;if(xa(r,n)!=null)return e;{let a,l;if(Ce(n))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ei(e),d=u instanceof _e?u:_e.EMPTY_NODE,f=Af(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{const u=Na(r,ei(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=ke(n);if(u===".priority"){he(gr(n)===1,"Can't have a priority with additional path components");const d=s.getNode();l=e.serverCache.getNode();const f=rp(r,n,d,l);f!=null?a=t.filter.updatePriority(d,f):a=s.getNode()}else{const d=ze(n);let f;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const c=rp(r,n,s.getNode(),l);c!=null?f=s.getNode().getImmediateChild(u).updateChild(d,c):f=s.getNode().getImmediateChild(u)}else f=Cf(r,u,e.serverCache);f!=null?a=t.filter.updateChild(s.getNode(),u,f,d,i,o):a=s.getNode()}}return ko(e,a,s.isFullyInitialized()||Ce(n),t.filter.filtersNodes())}}function Ra(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const d=s?t.filter:t.filter.getIndexedFilter();if(Ce(n))u=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const h=l.getNode().updateChild(n,r);u=d.updateFullNode(l.getNode(),h,null)}else{const h=ke(n);if(!l.isCompleteForPath(n)&&gr(n)>1)return e;const v=ze(n),_=l.getNode().getImmediateChild(h).updateChild(v,r);h===".priority"?u=d.updatePriority(l.getNode(),_):u=d.updateChild(l.getNode(),h,_,v,Mv,null)}const f=kv(e,u,l.isFullyInitialized()||Ce(n),d.filtersNodes()),c=new kf(i,f,o);return Dv(t,f,n,i,c,a)}function yc(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const d=new kf(i,e,o);if(Ce(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=ko(e,u,!0,t.filter.filtersNodes());else{const f=ke(n);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=ko(e,u,a.isFullyInitialized(),a.isFiltered());else{const c=ze(n),h=a.getNode().getImmediateChild(f);let v;if(Ce(c))v=r;else{const y=d.getCompleteChild(f);y!=null?mv(c)===".priority"&&y.getChild(yv(c)).isEmpty()?v=y:v=y.updateChild(c,r):v=_e.EMPTY_NODE}if(h.equals(v))l=e;else{const y=t.filter.updateChild(a.getNode(),f,v,c,d,s);l=ko(e,y,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function ip(t,e){return t.eventCache.isCompleteForChild(e)}function YI(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const d=nt(n,l);ip(e,ke(d))&&(a=yc(t,a,d,u,i,o,s))}),r.foreach((l,u)=>{const d=nt(n,l);ip(e,ke(d))||(a=yc(t,a,d,u,i,o,s))}),a}function op(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function _c(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ce(n)?u=r:u=new Ve(null).setTree(n,r);const d=e.serverCache.getNode();return u.children.inorderTraversal((f,c)=>{if(d.hasChild(f)){const h=e.serverCache.getNode().getImmediateChild(f),v=op(t,h,c);l=Ra(t,l,new We(f),v,i,o,s,a)}}),u.children.inorderTraversal((f,c)=>{const h=!e.serverCache.isCompleteForChild(f)&&c.value===null;if(!d.hasChild(f)&&!h){const v=e.serverCache.getNode().getImmediateChild(f),y=op(t,v,c);l=Ra(t,l,new We(f),y,i,o,s,a)}}),l}function QI(t,e,n,r,i,o,s){if(xa(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ce(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ra(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Ce(n)){let u=new Ve(null);return l.getNode().forEachChild(wi,(d,f)=>{u=u.set(new We(d),f)}),_c(t,e,n,u,i,o,a,s)}else return e}else{let u=new Ve(null);return r.foreach((d,f)=>{const c=nt(n,d);l.isCompleteForPath(c)&&(u=u.set(d,l.getNode().getChild(c)))}),_c(t,e,n,u,i,o,a,s)}}function ZI(t,e,n,r,i){const o=e.serverCache,s=kv(e,o.getNode(),o.isFullyInitialized()||Ce(n),o.isFiltered());return Dv(t,s,n,r,Mv,i)}function XI(t,e,n,r,i,o){let s;if(xa(r,n)!=null)return e;{const a=new kf(r,e,i),l=e.eventCache.getNode();let u;if(Ce(n)||ke(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Na(r,ei(e));else{const f=e.serverCache.getNode();he(f instanceof _e,"serverChildren would be complete if leaf node"),d=Af(r,f)}d=d,u=t.filter.updateFullNode(l,d,o)}else{const d=ke(n);let f=Cf(r,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?u=t.filter.updateChild(l,d,f,ze(n),a,o):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,_e.EMPTY_NODE,ze(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Na(r,ei(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||xa(r,Pe())!=null,ko(e,u,s,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Tf(r.getIndex()),o=yI(r);this.processor_=zI(o);const s=n.serverCache,a=n.eventCache,l=i.updateFullNode(_e.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(_e.EMPTY_NODE,a.getNode(),null),d=new mr(l,s.isFullyInitialized(),i.filtersNodes()),f=new mr(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=fl(f,d),this.eventGenerator_=new OI(this.query_)}get query(){return this.query_}}function eA(t){return t.viewCache_.serverCache.getNode()}function tA(t){return ka(t.viewCache_)}function nA(t,e){const n=ei(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ce(e)&&!n.getImmediateChild(ke(e)).isEmpty())?n.getChild(e):null}function sp(t){return t.eventRegistrations_.length===0}function rA(t,e){t.eventRegistrations_.push(e)}function ap(t,e,n){const r=[];if(n){he(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){const s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function lp(t,e,n,r){e.type===Gt.MERGE&&e.source.queryId!==null&&(he(ei(t.viewCache_),"We should always have a full cache before handling merges"),he(ka(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=KI(t.processor_,i,e,n,r);return VI(t.processor_,o.viewCache),he(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Fv(t,o.changes,o.viewCache.eventCache.getNode(),null)}function iA(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Qe,(o,s)=>{r.push(Mi(o,s))}),n.isFullyInitialized()&&r.push(Iv(n.getNode())),Fv(t,r,n.getNode(),e)}function Fv(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return II(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pa;class jv{constructor(){this.views=new Map}}function oA(t){he(!Pa,"__referenceConstructor has already been defined"),Pa=t}function sA(){return he(Pa,"Reference.ts has not been loaded"),Pa}function aA(t){return t.views.size===0}function Nf(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return he(o!=null,"SyncTree gave us an op for an invalid query."),lp(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(lp(s,e,n,r));return o}}function Bv(t,e,n,r,i){const o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Na(n,i?r:null),l=!1;a?l=!0:r instanceof _e?(a=Af(n,r),l=!1):(a=_e.EMPTY_NODE,l=!1);const u=fl(new mr(a,l,!1),new mr(r,i,!1));return new JI(e,u)}return s}function lA(t,e,n,r,i,o){const s=Bv(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),rA(s,n),iA(s,n)}function uA(t,e,n,r){const i=e._queryIdentifier,o=[];let s=[];const a=vr(t);if(i==="default")for(const[l,u]of t.views.entries())s=s.concat(ap(u,n,r)),sp(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||o.push(u.query));else{const l=t.views.get(i);l&&(s=s.concat(ap(l,n,r)),sp(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!vr(t)&&o.push(new(sA())(e._repo,e._path)),{removed:o,events:s}}function qv(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function hr(t,e){let n=null;for(const r of t.views.values())n=n||nA(r,e);return n}function Uv(t,e){if(e._queryParams.loadsAllData())return hl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function Hv(t,e){return Uv(t,e)!=null}function vr(t){return hl(t)!=null}function hl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La;function cA(t){he(!La,"__referenceConstructor has already been defined"),La=t}function fA(){return he(La,"Reference.ts has not been loaded"),La}let dA=1;class up{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ve(null),this.pendingWriteTree_=UI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function $v(t,e,n,r,i){return NI(t.pendingWriteTree_,e,n,r,i),i?gs(t,new Jr(Cv(),e,n)):[]}function Ur(t,e,n=!1){const r=xI(t.pendingWriteTree_,e);if(RI(t.pendingWriteTree_,e)){let o=new Ve(null);return r.snap!=null?o=o.set(Pe(),!0):Dt(r.children,s=>{o=o.set(new We(s),!0)}),gs(t,new Ca(r.path,o,n))}else return[]}function ps(t,e,n){return gs(t,new Jr(Of(),e,n))}function hA(t,e,n){const r=Ve.fromObject(n);return gs(t,new Jo(Of(),e,r))}function pA(t,e){return gs(t,new Xo(Of(),e))}function gA(t,e,n){const r=Rf(t,n);if(r){const i=Pf(r),o=i.path,s=i.queryId,a=St(o,e),l=new Xo(If(s),a);return Lf(t,o,l)}else return[]}function Wv(t,e,n,r,i=!1){const o=e._path,s=t.syncPointTree_.get(o);let a=[];if(s&&(e._queryIdentifier==="default"||Hv(s,e))){const l=uA(s,e,n,r);aA(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const u=l.removed;if(a=l.events,!i){const d=u.findIndex(c=>c._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(o,(c,h)=>vr(h));if(d&&!f){const c=t.syncPointTree_.subtree(o);if(!c.isEmpty()){const h=_A(c);for(let v=0;v<h.length;++v){const y=h[v],_=y.query,m=Gv(t,y);t.listenProvider_.startListening(xo(_),es(t,_),m.hashFn,m.onComplete)}}}!f&&u.length>0&&!r&&(d?t.listenProvider_.stopListening(xo(e),null):u.forEach(c=>{const h=t.queryToTagMap.get(pl(c));t.listenProvider_.stopListening(xo(c),h)}))}bA(t,u)}return a}function zv(t,e,n,r){const i=Rf(t,r);if(i!=null){const o=Pf(i),s=o.path,a=o.queryId,l=St(s,e),u=new Jr(If(a),l,n);return Lf(t,s,u)}else return[]}function mA(t,e,n,r){const i=Rf(t,r);if(i){const o=Pf(i),s=o.path,a=o.queryId,l=St(s,e),u=Ve.fromObject(n),d=new Jo(If(a),l,u);return Lf(t,s,d)}else return[]}function vA(t,e,n,r=!1){const i=e._path;let o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(c,h)=>{const v=St(c,i);o=o||hr(h,v),s=s||vr(h)});let a=t.syncPointTree_.get(i);a?(s=s||vr(a),o=o||hr(a,Pe())):(a=new jv,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=_e.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,v)=>{const y=hr(v,Pe());y&&(o=o.updateImmediateChild(h,y))}));const u=Hv(a,e);if(!u&&!e._queryParams.loadsAllData()){const c=pl(e);he(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");const h=EA();t.queryToTagMap.set(c,h),t.tagToQueryMap.set(h,c)}const d=dl(t.pendingWriteTree_,i);let f=lA(a,e,n,d,o,l);if(!u&&!s&&!r){const c=Uv(a,e);f=f.concat(wA(t,e,c))}return f}function xf(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=St(s,e),u=hr(a,l);if(u)return u});return Rv(i,e,o,n,!0)}function yA(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,d)=>{const f=St(u,n);r=r||hr(d,f)});let i=t.syncPointTree_.get(n);i?r=r||hr(i,Pe()):(i=new jv,t.syncPointTree_=t.syncPointTree_.set(n,i));const o=r!=null,s=o?new mr(r,!0,!1):null,a=dl(t.pendingWriteTree_,e._path),l=Bv(i,e,a,o?s.getNode():_e.EMPTY_NODE,o);return tA(l)}function gs(t,e){return Vv(e,t.syncPointTree_,null,dl(t.pendingWriteTree_,Pe()))}function Vv(t,e,n,r){if(Ce(t.path))return Kv(t,e,n,r);{const i=e.get(Pe());n==null&&i!=null&&(n=hr(i,Pe()));let o=[];const s=ke(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,d=Pv(r,s);o=o.concat(Vv(a,l,u,d))}return i&&(o=o.concat(Nf(i,t,r,n))),o}}function Kv(t,e,n,r){const i=e.get(Pe());n==null&&i!=null&&(n=hr(i,Pe()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=Pv(r,s),d=t.operationForChild(s);d&&(o=o.concat(Kv(d,a,l,u)))}),i&&(o=o.concat(Nf(i,t,r,n))),o}function Gv(t,e){const n=e.query,r=es(t,n);return{hashFn:()=>(eA(e)||_e.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?gA(t,n._path,r):pA(t,n._path);{const o=vO(i,n);return Wv(t,n,null,o)}}}}function es(t,e){const n=pl(e);return t.queryToTagMap.get(n)}function pl(t){return t._path.toString()+"$"+t._queryIdentifier}function Rf(t,e){return t.tagToQueryMap.get(e)}function Pf(t){const e=t.indexOf("$");return he(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new We(t.substr(0,e))}}function Lf(t,e,n){const r=t.syncPointTree_.get(e);he(r,"Missing sync point for query tag that we're tracking");const i=dl(t.pendingWriteTree_,e);return Nf(r,n,i,null)}function _A(t){return t.fold((e,n,r)=>{if(n&&vr(n))return[hl(n)];{let i=[];return n&&(i=qv(n)),Dt(r,(o,s)=>{i=i.concat(s)}),i}})}function xo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(fA())(t._repo,t._path):t}function bA(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=pl(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function EA(){return dA++}function wA(t,e,n){const r=e._path,i=es(t,e),o=Gv(t,n),s=t.listenProvider_.startListening(xo(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)he(!vr(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,d,f)=>{if(!Ce(u)&&d&&vr(d))return[hl(d).query];{let c=[];return d&&(c=c.concat(qv(d).map(h=>h.query))),Dt(f,(h,v)=>{c=c.concat(v)}),c}});for(let u=0;u<l.length;++u){const d=l[u];t.listenProvider_.stopListening(xo(d),es(t,d))}}return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Mf(n)}node(){return this.node_}}class Df{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=nt(this.path_,e);return new Df(this.syncTree_,n)}node(){return xf(this.syncTree_,this.path_)}}const TA=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cp=function(t,e,n){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return SA(t[".sv"],e,n);if(typeof t[".sv"]=="object")return OA(t[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},SA=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:he(!1,"Unexpected server value: "+t)}},OA=function(t,e,n){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&he(!1,"Unexpected increment value: "+r);const i=e.node();if(he(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},IA=function(t,e,n,r){return Ff(e,new Df(n,t),r)},Yv=function(t,e,n){return Ff(t,new Mf(e),n)};function Ff(t,e,n){const r=t.getPriority().val(),i=cp(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=cp(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new rt(a,st(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new rt(i))),s.forEachChild(Qe,(a,l)=>{const u=Ff(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Bf(t,e){let n=e instanceof We?e:new We(e),r=t,i=ke(n);for(;i!==null;){const o=xi(r.node.children,i)||{children:{},childCount:0};r=new jf(i,r,o),n=ze(n),i=ke(n)}return r}function Ki(t){return t.node.value}function Qv(t,e){t.node.value=e,bc(t)}function Zv(t){return t.node.childCount>0}function AA(t){return Ki(t)===void 0&&!Zv(t)}function gl(t,e){Dt(t.node.children,(n,r)=>{e(new jf(n,t,r))})}function Xv(t,e,n,r){n&&!r&&e(t),gl(t,i=>{Xv(i,e,!0,r)}),n&&r&&e(t)}function CA(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ms(t){return new We(t.parent===null?t.name:ms(t.parent)+"/"+t.name)}function bc(t){t.parent!==null&&kA(t.parent,t.name,t)}function kA(t,e,n){const r=AA(n),i=jn(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,bc(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,bc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=/[\[\].#$\/\u0000-\u001F\u007F]/,xA=/[\[\].#$\u0000-\u001F\u007F]/,Nu=10*1024*1024,Jv=function(t){return typeof t=="string"&&t.length!==0&&!NA.test(t)},ey=function(t){return typeof t=="string"&&t.length!==0&&!xA.test(t)},RA=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ey(t)},PA=function(t,e,n,r){r&&e===void 0||qf(rf(t,"value"),e,n)},qf=function(t,e,n){const r=n instanceof We?new QO(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Lr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Lr(r)+" with contents = "+e.toString());if(Ym(e))throw new Error(t+"contains "+e.toString()+" "+Lr(r));if(typeof e=="string"&&e.length>Nu/3&&ol(e)>Nu)throw new Error(t+"contains a string greater than "+Nu+" utf8 bytes "+Lr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Dt(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Jv(s)))throw new Error(t+" contains an invalid key ("+s+") "+Lr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ZO(r,s),qf(t,a,r),XO(r)}),i&&o)throw new Error(t+' contains ".value" child '+Lr(r)+" in addition to actual children.")}},ty=function(t,e,n,r){if(!(r&&n===void 0)&&!ey(n))throw new Error(rf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},LA=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ty(t,e,n,r)},MA=function(t,e){if(ke(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},DA=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Jv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!RA(n))throw new Error(rf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ny(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!_v(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function hn(t,e,n){ny(t,n),jA(t,r=>Kt(r,e)||Kt(e,r))}function jA(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(BA(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function BA(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Vr&&yt("event: "+n.toString()),Vi(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="repo_interrupt",UA=25;class HA{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new FA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Aa(),this.transactionQueueTree_=new jf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function $A(t,e,n){if(t.stats_=_f(t.repoInfo_),t.forceRestClient_||EO())t.server_=new Ia(t.repoInfo_,(r,i,o,s)=>{fp(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dp(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Nn(t.repoInfo_,e,(r,i,o,s)=>{fp(t,r,i,o,s)},r=>{dp(t,r)},r=>{zA(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=IO(t.repoInfo_,()=>new SI(t.stats_,t.server_)),t.infoData_=new _I,t.infoSyncTree_=new up({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ps(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Hf(t,"connected",!1),t.serverSyncTree_=new up({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);hn(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function WA(t){const n=t.infoData_.getNode(new We(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Uf(t){return TA({timestamp:WA(t)})}function fp(t,e,n,r,i){t.dataUpdateCount++;const o=new We(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=ga(n,u=>st(u));s=mA(t.serverSyncTree_,o,l,i)}else{const l=st(n);s=zv(t.serverSyncTree_,o,l,i)}else if(r){const l=ga(n,u=>st(u));s=hA(t.serverSyncTree_,o,l)}else{const l=st(n);s=ps(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=vl(t,o)),hn(t.eventQueue_,a,s)}function dp(t,e){Hf(t,"connected",e),e===!1&&GA(t)}function zA(t,e){Dt(e,(n,r)=>{Hf(t,n,r)})}function Hf(t,e,n){const r=new We("/.info/"+e),i=st(n);t.infoData_.updateSnapshot(r,i);const o=ps(t.infoSyncTree_,r,i);hn(t.eventQueue_,r,o)}function ry(t){return t.nextWriteId_++}function VA(t,e,n){const r=yA(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const o=st(i).withIndex(e._queryParams.getIndex());vA(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=ps(t.serverSyncTree_,e._path,o);else{const a=es(t.serverSyncTree_,e);s=zv(t.serverSyncTree_,e._path,o,a)}return hn(t.eventQueue_,e._path,s),Wv(t.serverSyncTree_,e,n,null,!0),o},i=>(ml(t,"get for query "+tt(e)+" failed: "+i),Promise.reject(new Error(i))))}function KA(t,e,n,r,i){ml(t,"set",{path:e.toString(),value:n,priority:r});const o=Uf(t),s=st(n,r),a=xf(t.serverSyncTree_,e),l=Yv(s,a,o),u=ry(t),d=$v(t.serverSyncTree_,e,l,u,!0);ny(t.eventQueue_,d),t.server_.put(e.toString(),s.val(!0),(c,h)=>{const v=c==="ok";v||Pt("set at "+e+" failed: "+c);const y=Ur(t.serverSyncTree_,u,!v);hn(t.eventQueue_,e,y),QA(t,i,c,h)});const f=ly(t,e);vl(t,f),hn(t.eventQueue_,f,[])}function GA(t){ml(t,"onDisconnectEvents");const e=Uf(t),n=Aa();gc(t.onDisconnect_,Pe(),(i,o)=>{const s=IA(i,o,t.serverSyncTree_,e);Av(n,i,s)});let r=[];gc(n,Pe(),(i,o)=>{r=r.concat(ps(t.serverSyncTree_,i,o));const s=ly(t,i);vl(t,s)}),t.onDisconnect_=Aa(),hn(t.eventQueue_,Pe(),r)}function YA(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qA)}function ml(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yt(n,...e)}function QA(t,e,n,r){e&&Vi(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,e(s)}})}function iy(t,e,n){return xf(t.serverSyncTree_,e,n)||_e.EMPTY_NODE}function $f(t,e=t.transactionQueueTree_){if(e||yl(t,e),Ki(e)){const n=sy(t,e);he(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&ZA(t,ms(e),n)}else Zv(e)&&gl(e,n=>{$f(t,n)})}function ZA(t,e,n){const r=n.map(u=>u.currentWriteId),i=iy(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const d=n[u];he(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=St(e,d.path);o=o.updateChild(f,d.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{ml(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const f=[];for(let c=0;c<n.length;c++)n[c].status=2,d=d.concat(Ur(t.serverSyncTree_,n[c].currentWriteId)),n[c].onComplete&&f.push(()=>n[c].onComplete(null,!0,n[c].currentOutputSnapshotResolved)),n[c].unwatcher();yl(t,Bf(t.transactionQueueTree_,e)),$f(t,t.transactionQueueTree_),hn(t.eventQueue_,e,d);for(let c=0;c<f.length;c++)Vi(f[c])}else{if(u==="datastale")for(let f=0;f<n.length;f++)n[f].status===3?n[f].status=4:n[f].status=0;else{Pt("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<n.length;f++)n[f].status=4,n[f].abortReason=u}vl(t,e)}},s)}function vl(t,e){const n=oy(t,e),r=ms(n),i=sy(t,n);return XA(t,i,r),r}function XA(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=St(n,l.path);let d=!1,f;if(he(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,i=i.concat(Ur(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=UA)d=!0,f="maxretry",i=i.concat(Ur(t.serverSyncTree_,l.currentWriteId,!0));else{const c=iy(t,l.path,s);l.currentInputSnapshot=c;const h=e[a].update(c.val());if(h!==void 0){qf("transaction failed: Data returned ",h,l.path);let v=st(h);typeof h=="object"&&h!=null&&jn(h,".priority")||(v=v.updatePriority(c.getPriority()));const _=l.currentWriteId,m=Uf(t),g=Yv(v,c,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=g,l.currentWriteId=ry(t),s.splice(s.indexOf(_),1),i=i.concat($v(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),i=i.concat(Ur(t.serverSyncTree_,_,!0))}else d=!0,f="nodata",i=i.concat(Ur(t.serverSyncTree_,l.currentWriteId,!0))}hn(t.eventQueue_,n,i),i=[],d&&(e[a].status=2,function(c){setTimeout(c,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(f==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(f),!1,null))))}yl(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Vi(r[a]);$f(t,t.transactionQueueTree_)}function oy(t,e){let n,r=t.transactionQueueTree_;for(n=ke(e);n!==null&&Ki(r)===void 0;)r=Bf(r,n),e=ze(e),n=ke(e);return r}function sy(t,e){const n=[];return ay(t,e,n),n.sort((r,i)=>r.order-i.order),n}function ay(t,e,n){const r=Ki(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);gl(e,i=>{ay(t,i,n)})}function yl(t,e){const n=Ki(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Qv(e,n.length>0?n:void 0)}gl(e,r=>{yl(t,r)})}function ly(t,e){const n=ms(oy(t,e)),r=Bf(t.transactionQueueTree_,e);return CA(r,i=>{xu(t,i)}),xu(t,r),Xv(r,i=>{xu(t,i)}),n}function xu(t,e){const n=Ki(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(he(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(he(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ur(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Qv(e,void 0):n.length=o+1,hn(t.eventQueue_,ms(e),i);for(let s=0;s<r.length;s++)Vi(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function eC(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pt(`Invalid query segment '${n}' in query '${t}'`)}return e}const hp=function(t,e){const n=tC(t),r=n.namespace;n.domain==="firebase.com"&&Ln(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Ln("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dO();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new av(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new We(n.pathString)}},tC=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(i=JA(t.substring(d,f)));const c=eC(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const h=e.slice(0,u);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in c&&(o=c.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class rC{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return he(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ce(this._path)?null:mv(this._path)}get ref(){return new Bn(this._repo,this._path)}get _queryIdentifier(){const e=Xh(this._queryParams),n=vf(e);return n==="{}"?"default":n}get _queryObject(){return Xh(this._queryParams)}isEqual(e){if(e=It(e),!(e instanceof Wf))return!1;const n=this._repo===e._repo,r=_v(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YO(this._path)}}class Bn extends Wf{constructor(e,n){super(e,n,new Sf,!1)}get parent(){const e=yv(this._path);return e===null?null:new Bn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class ts{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new We(e),r=ns(this.ref,e);return new ts(this._node.getChild(n),r,Qe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ts(i,ns(this.ref,r),Qe)))}hasChild(e){const n=new We(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function uy(t,e){return t=It(t),t._checkNotDeleted("ref"),e!==void 0?ns(t._root,e):t._root}function ns(t,e){return t=It(t),ke(t._path)===null?LA("child","path",e,!1):ty("child","path",e,!1),new Bn(t._repo,nt(t._path,e))}function oC(t,e){t=It(t),MA("set",t._path),PA("set",e,t._path,!1);const n=new il;return KA(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function sC(t){t=It(t);const e=new iC(()=>{}),n=new zf(e);return VA(t._repo,t,n).then(r=>new ts(r,new Bn(t._repo,t._path),t._queryParams.getIndex()))}class zf{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new nC("value",this,new ts(e.snapshotNode,new Bn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new rC(this,e,n):null}matches(e){return e instanceof zf?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}oA(Bn);cA(Bn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="FIREBASE_DATABASE_EMULATOR_HOST",Ec={};let lC=!1;function uC(t,e,n,r){t.repoInfo_=new av(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function cC(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Ln("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=hp(o,i),a=s.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[aC]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=hp(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const d=i&&l?new Ei(Ei.OWNER):new TO(t.name,t.options,e);DA("Invalid Firebase Database URL",s),Ce(s.path)||Ln("Database URL must point to the root of a Firebase Database (not including a child path).");const f=dC(a,t,d,new wO(t.name,n));return new hC(f,t)}function fC(t,e){const n=Ec[e];(!n||n[t.key]!==t)&&Ln(`Database ${e}(${t.repoInfo_}) has already been deleted.`),YA(t),delete n[t.key]}function dC(t,e,n,r){let i=Ec[e.name];i||(i={},Ec[e.name]=i);let o=i[t.toURLString()];return o&&Ln("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new HA(t,lC,n,r),i[t.toURLString()]=o,o}class hC{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||($A(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Bn(this._repo,Pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(fC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Ln("Cannot call "+e+" on a deleted database.")}}function pC(t=hm(),e){const n=af(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=wE("database");r&&gC(n,...r)}return n}function gC(t,e,n,r={}){t=It(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Ln("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ln('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ei(Ei.OWNER);else if(r.mockUserToken){const s=typeof r.mockUserToken=="string"?r.mockUserToken:TE(r.mockUserToken,t.app.options.projectId);o=new Ei(s)}uC(i,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){aO(Hi),Ri(new Yr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return cC(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),fr(Mh,Dh,t),fr(Mh,Dh,"esm2017")}Nn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Nn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};mC();const vC={apiKey:"AIzaSyAND-d_qnN3l82b0d5Wfq-x3iroSb3qva8",authDomain:"vncoc-songs.firebaseapp.com",projectId:"vncoc-songs",storageBucket:"vncoc-songs.appspot.com",messagingSenderId:"169452849467",appId:"1:169452849467:web:5de652edaddbe035638f1e",measurementId:"G-SDPPJSHCNK",databaseURL:"https://vncoc-songs-default-rtdb.asia-southeast1.firebasedatabase.app/"},yC=dm(vC),cy=pC(yC),Vf=sO();async function pp(){const t=uy(cy);return sC(ns(t,"/songs1")).then(e=>e.exists()?e.val():(console.log("No data available"),[])).catch(e=>(console.error(e),[]))}function _C(t,e){const n=uy(cy);delete e.isFavorite,oC(ns(n,`/songs1/${t}`),e).then()}function bC(t,e){return WT(Vf,t,e)}function fy(){GT(Vf).then(()=>{console.log("Sign-out successful.")}).catch(t=>{console.error(t)})}function Kf(){return new Promise((t,e)=>{const n=KT(Vf,r=>{n(),t(!!r)},e)})}const dy=t=>{try{const e=localStorage.getItem(t);return e===null?void 0:JSON.parse(e)}catch{return}},EC=(t,e)=>{try{const n=JSON.stringify(t);localStorage.setItem(e,n)}catch{throw new Error("Can't save changes in local storage")}},vs={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Fi={LIGHT:"light",DARK:"dark",COLORED:"colored",AUTO:"auto"},Ot={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},wC={BOUNCE:"bounce",SLIDE:"slide",FLIP:"flip",ZOOM:"zoom"},hy={dangerouslyHTMLString:!1,multiple:!0,position:vs.TOP_RIGHT,autoClose:5e3,transition:"bounce",hideProgressBar:!1,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,className:"",bodyClassName:"",style:{},progressClassName:"",progressStyle:{},role:"alert",theme:"light"},TC={rtl:!1,newestOnTop:!1,toastClassName:""},py={...hy,...TC};({...hy,type:Ot.DEFAULT});var De=(t=>(t[t.COLLAPSE_DURATION=300]="COLLAPSE_DURATION",t[t.DEBOUNCE_DURATION=50]="DEBOUNCE_DURATION",t.CSS_NAMESPACE="Toastify",t))(De||{}),wc=(t=>(t.ENTRANCE_ANIMATION_END="d",t))(wc||{});const SC={enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0},OC={enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0},IC={enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"},AC={enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"};function gy(t){let e=SC;if(!t||typeof t=="string")switch(t){case"flip":e=AC;break;case"zoom":e=IC;break;case"slide":e=OC;break}else e=t;return e}function CC(t){return t.containerId||String(t.position)}const _l="will-unmount";function kC(t=vs.TOP_RIGHT){return!!document.querySelector(".".concat(De.CSS_NAMESPACE,"__toast-container--").concat(t))}function NC(t=vs.TOP_RIGHT){return"".concat(De.CSS_NAMESPACE,"__toast-container--").concat(t)}function xC(t,e,n=!1){const r=["".concat(De.CSS_NAMESPACE,"__toast-container"),"".concat(De.CSS_NAMESPACE,"__toast-container--").concat(t),n?"".concat(De.CSS_NAMESPACE,"__toast-container--rtl"):null].filter(Boolean).join(" ");return Ti(e)?e({position:t,rtl:n,defaultClassName:r}):"".concat(r," ").concat(e||"")}function RC(t){var e;const{position:n,containerClassName:r,rtl:i=!1,style:o={}}=t,s=De.CSS_NAMESPACE,a=NC(n),l=document.querySelector(".".concat(s)),u=document.querySelector(".".concat(a)),d=!!u&&!((e=u.className)!=null&&e.includes(_l)),f=l||document.createElement("div"),c=document.createElement("div");c.className=xC(n,r,i),c.dataset.testid="".concat(De.CSS_NAMESPACE,"__toast-container--").concat(n),c.id=CC(t);for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const v=o[h];c.style[h]=v}return l||(f.className=De.CSS_NAMESPACE,document.body.appendChild(f)),d||f.appendChild(c),c}function Tc(t){var e,n,r;const i=typeof t=="string"?t:((e=t.currentTarget)==null?void 0:e.id)||((n=t.target)==null?void 0:n.id),o=document.getElementById(i);o&&o.removeEventListener("animationend",Tc,!1);try{rs[i].unmount(),(r=document.getElementById(i))==null||r.remove(),delete rs[i],delete dt[i]}catch{}}const rs=Jt({});function PC(t,e){const n=document.getElementById(String(e));n&&(rs[n.id]=t)}function Sc(t,e=!0){const n=String(t);if(!rs[n])return;const r=document.getElementById(n);r&&r.classList.add(_l),e?(MC(t),r&&r.addEventListener("animationend",Tc,!1)):Tc(n),pn.items=pn.items.filter(i=>i.containerId!==t)}function LC(t){for(const e in rs)Sc(e,t);pn.items=[]}function my(t,e){const n=document.getElementById(t.toastId);if(n){let r=t;r={...r,...gy(r.transition)};const i=r.appendPosition?"".concat(r.exit,"--").concat(r.position):r.exit;n.className+=" ".concat(i),e&&e(n)}}function MC(t){for(const e in dt)if(e===t)for(const n of dt[e]||[])my(n)}function DC(t){const e=ys().find(n=>n.toastId===t);return e==null?void 0:e.containerId}function Gf(t){return document.getElementById(t)}function FC(t){const e=Gf(t.containerId);return e&&e.classList.contains(_l)}function gp(t){var e;const n=Ii(t.content)?we(t.content.props):null;return n??we((e=t.data)!=null?e:{})}function jC(t){return t?pn.items.filter(e=>e.containerId===t).length>0:pn.items.length>0}function BC(){if(pn.items.length>0){const t=pn.items.shift();ra(t==null?void 0:t.toastContent,t==null?void 0:t.toastProps)}}const dt=Jt({}),pn=Jt({items:[]});function ys(){const t=we(dt);return Object.values(t).reduce((e,n)=>[...e,...n],[])}function qC(t){return ys().find(e=>e.toastId===t)}function ra(t,e={}){if(FC(e)){const n=Gf(e.containerId);n&&n.addEventListener("animationend",Oc.bind(null,t,e),!1)}else Oc(t,e)}function Oc(t,e={}){const n=Gf(e.containerId);n&&n.removeEventListener("animationend",Oc.bind(null,t,e),!1);const r=dt[e.containerId]||[],i=r.length>0;if(!i&&!kC(e.position)){const o=RC(e),s=Fg(ok,e);s.mount(o),PC(s,o.id)}i&&(e.position=r[0].position),Kr(()=>{e.updateId?dn.update(e):dn.add(t,e)})}const dn={add(t,e){const{containerId:n=""}=e;n&&(dt[n]=dt[n]||[],dt[n].find(r=>r.toastId===e.toastId)||setTimeout(()=>{var r,i;e.newestOnTop?(r=dt[n])==null||r.unshift(e):(i=dt[n])==null||i.push(e),e.onOpen&&e.onOpen(gp(e))},e.delay||0))},remove(t){if(t){const e=DC(t);if(e){const n=dt[e];let r=n.find(i=>i.toastId===t);dt[e]=n.filter(i=>i.toastId!==t),!dt[e].length&&!jC(e)&&Sc(e,!1),BC(),Kr(()=>{r!=null&&r.onClose&&(r.onClose(gp(r)),r=void 0)})}}},update(t={}){const{containerId:e=""}=t;if(e&&t.updateId){dt[e]=dt[e]||[];const n=dt[e].find(r=>r.toastId===t.toastId);n&&setTimeout(()=>{for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];n[r]=i}},t.delay||0)}},clear(t,e=!0){t?Sc(t,e):LC(e)},dismissCallback(t){var e;const n=(e=t.currentTarget)==null?void 0:e.id,r=document.getElementById(n);r&&(r.removeEventListener("animationend",dn.dismissCallback,!1),setTimeout(()=>{dn.remove(n)}))},dismiss(t){if(t){const e=ys();for(const n of e)if(n.toastId===t){my(n,r=>{r.addEventListener("animationend",dn.dismissCallback,!1)});break}}}},vy=Jt({}),Ma=Jt({});function yy(){return Math.random().toString(36).substring(2,9)}function UC(t){return typeof t=="number"&&!isNaN(t)}function Ic(t){return typeof t=="string"}function Ti(t){return typeof t=="function"}function bl(...t){return Fn(...t)}function ia(t){return typeof t=="object"&&(!!(t!=null&&t.render)||!!(t!=null&&t.setup)||typeof(t==null?void 0:t.type)=="object")}function HC(t={}){vy["".concat(De.CSS_NAMESPACE,"-default-options")]=t}function $C(){return vy["".concat(De.CSS_NAMESPACE,"-default-options")]||py}function WC(){return document.documentElement.classList.contains("dark")?"dark":"light"}var oa=(t=>(t[t.Enter=0]="Enter",t[t.Exit=1]="Exit",t))(oa||{});const _y={containerId:{type:[String,Number],required:!1,default:""},clearOnUrlChange:{type:Boolean,required:!1,default:!0},dangerouslyHTMLString:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!0},limit:{type:Number,required:!1,default:void 0},position:{type:String,required:!1,default:vs.TOP_LEFT},bodyClassName:{type:String,required:!1,default:""},autoClose:{type:[Number,Boolean],required:!1,default:!1},closeButton:{type:[Boolean,Function,Object],required:!1,default:void 0},transition:{type:[String,Object],required:!1,default:"bounce"},hideProgressBar:{type:Boolean,required:!1,default:!1},pauseOnHover:{type:Boolean,required:!1,default:!0},pauseOnFocusLoss:{type:Boolean,required:!1,default:!0},closeOnClick:{type:Boolean,required:!1,default:!0},progress:{type:Number,required:!1,default:void 0},progressClassName:{type:String,required:!1,default:""},toastStyle:{type:Object,required:!1,default(){return{}}},progressStyle:{type:Object,required:!1,default(){return{}}},role:{type:String,required:!1,default:"alert"},theme:{type:String,required:!1,default:Fi.AUTO},content:{type:[String,Object,Function],required:!1,default:""},toastId:{type:[String,Number],required:!1,default:""},data:{type:[Object,String],required:!1,default(){return{}}},type:{type:String,required:!1,default:Ot.DEFAULT},icon:{type:[Boolean,String,Number,Object,Function],required:!1,default:void 0},delay:{type:Number,required:!1,default:void 0},onOpen:{type:Function,required:!1,default:void 0},onClose:{type:Function,required:!1,default:void 0},onClick:{type:Function,required:!1,default:void 0},isLoading:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},toastClassName:{type:String,required:!1,default:""},updateId:{type:[String,Number],required:!1,default:""}},zC={autoClose:{type:[Number,Boolean],required:!0},isRunning:{type:Boolean,required:!1,default:void 0},type:{type:String,required:!1,default:Ot.DEFAULT},theme:{type:String,required:!1,default:Fi.AUTO},hide:{type:Boolean,required:!1,default:void 0},className:{type:[String,Function],required:!1,default:""},controlledProgress:{type:Boolean,required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:void 0},isIn:{type:Boolean,required:!1,default:void 0},progress:{type:Number,required:!1,default:void 0},closeToast:{type:Function,required:!1,default:void 0}},VC=yr({name:"ProgressBar",props:zC,setup(t,{attrs:e}){const n=$e(),r=He(()=>t.hide?"true":"false"),i=He(()=>({...e.style||{},animationDuration:"".concat(t.autoClose===!0?5e3:t.autoClose,"ms"),animationPlayState:t.isRunning?"running":"paused",opacity:t.hide||t.autoClose===!1?0:1,transform:t.controlledProgress?"scaleX(".concat(t.progress,")"):"none"})),o=He(()=>["".concat(De.CSS_NAMESPACE,"__progress-bar"),t.controlledProgress?"".concat(De.CSS_NAMESPACE,"__progress-bar--controlled"):"".concat(De.CSS_NAMESPACE,"__progress-bar--animated"),"".concat(De.CSS_NAMESPACE,"__progress-bar-theme--").concat(t.theme),"".concat(De.CSS_NAMESPACE,"__progress-bar--").concat(t.type),t.rtl?"".concat(De.CSS_NAMESPACE,"__progress-bar--rtl"):null].filter(Boolean).join(" ")),s=He(()=>"".concat(o.value," ").concat((e==null?void 0:e.class)||"")),a=()=>{n.value&&(n.value.onanimationend=null,n.value.ontransitionend=null)},l=()=>{t.isIn&&t.closeToast&&t.autoClose!==!1&&(t.closeToast(),a())},u=He(()=>t.controlledProgress?null:l),d=He(()=>t.controlledProgress?l:null);return Gs(()=>{n.value&&(a(),n.value.onanimationend=u.value,n.value.ontransitionend=d.value)}),()=>Se("div",{ref:n,role:"progressbar","aria-hidden":r.value,"aria-label":"notification timer",class:s.value,style:i.value},null)}}),KC=yr({name:"CloseButton",inheritAttrs:!1,props:{theme:{type:String,required:!1,default:Fi.AUTO},type:{type:String,required:!1,default:Fi.LIGHT},ariaLabel:{type:String,required:!1,default:"close"},closeToast:{type:Function,required:!1,default:void 0}},setup(t){return()=>Se("button",{class:"".concat(De.CSS_NAMESPACE,"__close-button ").concat(De.CSS_NAMESPACE,"__close-button--").concat(t.theme),type:"button",onClick:e=>{e.stopPropagation(),t.closeToast&&t.closeToast(e)},"aria-label":t.ariaLabel},[Se("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},[Se("path",{"fill-rule":"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"},null)])])}}),El=({theme:t,type:e,path:n,...r})=>Se("svg",Fn({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":"var(--toastify-icon-color-".concat(e,")")},r),[Se("path",{d:n},null)]);function GC(t){return Se(El,Fn(t,{path:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}),null)}function YC(t){return Se(El,Fn(t,{path:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}),null)}function QC(t){return Se(El,Fn(t,{path:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}),null)}function ZC(t){return Se(El,Fn(t,{path:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}),null)}function XC(){return Se("div",{class:"".concat(De.CSS_NAMESPACE,"__spinner")},null)}const Ac={info:YC,warning:GC,success:QC,error:ZC,spinner:XC},JC=t=>t in Ac;function ek({theme:t,type:e,isLoading:n,icon:r}){let i;const o={theme:t,type:e};return n?i=Ac.spinner():r===!1?i=void 0:ia(r)?i=we(r):Ti(r)?i=r(o):Ii(r)?i=xn(r,o):Ic(r)||UC(r)?i=r:JC(e)&&(i=Ac[e](o)),i}const tk=()=>{};function nk(t,e,n=De.COLLAPSE_DURATION){const{scrollHeight:r,style:i}=t,o=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition="all ".concat(o,"ms"),requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,o)})})}function rk(t){const e=$e(!1),n=$e(!1),r=$e(!1),i=$e(oa.Enter),o=Jt({...t,appendPosition:t.appendPosition||!1,collapse:typeof t.collapse>"u"?!0:t.collapse,collapseDuration:t.collapseDuration||De.COLLAPSE_DURATION}),s=o.done||tk,a=He(()=>o.appendPosition?"".concat(o.enter,"--").concat(o.position):o.enter),l=He(()=>o.appendPosition?"".concat(o.exit,"--").concat(o.position):o.exit),u=He(()=>t.pauseOnHover?{onMouseenter:_,onMouseleave:y}:{});function d(){const g=a.value.split(" ");c().addEventListener(wc.ENTRANCE_ANIMATION_END,y,{once:!0});const E=b=>{const C=c();b.target===C&&(C.dispatchEvent(new Event(wc.ENTRANCE_ANIMATION_END)),C.removeEventListener("animationend",E),C.removeEventListener("animationcancel",E),i.value===oa.Enter&&b.type!=="animationcancel"&&C.classList.remove(...g))},p=()=>{const b=c();b.classList.add(...g),b.addEventListener("animationend",E),b.addEventListener("animationcancel",E)};t.pauseOnFocusLoss&&h(),p()}function f(){if(!c())return;const g=()=>{const p=c();p.removeEventListener("animationend",g),o.collapse?nk(p,s,o.collapseDuration):s()},E=()=>{const p=c();i.value=oa.Exit,p&&(p.className+=" ".concat(l.value),p.addEventListener("animationend",g))};n.value||(r.value?g():setTimeout(E))}function c(){return t.toastRef.value}function h(){document.hasFocus()||_(),window.addEventListener("focus",y),window.addEventListener("blur",_)}function v(){window.removeEventListener("focus",y),window.removeEventListener("blur",_)}function y(){(!t.loading.value||t.isLoading===void 0)&&(e.value=!0)}function _(){e.value=!1}function m(g){g&&(g.stopPropagation(),g.preventDefault()),n.value=!1}return Gs(f),Gs(()=>{const g=ys();n.value=g.findIndex(E=>E.toastId===o.toastId)>-1}),Gs(()=>{t.isLoading!==void 0&&(t.loading.value?_():y())}),_r(d),Qa(()=>{t.pauseOnFocusLoss&&v()}),{isIn:n,isRunning:e,hideToast:m,eventHandlers:u}}const ik=yr({name:"ToastItem",inheritAttrs:!1,props:_y,setup(t){const e=$e(),n=He(()=>!!t.isLoading),r=He(()=>t.progress!==void 0&&t.progress!==null),i=He(()=>ek(t)),o=He(()=>["".concat(De.CSS_NAMESPACE,"__toast"),"".concat(De.CSS_NAMESPACE,"__toast-theme--").concat(t.theme),"".concat(De.CSS_NAMESPACE,"__toast--").concat(t.type),t.rtl?"".concat(De.CSS_NAMESPACE,"__toast--rtl"):void 0,t.toastClassName||""].filter(Boolean).join(" ")),{isRunning:s,isIn:a,hideToast:l,eventHandlers:u}=rk({toastRef:e,loading:n,done:()=>{dn.remove(t.toastId)},...gy(t.transition),...t});return()=>Se("div",Fn({id:t.toastId,class:o.value,style:t.toastStyle||{},ref:e,"data-testid":"toast-item-".concat(t.toastId),onClick:d=>{t.closeOnClick&&l(),t.onClick&&t.onClick(d)}},u.value),[Se("div",{role:t.role,"data-testid":"toast-body",class:"".concat(De.CSS_NAMESPACE,"__toast-body ").concat(t.bodyClassName||"")},[i.value!=null&&Se("div",{"data-testid":"toast-icon-".concat(t.type),class:["".concat(De.CSS_NAMESPACE,"__toast-icon"),t.isLoading?"":"".concat(De.CSS_NAMESPACE,"--animate-icon ").concat(De.CSS_NAMESPACE,"__zoom-enter")].join(" ")},[ia(i.value)?rr(we(i.value),{theme:t.theme,type:t.type}):Ti(i.value)?i.value({theme:t.theme,type:t.type}):i.value]),Se("div",{"data-testid":"toast-content"},[ia(t.content)?rr(we(t.content),{toastProps:we(t),closeToast:l,data:t.data}):Ti(t.content)?t.content({toastProps:we(t),closeToast:l,data:t.data}):t.dangerouslyHTMLString?rr("div",{innerHTML:t.content}):t.content])]),(t.closeButton===void 0||t.closeButton===!0)&&Se(KC,{theme:t.theme,closeToast:d=>{d.stopPropagation(),d.preventDefault(),l()}},null),ia(t.closeButton)?rr(we(t.closeButton),{closeToast:l,type:t.type,theme:t.theme}):Ti(t.closeButton)?t.closeButton({closeToast:l,type:t.type,theme:t.theme}):null,Se(VC,{className:t.progressClassName,style:t.progressStyle,rtl:t.rtl,theme:t.theme,isIn:a.value,type:t.type,hide:t.hideProgressBar,isRunning:s.value,autoClose:t.autoClose,controlledProgress:r.value,progress:t.progress,closeToast:t.isLoading?void 0:l},null)])}});let Ro=0;function by(){typeof window>"u"||(Ro&&window.cancelAnimationFrame(Ro),Ro=window.requestAnimationFrame(by),Ma.lastUrl!==window.location.href&&(Ma.lastUrl=window.location.href,dn.clear()))}const ok=yr({name:"ToastifyContainer",inheritAttrs:!1,props:_y,setup(t){const e=He(()=>t.containerId),n=He(()=>dt[e.value]||[]),r=He(()=>n.value.filter(i=>i.position===t.position));return _r(()=>{typeof window<"u"&&t.clearOnUrlChange&&window.requestAnimationFrame(by)}),Qa(()=>{typeof window<"u"&&Ro&&(window.cancelAnimationFrame(Ro),Ma.lastUrl="")}),()=>Se(ot,null,[r.value.map(i=>{const{toastId:o=""}=i;return Se(ik,Fn({key:o},i),null)})])}});let Ru=!1;function Ey(){const t=[];return ys().forEach(e=>{const n=document.getElementById(e.containerId);n&&!n.classList.contains(_l)&&t.push(e)}),t}function sk(t){const e=Ey().length,n=t??0;return n>0&&e+pn.items.length>=n}function ak(t){sk(t.limit)&&!t.updateId&&pn.items.push({toastId:t.toastId,containerId:t.containerId,toastContent:t.content,toastProps:t})}function wr(t,e,n={}){if(Ru)return;n=bl($C(),{type:e},we(n)),(!n.toastId||typeof n.toastId!="string"&&typeof n.toastId!="number")&&(n.toastId=yy()),n={...n,content:t,containerId:n.containerId||String(n.position)};const r=Number(n==null?void 0:n.progress);return r<0&&(n.progress=0),r>1&&(n.progress=1),n.theme==="auto"&&(n.theme=WC()),ak(n),Ma.lastUrl=window.location.href,n.multiple?pn.items.length?n.updateId&&ra(t,n):ra(t,n):(Ru=!0,Le.clearAll(void 0,!1),setTimeout(()=>{ra(t,n)},0),setTimeout(()=>{Ru=!1},390)),n.toastId}const Le=(t,e)=>wr(t,Ot.DEFAULT,e);Le.info=(t,e)=>wr(t,Ot.DEFAULT,{...e,type:Ot.INFO});Le.error=(t,e)=>wr(t,Ot.DEFAULT,{...e,type:Ot.ERROR});Le.warning=(t,e)=>wr(t,Ot.DEFAULT,{...e,type:Ot.WARNING});Le.warn=Le.warning;Le.success=(t,e)=>wr(t,Ot.DEFAULT,{...e,type:Ot.SUCCESS});Le.loading=(t,e)=>wr(t,Ot.DEFAULT,bl(e,{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1}));Le.dark=(t,e)=>wr(t,Ot.DEFAULT,bl(e,{theme:Fi.DARK}));Le.remove=t=>{t?dn.dismiss(t):dn.clear()};Le.clearAll=(t,e)=>{dn.clear(t,e)};Le.isActive=t=>{let e=!1;return e=Ey().findIndex(n=>n.toastId===t)>-1,e};Le.update=(t,e={})=>{setTimeout(()=>{const n=qC(t);if(n){const r=we(n),{content:i}=r,o={...r,...e,toastId:e.toastId||t,updateId:yy()},s=o.render||i;delete o.render,wr(s,o.type,o)}},0)};Le.done=t=>{Le.update(t,{isLoading:!1,progress:1})};Le.promise=lk;function lk(t,{pending:e,error:n,success:r},i){var o,s,a;let l;const u={...i||{},autoClose:!1};e&&(l=Ic(e)?Le.loading(e,u):Le.loading(e.render,{...u,...e}));const d={autoClose:(o=i==null?void 0:i.autoClose)!=null?o:!0,closeOnClick:(s=i==null?void 0:i.closeOnClick)!=null?s:!0,closeButton:(a=i==null?void 0:i.autoClose)!=null?a:null,isLoading:void 0,draggable:null,delay:100},f=(h,v,y)=>{if(v==null){Le.remove(l);return}const _={type:h,...d,...i,data:y},m=Ic(v)?{render:v}:v;return l?Le.update(l,{..._,...m,isLoading:!1}):Le(m.render,{..._,...m,isLoading:!1}),y},c=Ti(t)?t():t;return c.then(h=>{f("success",r,h)}).catch(h=>{f("error",n,h)}),c}Le.POSITION=vs;Le.THEME=Fi;Le.TYPE=Ot;Le.TRANSITIONS=wC;const wy={install(t,e={}){uk(e)}};typeof window<"u"&&(window.Vue3Toastify=wy);function uk(t={}){const e=bl(py,t);HC(e)}const Mn=Qc("songs",{state:()=>({songsOriginal:[],song:null,songLyricOrigin:"",songs:[],tab:"normal",loading:!1,favoriteIds:[],lang:"vi",error:null}),getters:{listSong:t=>t.tab==="favorite"&&t.favoriteIds?t.songs.filter(n=>t.favoriteIds.includes(n.id)):t.songs},actions:{async fetchSongs(){this.songs=[],this.loading=!0;try{let t=await pp();t=t.map(e=>({...e,isFavorite:this.favoriteIds.includes(e.id)})),this.songs=t,this.songsOriginal=t}catch(t){console.error(t),this.error=t}this.loading=!1},async fetchSongsFavorite(){this.songs=[],this.loading=!0;try{let t=await pp();t=t.map((e,n)=>({...e,isFavorite:this.favoriteIds.includes(n)})),t=t.filter((e,n)=>this.favoriteIds.includes(n)),this.songs=t,this.songsOriginal=t}catch(t){console.error(t),this.error=t}this.loading=!1},async fetchSong(t){this.loading=!0,this.song=null;try{this.songs&&await this.fetchSongs();let e=this.songs.find(n=>n.id==t);e.lyric=e.lyric.replace(/\\n/g,"<br>"),this.song=e,this.songLyricOrigin=e.lyric,this.tab="back"}catch(e){Le.error("Error"),document.location.href="/",this.error=e}this.loading=!1},async fetchFavoriteIds(){this.favoriteIds=dy("favorite")??[]},searchSong(t){t.trim()==""&&(this.songs=this.songsOriginal),t=t.toLowerCase();const e=this.removeDiacritics(t),n=this;let r=this.songsOriginal;this.songs=r.filter(i=>{const o=n.removeDiacritics(i.name1.toLowerCase()),s=n.removeDiacritics(n.removeHTMLTag(i.lyric.toLowerCase()));let a=o.includes(e)||i.id.includes(e)||s.includes(e);if(i.name2){const l=n.removeDiacritics(i.name2.toLowerCase());return a||l.includes(e)}return a})},removeHTMLTag(t){return t.normalize("NFD").replace(/<[^>]*>/g,"")},removeDiacritics(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},changeTab(t){this.tab=t},saveSong(){const t=+this.song.id-1;_C(t,this.song),this.songLyricOrigin=this.song.lyric,Le.success("Chỉnh sửa thành công.")},revertLyric(){this.song.lyric=this.songLyricOrigin,Le.success("Đặt lại thành công.")}}});const ck={};function fk(t,e){return Be(),Gr(Gc,{name:"slide",mode:"out-in"},{default:Va(()=>[gg(t.$slots,"default",{},void 0,!0)]),_:3})}const dk=gn(ck,[["render",fk],["__scopeId","data-v-c711abdf"]]);const hk={class:"sticky top-0 bg-white border-b z-50"},pk=de("div",{class:"text-center"},[de("h1",{class:"green lg:text-4xl text-3xl font-semibold lg:mb-4 mb-2"},"VNCOC SONGS")],-1),gk={class:"flex flex-row justify-center"},mk={class:"fixed bottom-0 left-0 z-20 w-full lg:p-4 p-0 text-center bg-white border-t border-gray-200 shadow md:items-center md:justify-between md:p-6 dark:bg-gray-800 dark:border-gray-600"},vk={class:"lg:text-sm text-xs leading-none text-gray-500 text-center dark:text-gray-400"},yk=de("br",{class:"block md:hidden"},null,-1),_k=de("span",{class:"hidden md:inline"},"|",-1),bk=de("a",{href:"https://vncoc.net/",class:"hover:underline",target:"_blank"},"Viet Nam Church of Christ",-1),Ek={__name:"App",setup(t){const e=Jc(),{fetchSongs:n,fetchFavoriteIds:r,changeTab:i}=Mn(),{tab:o}=Ci(Mn());r(),n();const s=a=>{a=="setting"&&e.push("/setting"),i(a),e.currentRoute._value.name!="home"&&e.push("/")};return(a,l)=>(Be(),Ze(ot,null,[Do(de("header",hk,[de("div",null,[pk,de("nav",gk,[de("button",{class:or(["px-6 block hover:text-emerald-500 focus:outline-none font-medium",{"text-emerald-500":ye(o)=="normal","border-emerald-500":ye(o)=="normal"}]),onClick:l[0]||(l[0]=u=>s("normal"))},[Se(Y1)],2),de("button",{class:or(["pb-4 px-6 block hover:text-emerald-500 focus:outline-none",{"text-emerald-500":ye(o)=="favorite","border-emerald-500":ye(o)=="favorite"}]),onClick:l[1]||(l[1]=u=>s("favorite"))},[Se(tE)],2),de("button",{class:or(["pb-4 px-6 block hover:text-emerald-500 focus:outline-none",{"text-emerald-500":ye(o)=="setting","border-emerald-500":ye(o)=="setting"}]),onClick:l[2]||(l[2]=u=>s("setting"))},[Se(hE)],2),ye(o)=="back"?(Be(),Ze("button",{key:0,class:"text-gray-600 pb-4 px-6 block hover:text-emerald-500 focus:outline-none",onClick:l[3]||(l[3]=u=>s("normal"))},[Se(aE)])):$r("",!0)])])],512),[[fb,a.$route.path!=="/login"]]),Se(dk,null,{default:Va(()=>[Se(ye(Xg))]),_:1}),de("footer",mk,[de("span",vk,[Xs(" Copyright © "+sr(new Date().getFullYear())+" - Present ",1),yk,_k,Xs(),bk,Xs(". All Rights Reserved. ")])])],64))}},wk={},Tk={xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",fill:"currentColor"},Sk=de("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),Ok=[Sk];function Ik(t,e){return Be(),Ze("svg",Tk,Ok)}const Ak=gn(wk,[["render",Ik]]),Ck={},kk={fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},Nk=de("path",{class:"fill-gray-300 hover:fill-green-700",d:"M3 17.75C3 19.5449 4.45507 21 6.25 21H11.1651L11.5209 19.5768C11.6829 18.9288 12.018 18.3371 12.4903 17.8648L18.3927 11.9624C19.1066 11.2485 20.0672 10.9318 21 11.0122V6.25C21 4.45507 19.5449 3 17.75 3H11V7.75C11 9.54493 9.54493 11 7.75 11H3V17.75ZM9.5 3.44L3.44 9.5H7.75C8.7165 9.5 9.5 8.7165 9.5 7.75V3.44ZM19.0999 12.6695L13.1974 18.5719C12.8533 18.916 12.6092 19.3472 12.4911 19.8194L12.0334 21.6501C11.8344 22.4462 12.5556 23.1674 13.3517 22.9683L15.1824 22.5106C15.6545 22.3926 16.0857 22.1485 16.4299 21.8043L22.3323 15.9019C23.2249 15.0093 23.2249 13.5621 22.3323 12.6695C21.4397 11.7768 19.9925 11.7768 19.0999 12.6695Z"},null,-1),xk=[Nk];function Rk(t,e){return Be(),Ze("svg",kk,xk)}const Pk=gn(Ck,[["render",Rk]]),Lk={class:"item flex cursor-pointer hover:bg-slate-50 p-3 items-center border-b"},Mk={class:"md:text-lg text-sm font-semibold"},Dk={class:"md:text-sm text-xs"},Fk={class:"flex items-center"},jk={__name:"SongItem",props:{isEdit:Boolean,song:Object},setup(t){const e=Jc(),n=t,{fetchFavoriteIds:r}=Mn(),i=(a,l)=>{l.target.tagName!=="path"&&e.push(`/songs/${a}`)},o=a=>{e.push(`/songs/${a}/edit`)},s=()=>{let a=dy("favorite")??[],l=a.indexOf(n.song.id);l!==-1?(a.splice(l,1),n.song.isFavorite=!1):(n.song.isFavorite=!0,a.push(n.song.id)),a=[...new Set(a)],EC(a,"favorite"),r()};return(a,l)=>(Be(),Ze("div",Lk,[de("span",{onClick:l[0]||(l[0]=u=>i(n.song.id,u)),class:"bg-green-100 text-green-800 md:text-base text-sm font-semibold me-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300"},sr(n.song.id),1),de("div",{class:"flex-1 ml-1 md:ml-5",onClick:l[1]||(l[1]=u=>i(n.song.id,u))},[de("h3",Mk,sr(n.song.name1),1),de("span",Dk,sr(n.song.name2),1)]),de("div",Fk,[n.isEdit?(Be(),Gr(Pk,{key:0,class:"fill-gray-300 hover:fill-green-700",onClick:l[2]||(l[2]=u=>o(n.song.id))})):$r("",!0),Se(Ak,{class:or([{"fill-green-700":n.song.isFavorite},"mt-1 ml-2 fill-gray-300 hover:fill-green-700"]),onClick:l[3]||(l[3]=u=>s())},null,8,["class"])])]))}},Bk={},qk={role:"status",class:"p-4 space-y-4 divide-y divide-gray-200 rounded animate-pulse dark:divide-gray-700 md:p-6 dark:border-gray-700"},Uk=de("div",null,[de("div",{class:"h-2.5 bg-gray-300 rounded-full dark:bg-gray-600 w-24 mb-2.5"}),de("div",{class:"w-32 h-2 bg-gray-200 rounded-full dark:bg-gray-700"})],-1),Hk=de("div",{class:"h-2.5 bg-gray-300 rounded-full dark:bg-gray-700 w-12"},null,-1),$k=[Uk,Hk],Wk=de("span",{class:"sr-only"},"Loading...",-1);function zk(t,e){return Be(),Ze("div",qk,[(Be(),Ze(ot,null,pg(15,n=>de("div",{class:"flex items-center justify-between pt-2",key:n},$k)),64)),Wk])}const Vk=gn(Bk,[["render",zk]]),Kk={class:"max-w-screen-xl mb-20 my-0 mx-auto list-song"},Gk={class:"mt-5 lg:mb-10 mb-3 px-3"},Yk={class:"relative"},Qk=de("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"},[de("svg",{class:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"},[de("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})])],-1),Zk={key:0,class:"text-center mt-10"},Xk={__name:"ListSong",setup(t){const{listSong:e,loading:n}=Ci(Mn()),{searchSong:r}=Mn(),i=$e(""),o=$e(!1);return _r(async()=>{o.value=await Kf()}),(s,a)=>(Be(),Ze(ot,null,[de("div",Kk,[de("div",Gk,[de("div",Yk,[Qk,Do(de("input",{type:"search","onUpdate:modelValue":a[0]||(a[0]=l=>i.value=l),onKeyup:a[1]||(a[1]=l=>ye(r)(i.value)),id:"default-search",class:"block w-full p-3 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Tìm kiếm bài hát"},null,544),[[Zu,i.value]])])]),ye(n)?(Be(),Gr(Vk,{key:0})):$r("",!0),!ye(n)&&ye(e).length?(Be(!0),Ze(ot,{key:1},pg(ye(e),(l,u)=>(Be(),Gr(jk,{isEdit:o.value,song:l,key:u},null,8,["isEdit","song"]))),128)):$r("",!0)]),!ye(n)&&!ye(e).length?(Be(),Ze("h3",Zk,"Không có bài hát!")):$r("",!0)],64))}},mp={__name:"HomeView",setup(t){return(e,n)=>(Be(),Ze("main",null,[Se(Xk)]))}},Jk={},eN={role:"status",class:"mt-10 max-w-sm mx-auto animate-pulse"},tN=R0('<div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-10 mb-4 mx-auto"></div><div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[330px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[300px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[330px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[300px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[330px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[300px] mb-2.5 mx-auto"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 max-w-[360px] mx-auto"></div><span class="sr-only">Loading...</span>',18),nN=[tN];function rN(t,e){return Be(),Ze("div",eN,nN)}const iN=gn(Jk,[["render",rN]]),Ty=Qc("auth",()=>{const t=$e(!1),e=$e(15);return{isAutoScroll:t,textSizeLyric:e}});var Yf={exports:{}},oN=Yf.exports={};oN.forEach=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}};var sN=function(t){var e=t.stateHandler.getState;function n(s){var a=e(s);return a&&!!a.isDetectable}function r(s){e(s).isDetectable=!0}function i(s){return!!e(s).busy}function o(s,a){e(s).busy=!!a}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:o}},aN=function(t){var e={};function n(s){var a=t.get(s);return a===void 0?[]:e[a]||[]}function r(s,a){var l=t.get(s);e[l]||(e[l]=[]),e[l].push(a)}function i(s,a){for(var l=n(s),u=0,d=l.length;u<d;++u)if(l[u]===a){l.splice(u,1);break}}function o(s){var a=n(s);!a||(a.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:o}},lN=function(){var t=1;function e(){return t++}return{generate:e}},uN=function(t){var e=t.idGenerator,n=t.stateHandler.getState;function r(o){var s=n(o);return s&&s.id!==void 0?s.id:null}function i(o){var s=n(o);if(!s)throw new Error("setId required the element to have a resize detection state.");var a=e.generate();return s.id=a,a}return{get:r,set:i}},cN=function(t){function e(){}var n={log:e,warn:e,error:e};if(!t&&window.console){var r=function(i,o){i[o]=function(){var s=console[o];if(s.apply)s.apply(console,arguments);else for(var a=0;a<arguments.length;a++)s(arguments[a])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},Qf={exports:{}},Sy=Qf.exports={};Sy.isIE=function(t){function e(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!e())return!1;if(!t)return!0;var n=function(){var r,i=3,o=document.createElement("div"),s=o.getElementsByTagName("i");do o.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(s[0]);return i>4?i:r}();return t===n};Sy.isLegacyOpera=function(){return!!window.opera};var Oy={exports:{}},fN=Oy.exports={};fN.getOption=dN;function dN(t,e,n){var r=t[e];return r==null&&n!==void 0?n:r}var vp=Oy.exports,hN=function(t){t=t||{};var e=t.reporter,n=vp.getOption(t,"async",!0),r=vp.getOption(t,"auto",!0);r&&!n&&(e&&e.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),n=!0);var i=yp(),o,s=!1;function a(h,v){!s&&r&&n&&i.size()===0&&d(),i.add(h,v)}function l(){for(s=!0;i.size();){var h=i;i=yp(),h.process()}s=!1}function u(h){s||(h===void 0&&(h=n),o&&(f(o),o=null),h?d():l())}function d(){o=c(l)}function f(h){var v=clearTimeout;return v(h)}function c(h){var v=function(y){return setTimeout(y,0)};return v(h)}return{add:a,force:u}};function yp(){var t={},e=0,n=0,r=0;function i(a,l){l||(l=a,a=0),a>n?n=a:a<r&&(r=a),t[a]||(t[a]=[]),t[a].push(l),e++}function o(){for(var a=r;a<=n;a++)for(var l=t[a],u=0;u<l.length;u++){var d=l[u];d()}}function s(){return e}return{add:i,process:o,size:s}}var Zf="_erd";function pN(t){return t[Zf]={},Iy(t)}function Iy(t){return t[Zf]}function gN(t){delete t[Zf]}var mN={initState:pN,getState:Iy,cleanState:gN},po=Qf.exports,vN=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,r=t.stateHandler.getState;if(!e)throw new Error("Missing required dependency: reporter.");function i(u,d){function f(){d(u)}if(po.isIE(8))r(u).object={proxy:f},u.attachEvent("onresize",f);else{var c=a(u);if(!c)throw new Error("Element is not detectable by this strategy.");c.contentDocument.defaultView.addEventListener("resize",f)}}function o(u){var d=t.important?" !important; ":"; ";return(u.join(d)+d).trim()}function s(u,d,f){f||(f=d,d=u,u=null),u=u||{},u.debug;function c(h,v){var y=o(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),_=!1,m=window.getComputedStyle(h),g=h.offsetWidth,E=h.offsetHeight;r(h).startSize={width:g,height:E};function p(){function b(){if(m.position==="static"){h.style.setProperty("position","relative",u.important?"important":"");var I=function(N,A,T,S){function k(U){return U.replace(/[^-\d\.]/g,"")}var P=T[S];P!=="auto"&&k(P)!=="0"&&(N.warn("An element that is positioned static has style."+S+"="+P+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+S+" will be set to 0. Element: ",A),A.style.setProperty(S,"0",u.important?"important":""))};I(e,h,m,"top"),I(e,h,m,"right"),I(e,h,m,"bottom"),I(e,h,m,"left")}}function C(){_||b();function I(A,T){if(!A.contentDocument){var S=r(A);S.checkForObjectDocumentTimeoutId&&window.clearTimeout(S.checkForObjectDocumentTimeoutId),S.checkForObjectDocumentTimeoutId=setTimeout(function(){S.checkForObjectDocumentTimeoutId=0,I(A,T)},100);return}T(A.contentDocument)}var N=this;I(N,function(A){v(h)})}m.position!==""&&(b(),_=!0);var O=document.createElement("object");O.style.cssText=y,O.tabIndex=-1,O.type="text/html",O.setAttribute("aria-hidden","true"),O.onload=C,po.isIE()||(O.data="about:blank"),r(h)&&(h.appendChild(O),r(h).object=O,po.isIE()&&(O.data="about:blank"))}n?n.add(p):p()}po.isIE(8)?f(d):c(d,f)}function a(u){return r(u).object}function l(u){if(r(u)){var d=a(u);!d||(po.isIE(8)?u.detachEvent("onresize",d.proxy):u.removeChild(d),r(u).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(u).checkForObjectDocumentTimeoutId),delete r(u).object)}}return{makeDetectable:s,addListener:i,uninstall:l}},yN=Yf.exports.forEach,_N=function(t){t=t||{};var e=t.reporter,n=t.batchProcessor,r=t.stateHandler.getState;t.stateHandler.hasState;var i=t.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!e)throw new Error("Missing required dependency: reporter.");var o=d(),s="erd_scroll_detection_scrollbar_style",a="erd_scroll_detection_container";function l(p){f(p,s,a)}l(window.document);function u(p){var b=t.important?" !important; ":"; ";return(p.join(b)+b).trim()}function d(){var p=500,b=500,C=document.createElement("div");C.style.cssText=u(["position: absolute","width: "+p*2+"px","height: "+b*2+"px","visibility: hidden","margin: 0","padding: 0"]);var O=document.createElement("div");O.style.cssText=u(["position: absolute","width: "+p+"px","height: "+b+"px","overflow: scroll","visibility: none","top: "+-p*3+"px","left: "+-b*3+"px","visibility: hidden","margin: 0","padding: 0"]),O.appendChild(C),document.body.insertBefore(O,document.body.firstChild);var I=p-O.clientWidth,N=b-O.clientHeight;return document.body.removeChild(O),{width:I,height:N}}function f(p,b,C){function O(T,S){S=S||function(P){p.head.appendChild(P)};var k=p.createElement("style");return k.innerHTML=T,k.id=b,S(k),k}if(!p.getElementById(b)){var I=C+"_animation",N=C+"_animation_active",A=`/* Created by the element-resize-detector library. */
`;A+="."+C+" > div::-webkit-scrollbar { "+u(["display: none"])+` }

`,A+="."+N+" { "+u(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+I,"animation-name: "+I])+` }
`,A+="@-webkit-keyframes "+I+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,A+="@keyframes "+I+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",O(A)}}function c(p){p.className+=" "+a+"_animation_active"}function h(p,b,C){if(p.addEventListener)p.addEventListener(b,C);else if(p.attachEvent)p.attachEvent("on"+b,C);else return e.error("[scroll] Don't know how to add event listeners.")}function v(p,b,C){if(p.removeEventListener)p.removeEventListener(b,C);else if(p.detachEvent)p.detachEvent("on"+b,C);else return e.error("[scroll] Don't know how to remove event listeners.")}function y(p){return r(p).container.childNodes[0].childNodes[0].childNodes[0]}function _(p){return r(p).container.childNodes[0].childNodes[0].childNodes[1]}function m(p,b){var C=r(p).listeners;if(!C.push)throw new Error("Cannot add listener to an element that is not detectable.");r(p).listeners.push(b)}function g(p,b,C){C||(C=b,b=p,p=null),p=p||{};function O(){if(p.debug){var F=Array.prototype.slice.call(arguments);if(F.unshift(i.get(b),"Scroll: "),e.log.apply)e.log.apply(null,F);else for(var Z=0;Z<F.length;Z++)e.log(F[Z])}}function I(F){function Z(le){var M=le.getRootNode&&le.getRootNode().contains(le);return le===le.ownerDocument.body||le.ownerDocument.body.contains(le)||M}return!Z(F)||window.getComputedStyle(F)===null}function N(F){var Z=r(F).container.childNodes[0],le=window.getComputedStyle(Z);return!le.width||le.width.indexOf("px")===-1}function A(){var F=window.getComputedStyle(b),Z={};return Z.position=F.position,Z.width=b.offsetWidth,Z.height=b.offsetHeight,Z.top=F.top,Z.right=F.right,Z.bottom=F.bottom,Z.left=F.left,Z.widthCSS=F.width,Z.heightCSS=F.height,Z}function T(){var F=A();r(b).startSize={width:F.width,height:F.height},O("Element start size",r(b).startSize)}function S(){r(b).listeners=[]}function k(){if(O("storeStyle invoked."),!r(b)){O("Aborting because element has been uninstalled");return}var F=A();r(b).style=F}function P(F,Z,le){r(F).lastWidth=Z,r(F).lastHeight=le}function U(F){return y(F).childNodes[0]}function z(){return 2*o.width+1}function Q(){return 2*o.height+1}function se(F){return F+10+z()}function X(F){return F+10+Q()}function B(F){return F*2+z()}function x(F){return F*2+Q()}function j(F,Z,le){var M=y(F),q=_(F),K=se(Z),ne=X(le),oe=B(Z),ie=x(le);M.scrollLeft=K,M.scrollTop=ne,q.scrollLeft=oe,q.scrollTop=ie}function H(){var F=r(b).container;if(!F){F=document.createElement("div"),F.className=a,F.style.cssText=u(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(b).container=F,c(F),b.appendChild(F);var Z=function(){r(b).onRendered&&r(b).onRendered()};h(F,"animationstart",Z),r(b).onAnimationStart=Z}return F}function ee(){function F(){var pe=r(b).style;if(pe.position==="static"){b.style.setProperty("position","relative",p.important?"important":"");var Oe=function(ve,qe,mn,At){function en(lt){return lt.replace(/[^-\d\.]/g,"")}var Ge=mn[At];Ge!=="auto"&&en(Ge)!=="0"&&(ve.warn("An element that is positioned static has style."+At+"="+Ge+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+At+" will be set to 0. Element: ",qe),qe.style[At]=0)};Oe(e,b,pe,"top"),Oe(e,b,pe,"right"),Oe(e,b,pe,"bottom"),Oe(e,b,pe,"left")}}function Z(pe,Oe,ve,qe){return pe=pe?pe+"px":"0",Oe=Oe?Oe+"px":"0",ve=ve?ve+"px":"0",qe=qe?qe+"px":"0",["left: "+pe,"top: "+Oe,"right: "+qe,"bottom: "+ve]}if(O("Injecting elements"),!r(b)){O("Aborting because element has been uninstalled");return}F();var le=r(b).container;le||(le=H());var M=o.width,q=o.height,K=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),ne=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(Z(-(1+M),-(1+q),-q,-M))),oe=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ie=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),G=u(["position: absolute","left: 0","top: 0"]),V=u(["position: absolute","width: 200%","height: 200%"]),te=document.createElement("div"),J=document.createElement("div"),re=document.createElement("div"),ce=document.createElement("div"),ue=document.createElement("div"),fe=document.createElement("div");te.dir="ltr",te.style.cssText=K,te.className=a,J.className=a,J.style.cssText=ne,re.style.cssText=oe,ce.style.cssText=G,ue.style.cssText=ie,fe.style.cssText=V,re.appendChild(ce),ue.appendChild(fe),J.appendChild(re),J.appendChild(ue),te.appendChild(J),le.appendChild(te);function me(){var pe=r(b);pe&&pe.onExpand?pe.onExpand():O("Aborting expand scroll handler: element has been uninstalled")}function be(){var pe=r(b);pe&&pe.onShrink?pe.onShrink():O("Aborting shrink scroll handler: element has been uninstalled")}h(re,"scroll",me),h(ue,"scroll",be),r(b).onExpandScroll=me,r(b).onShrinkScroll=be}function Y(){function F(oe,ie,G){var V=U(oe),te=se(ie),J=X(G);V.style.setProperty("width",te+"px",p.important?"important":""),V.style.setProperty("height",J+"px",p.important?"important":"")}function Z(oe){var ie=b.offsetWidth,G=b.offsetHeight,V=ie!==r(b).lastWidth||G!==r(b).lastHeight;O("Storing current size",ie,G),P(b,ie,G),n.add(0,function(){if(V){if(!r(b)){O("Aborting because element has been uninstalled");return}if(!le()){O("Aborting because element container has not been initialized");return}if(p.debug){var te=b.offsetWidth,J=b.offsetHeight;(te!==ie||J!==G)&&e.warn(i.get(b),"Scroll: Size changed before updating detector elements.")}F(b,ie,G)}}),n.add(1,function(){if(!r(b)){O("Aborting because element has been uninstalled");return}if(!le()){O("Aborting because element container has not been initialized");return}j(b,ie,G)}),V&&oe&&n.add(2,function(){if(!r(b)){O("Aborting because element has been uninstalled");return}if(!le()){O("Aborting because element container has not been initialized");return}oe()})}function le(){return!!r(b).container}function M(){function oe(){return r(b).lastNotifiedWidth===void 0}O("notifyListenersIfNeeded invoked");var ie=r(b);if(oe()&&ie.lastWidth===ie.startSize.width&&ie.lastHeight===ie.startSize.height)return O("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(ie.lastWidth===ie.lastNotifiedWidth&&ie.lastHeight===ie.lastNotifiedHeight)return O("Not notifying: Size already notified");O("Current size not notified, notifying..."),ie.lastNotifiedWidth=ie.lastWidth,ie.lastNotifiedHeight=ie.lastHeight,yN(r(b).listeners,function(G){G(b)})}function q(){if(O("startanimation triggered."),N(b)){O("Ignoring since element is still unrendered...");return}O("Element rendered.");var oe=y(b),ie=_(b);(oe.scrollLeft===0||oe.scrollTop===0||ie.scrollLeft===0||ie.scrollTop===0)&&(O("Scrollbars out of sync. Updating detector elements..."),Z(M))}function K(){if(O("Scroll detected."),N(b)){O("Scroll event fired while unrendered. Ignoring...");return}Z(M)}if(O("registerListenersAndPositionElements invoked."),!r(b)){O("Aborting because element has been uninstalled");return}r(b).onRendered=q,r(b).onExpand=K,r(b).onShrink=K;var ne=r(b).style;F(b,ne.width,ne.height)}function D(){if(O("finalizeDomMutation invoked."),!r(b)){O("Aborting because element has been uninstalled");return}var F=r(b).style;P(b,F.width,F.height),j(b,F.width,F.height)}function L(){C(b)}function $(){O("Installing..."),S(),T(),n.add(0,k),n.add(1,ee),n.add(2,Y),n.add(3,D),n.add(4,L)}O("Making detectable..."),I(b)?(O("Element is detached"),H(),O("Waiting until element is attached..."),r(b).onRendered=function(){O("Element is now attached"),$()}):$()}function E(p){var b=r(p);!b||(b.onExpandScroll&&v(y(p),"scroll",b.onExpandScroll),b.onShrinkScroll&&v(_(p),"scroll",b.onShrinkScroll),b.onAnimationStart&&v(b.container,"animationstart",b.onAnimationStart),b.container&&p.removeChild(b.container))}return{makeDetectable:g,addListener:m,uninstall:E,initDocument:l}},bo=Yf.exports.forEach,bN=sN,EN=aN,wN=lN,TN=uN,SN=cN,_p=Qf.exports,ON=hN,Kn=mN,IN=vN,AN=_N;function bp(t){return Array.isArray(t)||t.length!==void 0}function Ep(t){if(Array.isArray(t))return t;var e=[];return bo(t,function(n){e.push(n)}),e}function wp(t){return t&&t.nodeType===1}var CN=function(t){t=t||{};var e;if(t.idHandler)e={get:function(g){return t.idHandler.get(g,!0)},set:t.idHandler.set};else{var n=wN(),r=TN({idGenerator:n,stateHandler:Kn});e=r}var i=t.reporter;if(!i){var o=i===!1;i=SN(o)}var s=Gn(t,"batchProcessor",ON({reporter:i})),a={};a.callOnAdd=!!Gn(t,"callOnAdd",!0),a.debug=!!Gn(t,"debug",!1);var l=EN(e),u=bN({stateHandler:Kn}),d,f=Gn(t,"strategy","object"),c=Gn(t,"important",!1),h={reporter:i,batchProcessor:s,stateHandler:Kn,idHandler:e,important:c};if(f==="scroll"&&(_p.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),f="object"):_p.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),f="object")),f==="scroll")d=AN(h);else if(f==="object")d=IN(h);else throw new Error("Invalid strategy name: "+f);var v={};function y(g,E,p){function b(T){var S=l.get(T);bo(S,function(k){k(T)})}function C(T,S,k){l.add(S,k),T&&k(S)}if(p||(p=E,E=g,g={}),!E)throw new Error("At least one element required.");if(!p)throw new Error("Listener required.");if(wp(E))E=[E];else if(bp(E))E=Ep(E);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var O=0,I=Gn(g,"callOnAdd",a.callOnAdd),N=Gn(g,"onReady",function(){}),A=Gn(g,"debug",a.debug);bo(E,function(T){Kn.getState(T)||(Kn.initState(T),e.set(T));var S=e.get(T);if(A&&i.log("Attaching listener to element",S,T),!u.isDetectable(T)){if(A&&i.log(S,"Not detectable."),u.isBusy(T)){A&&i.log(S,"System busy making it detectable"),C(I,T,p),v[S]=v[S]||[],v[S].push(function(){O++,O===E.length&&N()});return}return A&&i.log(S,"Making detectable..."),u.markBusy(T,!0),d.makeDetectable({debug:A,important:c},T,function(k){if(A&&i.log(S,"onElementDetectable"),Kn.getState(k)){u.markAsDetectable(k),u.markBusy(k,!1),d.addListener(k,b),C(I,k,p);var P=Kn.getState(k);if(P&&P.startSize){var U=k.offsetWidth,z=k.offsetHeight;(P.startSize.width!==U||P.startSize.height!==z)&&b(k)}v[S]&&bo(v[S],function(Q){Q()})}else A&&i.log(S,"Element uninstalled before being detectable.");delete v[S],O++,O===E.length&&N()})}A&&i.log(S,"Already detecable, adding listener."),C(I,T,p),O++}),O===E.length&&N()}function _(g){if(!g)return i.error("At least one element is required.");if(wp(g))g=[g];else if(bp(g))g=Ep(g);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");bo(g,function(E){l.removeAllListeners(E),d.uninstall(E),Kn.cleanState(E)})}function m(g){d.initDocument&&d.initDocument(g)}return{listenTo:y,removeListener:l.removeListener,removeAllListeners:l.removeAllListeners,uninstall:_,initDocument:m}};function Gn(t,e,n){var r=t[e];return r==null&&n!==void 0?n:r}const kN=yr({__name:"vue3-auto-scroll",props:{hideScrollBar:{type:Boolean,default:!0},speed:{default:1},delay:{default:1e3},control:{type:Boolean,default:!0},backSpeed:{default:10}},setup(t){const e=t,n=$e(null),r=$e(null),i=$e(0),o=$e(0),s=$e(0);let a=null,l=null;const u=()=>{a&&clearTimeout(a),l&&cancelAnimationFrame(l),i.value=n.value.clientHeight,o.value=r.value.clientHeight,!(o.value<i.value)&&(a=setTimeout(()=>{v()},e.delay),e.control&&d())},d=()=>{var m,g;(m=n.value)==null||m.addEventListener("mouseenter",f),(g=n.value)==null||g.addEventListener("mouseleave",c)},f=()=>{var m;a&&clearTimeout(a),l&&cancelAnimationFrame(l),(m=n.value)==null||m.addEventListener("scroll",h)},c=()=>{n.value.removeEventListener("scroll",h),a=setTimeout(()=>{v()},e.delay)},h=()=>{s.value=n.value.scrollTop},v=()=>{if(s.value+=e.speed,n.value.scrollTop=s.value,o.value-s.value<=i.value){y();return}l=requestAnimationFrame(v)},y=()=>{a=setTimeout(()=>{_()},e.delay)},_=()=>{requestAnimationFrame(()=>{if(s.value-=e.backSpeed,n.value.scrollTop=s.value,s.value<=0){a=setTimeout(()=>{v()},e.delay);return}_()})};return _r(()=>{CN().listenTo(r.value,()=>{u()})}),Ya(()=>{a&&clearTimeout(a)}),(m,g)=>(Be(),Ze("div",{class:or(["vue3-auto-scroll-wrapper",[t.hideScrollBar?"hide-scroll-bar":""]]),ref_key:"wrapperRef",ref:n},[de("div",{ref_key:"scrollRef",ref:r},[gg(m.$slots,"default",{},void 0,!0)],512)],2))}}),NN=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},Ay=NN(kN,[["__scopeId","data-v-04a58be4"]]);Ay.name="vue3-auto-scroll";const xN={class:"h-max scrolling-lyrics max-w-screen-xl my-0 mx-auto pb-20 px-4 flex flex-col pt-5 border-grey-500 leading-5 bg-scroll whitespace-pre-line text-center"},RN={class:"mb-2 bg-green-100 w-14 mx-auto text-green-800 text-base font-semibold px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300"},PN={class:"font-semibold md:text-2xl text-lg leading-8"},LN={class:"md:text-lg text-base mb-2"},MN=["innerHTML"],DN={__name:"LyricView",setup(t){const e=Jg(),{song:n,loading:r}=Ci(Mn()),{isAutoScroll:i,textSizeLyric:o}=Ci(Ty());console.log("textSizeLyric",i);const{fetchSong:s}=Mn(),a=e.params.id;s(a);let l=$e(null);return _r(async()=>{const u=window.innerHeight;i.value&&(l.value=u-310)}),(u,d)=>{var f,c,h,v;return Be(),Ze(ot,null,[ye(r)?(Be(),Gr(iN,{key:0})):$r("",!0),de("div",xN,[de("p",RN,sr((f=ye(n))==null?void 0:f.id),1),de("h1",PN,sr((c=ye(n))==null?void 0:c.name1),1),de("h2",LN,sr((h=ye(n))!=null&&h.name2?`(${(v=ye(n))==null?void 0:v.name2})`:""),1),de("div",{id:"lyric",style:$a({height:`${ye(l)}px`})},[Se(ye(Ay),{delay:300,speed:.5},{default:Va(()=>{var y;return[de("div",{class:"mt-5 bg-scroll",innerHTML:(y=ye(n))==null?void 0:y.lyric},null,8,MN)]}),_:1})],4)])],64)}}},FN=Qc("auth",()=>{const t=$e({user:""}),e=$e(!1),n=async(i,o)=>{await bC(i,o).then(s=>{t.value.user=s.user,e.value=!0,Le.success("Đăng nhập thành công"),window.location.href="/"}).catch(s=>{const a=s.code,l=s.message;e.value=!1,t.value.user="",console.error(a,l),Le.error("Sai thông tin đăng nhập!")})};function r(){fy().then(()=>{t.value.user=t.value.user="",e.value=!1,Le.success("Đăng nhập thành công")}).catch(i=>{const o=i.code,s=i.message;e.value=!1,t.value.user="",console.error(o,s)})}return{auth:t,isLogin:e,login:n,logout:r}}),jN={class:"bg-gray-50 dark:bg-gray-900"},BN={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},qN=de("a",{href:"#",class:"color-main flex items-center mb-6 text-2xl font-semibold text-gray-900 dark:text-white"}," VNCOC SONGS ",-1),UN={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},HN={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},$N=de("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Đăng nhập ",-1),WN={class:"space-y-4 md:space-y-6",action:"#"},zN=de("label",{for:"email",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Email",-1),VN=de("label",{for:"password",class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},"Mật khẩu",-1),KN={__name:"LoginView",setup(t){Jc();const e=FN(),{login:n}=e,r=$e(""),i=$e("");return(o,s)=>(Be(),Ze("section",jN,[de("div",BN,[qN,de("div",UN,[de("div",HN,[$N,de("form",WN,[de("div",null,[zN,Do(de("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>r.value=a),type:"email",name:"email",id:"email",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",required:""},null,512),[[Zu,r.value]])]),de("div",null,[VN,Do(de("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>i.value=a),type:"password",name:"password",id:"password",placeholder:"••••••••",class:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",required:""},null,512),[[Zu,i.value]])]),de("button",{type:"button",onClick:s[2]||(s[2]=a=>ye(n)(r.value,i.value)),class:"w-full text-white bg-green-700 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"},"Đăng nhập")])])])])]))}};var pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ky={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:pt,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),d=i(47),f=i(48),c=i(49),h=i(12),v=i(32),y=i(33),_=i(31),m=i(1),g={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:d.default,Inline:u.default,Text:c.default,Attributor:{Attribute:h.default,Class:v.default,Style:y.default,Store:_.default}};r.default=g},function(n,r,i){var o=this&&this.__extends||function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var E in g)g.hasOwnProperty(E)&&(m[E]=g[E])};return function(m,g){_(m,g);function E(){this.constructor=m}m.prototype=g===null?Object.create(g):(E.prototype=g.prototype,new E)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(_){o(m,_);function m(g){var E=this;return g="[Parchment] "+g,E=_.call(this,g)||this,E.message=g,E.name=E.constructor.name,E}return m}(Error);r.ParchmentError=s;var a={},l={},u={},d={};r.DATA_KEY="__blot";var f;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function c(_,m){var g=v(_);if(g==null)throw new s("Unable to create "+_+" blot");var E=g,p=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:E.create(m);return new E(p,m)}r.create=c;function h(_,m){return m===void 0&&(m=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:m?h(_.parentNode,m):null}r.find=h;function v(_,m){m===void 0&&(m=f.ANY);var g;if(typeof _=="string")g=d[_]||a[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)g=d.text;else if(typeof _=="number")_&f.LEVEL&f.BLOCK?g=d.block:_&f.LEVEL&f.INLINE&&(g=d.inline);else if(_ instanceof HTMLElement){var E=(_.getAttribute("class")||"").split(/\s+/);for(var p in E)if(g=l[E[p]],g)break;g=g||u[_.tagName]}return g==null?null:m&f.LEVEL&g.scope&&m&f.TYPE&g.scope?g:null}r.query=v;function y(){for(var _=[],m=0;m<arguments.length;m++)_[m]=arguments[m];if(_.length>1)return _.map(function(p){return y(p)});var g=_[0];if(typeof g.blotName!="string"&&typeof g.attrName!="string")throw new s("Invalid definition");if(g.blotName==="abstract")throw new s("Cannot register abstract class");if(d[g.blotName||g.attrName]=g,typeof g.keyName=="string")a[g.keyName]=g;else if(g.className!=null&&(l[g.className]=g),g.tagName!=null){Array.isArray(g.tagName)?g.tagName=g.tagName.map(function(p){return p.toUpperCase()}):g.tagName=g.tagName.toUpperCase();var E=Array.isArray(g.tagName)?g.tagName:[g.tagName];E.forEach(function(p){(u[p]==null||g.className==null)&&(u[p]=g)})}return g}r.register=y},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u=String.fromCharCode(0),d=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};d.prototype.insert=function(f,c){var h={};return f.length===0?this:(h.insert=f,c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(h.attributes=c),this.push(h))},d.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},d.prototype.retain=function(f,c){if(f<=0)return this;var h={retain:f};return c!=null&&typeof c=="object"&&Object.keys(c).length>0&&(h.attributes=c),this.push(h)},d.prototype.push=function(f){var c=this.ops.length,h=this.ops[c-1];if(f=a(!0,{},f),typeof h=="object"){if(typeof f.delete=="number"&&typeof h.delete=="number")return this.ops[c-1]={delete:h.delete+f.delete},this;if(typeof h.delete=="number"&&f.insert!=null&&(c-=1,h=this.ops[c-1],typeof h!="object"))return this.ops.unshift(f),this;if(s(f.attributes,h.attributes)){if(typeof f.insert=="string"&&typeof h.insert=="string")return this.ops[c-1]={insert:h.insert+f.insert},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof h.retain=="number")return this.ops[c-1]={retain:h.retain+f.retain},typeof f.attributes=="object"&&(this.ops[c-1].attributes=f.attributes),this}}return c===this.ops.length?this.ops.push(f):this.ops.splice(c,0,f),this},d.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},d.prototype.filter=function(f){return this.ops.filter(f)},d.prototype.forEach=function(f){this.ops.forEach(f)},d.prototype.map=function(f){return this.ops.map(f)},d.prototype.partition=function(f){var c=[],h=[];return this.forEach(function(v){var y=f(v)?c:h;y.push(v)}),[c,h]},d.prototype.reduce=function(f,c){return this.ops.reduce(f,c)},d.prototype.changeLength=function(){return this.reduce(function(f,c){return c.insert?f+l.length(c):c.delete?f-c.delete:f},0)},d.prototype.length=function(){return this.reduce(function(f,c){return f+l.length(c)},0)},d.prototype.slice=function(f,c){f=f||0,typeof c!="number"&&(c=1/0);for(var h=[],v=l.iterator(this.ops),y=0;y<c&&v.hasNext();){var _;y<f?_=v.next(f-y):(_=v.next(c-y),h.push(_)),y+=l.length(_)}return new d(h)},d.prototype.compose=function(f){var c=l.iterator(this.ops),h=l.iterator(f.ops),v=[],y=h.peek();if(y!=null&&typeof y.retain=="number"&&y.attributes==null){for(var _=y.retain;c.peekType()==="insert"&&c.peekLength()<=_;)_-=c.peekLength(),v.push(c.next());y.retain-_>0&&h.next(y.retain-_)}for(var m=new d(v);c.hasNext()||h.hasNext();)if(h.peekType()==="insert")m.push(h.next());else if(c.peekType()==="delete")m.push(c.next());else{var g=Math.min(c.peekLength(),h.peekLength()),E=c.next(g),p=h.next(g);if(typeof p.retain=="number"){var b={};typeof E.retain=="number"?b.retain=g:b.insert=E.insert;var C=l.attributes.compose(E.attributes,p.attributes,typeof E.retain=="number");if(C&&(b.attributes=C),m.push(b),!h.hasNext()&&s(m.ops[m.ops.length-1],b)){var O=new d(c.rest());return m.concat(O).chop()}}else typeof p.delete=="number"&&typeof E.retain=="number"&&m.push(p)}return m.chop()},d.prototype.concat=function(f){var c=new d(this.ops.slice());return f.ops.length>0&&(c.push(f.ops[0]),c.ops=c.ops.concat(f.ops.slice(1))),c},d.prototype.diff=function(f,c){if(this.ops===f.ops)return new d;var h=[this,f].map(function(g){return g.map(function(E){if(E.insert!=null)return typeof E.insert=="string"?E.insert:u;var p=g===f?"on":"with";throw new Error("diff() called "+p+" non-document")}).join("")}),v=new d,y=o(h[0],h[1],c),_=l.iterator(this.ops),m=l.iterator(f.ops);return y.forEach(function(g){for(var E=g[1].length;E>0;){var p=0;switch(g[0]){case o.INSERT:p=Math.min(m.peekLength(),E),v.push(m.next(p));break;case o.DELETE:p=Math.min(E,_.peekLength()),_.next(p),v.delete(p);break;case o.EQUAL:p=Math.min(_.peekLength(),m.peekLength(),E);var b=_.next(p),C=m.next(p);s(b.insert,C.insert)?v.retain(p,l.attributes.diff(b.attributes,C.attributes)):v.push(C).delete(p);break}E-=p}}),v.chop()},d.prototype.eachLine=function(f,c){c=c||`
`;for(var h=l.iterator(this.ops),v=new d,y=0;h.hasNext();){if(h.peekType()!=="insert")return;var _=h.peek(),m=l.length(_)-h.peekLength(),g=typeof _.insert=="string"?_.insert.indexOf(c,m)-m:-1;if(g<0)v.push(h.next());else if(g>0)v.push(h.next(g));else{if(f(v,h.next(1).attributes||{},y)===!1)return;y+=1,v=new d}}v.length()>0&&f(v,{},y)},d.prototype.transform=function(f,c){if(c=!!c,typeof f=="number")return this.transformPosition(f,c);for(var h=l.iterator(this.ops),v=l.iterator(f.ops),y=new d;h.hasNext()||v.hasNext();)if(h.peekType()==="insert"&&(c||v.peekType()!=="insert"))y.retain(l.length(h.next()));else if(v.peekType()==="insert")y.push(v.next());else{var _=Math.min(h.peekLength(),v.peekLength()),m=h.next(_),g=v.next(_);if(m.delete)continue;g.delete?y.push(g):y.retain(_,l.attributes.transform(m.attributes,g.attributes,c))}return y.chop()},d.prototype.transformPosition=function(f,c){c=!!c;for(var h=l.iterator(this.ops),v=0;h.hasNext()&&v<=f;){var y=h.peekLength(),_=h.peekType();if(h.next(),_==="delete"){f-=Math.min(y,f-v);continue}else _==="insert"&&(v<f||!c)&&(f+=y);v+=y}return f},n.exports=d},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):o.call(h)==="[object Array]"},u=function(h){if(!h||o.call(h)!=="[object Object]")return!1;var v=i.call(h,"constructor"),y=h.constructor&&h.constructor.prototype&&i.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!v&&!y)return!1;var _;for(_ in h);return typeof _>"u"||i.call(h,_)},d=function(h,v){s&&v.name==="__proto__"?s(h,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):h[v.name]=v.newValue},f=function(h,v){if(v==="__proto__")if(i.call(h,v)){if(a)return a(h,v).value}else return;return h[v]};n.exports=function c(){var h,v,y,_,m,g,E=arguments[0],p=1,b=arguments.length,C=!1;for(typeof E=="boolean"&&(C=E,E=arguments[1]||{},p=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});p<b;++p)if(h=arguments[p],h!=null)for(v in h)y=f(E,v),_=f(h,v),E!==_&&(C&&_&&(u(_)||(m=l(_)))?(m?(m=!1,g=y&&l(y)?y:[]):g=y&&u(y)?y:{},d(E,{name:v,newValue:c(C,g,_)})):typeof _<"u"&&d(E,{name:v,newValue:_}));return E}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function T(S,k){for(var P=0;P<k.length;P++){var U=k[P];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(S,U.key,U)}}return function(S,k,P){return k&&T(S.prototype,k),P&&T(S,P),S}}(),s=function T(S,k,P){S===null&&(S=Function.prototype);var U=Object.getOwnPropertyDescriptor(S,k);if(U===void 0){var z=Object.getPrototypeOf(S);return z===null?void 0:T(z,k,P)}else{if("value"in U)return U.value;var Q=U.get;return Q===void 0?void 0:Q.call(P)}},a=i(3),l=E(a),u=i(2),d=E(u),f=i(0),c=E(f),h=i(16),v=E(h),y=i(6),_=E(y),m=i(7),g=E(m);function E(T){return T&&T.__esModule?T:{default:T}}function p(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function b(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function C(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}var O=1,I=function(T){C(S,T);function S(){return p(this,S),b(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"attach",value:function(){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"attach",this).call(this),this.attributes=new c.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(P,U){var z=c.default.query(P,c.default.Scope.BLOCK_ATTRIBUTE);z!=null&&this.attributes.attribute(z,U)}},{key:"formatAt",value:function(P,U,z,Q){this.format(z,Q)}},{key:"insertAt",value:function(P,U,z){if(typeof U=="string"&&U.endsWith(`
`)){var Q=c.default.create(N.blotName);this.parent.insertBefore(Q,P===0?this:this.next),Q.insertAt(0,U.slice(0,-1))}else s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,P,U,z)}}]),S}(c.default.Embed);I.scope=c.default.Scope.BLOCK_BLOT;var N=function(T){C(S,T);function S(k){p(this,S);var P=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k));return P.cache={},P}return o(S,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(c.default.Leaf).reduce(function(P,U){return U.length()===0?P:P.insert(U.value(),A(U))},new d.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(P,U){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,P,U),this.cache={}}},{key:"formatAt",value:function(P,U,z,Q){U<=0||(c.default.query(z,c.default.Scope.BLOCK)?P+U===this.length()&&this.format(z,Q):s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,P,Math.min(U,this.length()-P-1),z,Q),this.cache={})}},{key:"insertAt",value:function(P,U,z){if(z!=null)return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,P,U,z);if(U.length!==0){var Q=U.split(`
`),se=Q.shift();se.length>0&&(P<this.length()-1||this.children.tail==null?s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,Math.min(P,this.length()-1),se):this.children.tail.insertAt(this.children.tail.length(),se),this.cache={});var X=this;Q.reduce(function(B,x){return X=X.split(B,!0),X.insertAt(0,x),x.length},P+se.length)}}},{key:"insertBefore",value:function(P,U){var z=this.children.head;s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,P,U),z instanceof v.default&&z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(P,U){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"moveChildren",this).call(this,P,U),this.cache={}}},{key:"optimize",value:function(P){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,P),this.cache={}}},{key:"path",value:function(P){return s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,P,!0)}},{key:"removeChild",value:function(P){s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"removeChild",this).call(this,P),this.cache={}}},{key:"split",value:function(P){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(U&&(P===0||P>=this.length()-O)){var z=this.clone();return P===0?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}else{var Q=s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"split",this).call(this,P,U);return this.cache={},Q}}}]),S}(c.default.Block);N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[_.default,c.default.Embed,g.default];function A(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null||(typeof T.formats=="function"&&(S=(0,l.default)(S,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope)?S:A(T.parent,S)}r.bubbleFormats=A,r.BlockEmbed=I,r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},s=function(){function X(B,x){var j=[],H=!0,ee=!1,Y=void 0;try{for(var D=B[Symbol.iterator](),L;!(H=(L=D.next()).done)&&(j.push(L.value),!(x&&j.length===x));H=!0);}catch($){ee=!0,Y=$}finally{try{!H&&D.return&&D.return()}finally{if(ee)throw Y}}return j}return function(B,x){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return X(B,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function X(B,x){for(var j=0;j<x.length;j++){var H=x[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(B,H.key,H)}}return function(B,x,j){return x&&X(B.prototype,x),j&&X(B,j),B}}();i(50);var l=i(2),u=A(l),d=i(14),f=A(d),c=i(8),h=A(c),v=i(9),y=A(v),_=i(0),m=A(_),g=i(15),E=A(g),p=i(3),b=A(p),C=i(10),O=A(C),I=i(34),N=A(I);function A(X){return X&&X.__esModule?X:{default:X}}function T(X,B,x){return B in X?Object.defineProperty(X,B,{value:x,enumerable:!0,configurable:!0,writable:!0}):X[B]=x,X}function S(X,B){if(!(X instanceof B))throw new TypeError("Cannot call a class as a function")}var k=(0,O.default)("quill"),P=function(){a(X,null,[{key:"debug",value:function(x){x===!0&&(x="log"),O.default.level(x)}},{key:"find",value:function(x){return x.__quill||m.default.find(x)}},{key:"import",value:function(x){return this.imports[x]==null&&k.error("Cannot import "+x+". Are you sure it was registered?"),this.imports[x]}},{key:"register",value:function(x,j){var H=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof x!="string"){var Y=x.attrName||x.blotName;typeof Y=="string"?this.register("formats/"+Y,x,j):Object.keys(x).forEach(function(D){H.register(D,x[D],j)})}else this.imports[x]!=null&&!ee&&k.warn("Overwriting "+x+" with",j),this.imports[x]=j,(x.startsWith("blots/")||x.startsWith("formats/"))&&j.blotName!=="abstract"?m.default.register(j):x.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function X(B){var x=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(S(this,X),this.options=U(B,j),this.container=this.options.container,this.container==null)return k.error("Invalid Quill container",B);this.options.debug&&X.debug(this.options.debug);var H=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new h.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new E.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(h.default.events.EDITOR_CHANGE,function(Y){Y===h.default.events.TEXT_CHANGE&&x.root.classList.toggle("ql-blank",x.editor.isBlank())}),this.emitter.on(h.default.events.SCROLL_UPDATE,function(Y,D){var L=x.selection.lastRange,$=L&&L.length===0?L.index:void 0;z.call(x,function(){return x.editor.update(null,D,$)},Y)});var ee=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+H+"<p><br></p></div>");this.setContents(ee),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(X,[{key:"addContainer",value:function(x){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof x=="string"){var H=x;x=document.createElement("div"),x.classList.add(H)}return this.container.insertBefore(x,j),x}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(x,j,H){var ee=this,Y=Q(x,j,H),D=s(Y,4);return x=D[0],j=D[1],H=D[3],z.call(this,function(){return ee.editor.deleteText(x,j)},H,x,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(x),this.container.classList.toggle("ql-disabled",!x)}},{key:"focus",value:function(){var x=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=x,this.scrollIntoView()}},{key:"format",value:function(x,j){var H=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;return z.call(this,function(){var Y=H.getSelection(!0),D=new u.default;if(Y==null)return D;if(m.default.query(x,m.default.Scope.BLOCK))D=H.editor.formatLine(Y.index,Y.length,T({},x,j));else{if(Y.length===0)return H.selection.format(x,j),D;D=H.editor.formatText(Y.index,Y.length,T({},x,j))}return H.setSelection(Y,h.default.sources.SILENT),D},ee)}},{key:"formatLine",value:function(x,j,H,ee,Y){var D=this,L=void 0,$=Q(x,j,H,ee,Y),F=s($,4);return x=F[0],j=F[1],L=F[2],Y=F[3],z.call(this,function(){return D.editor.formatLine(x,j,L)},Y,x,0)}},{key:"formatText",value:function(x,j,H,ee,Y){var D=this,L=void 0,$=Q(x,j,H,ee,Y),F=s($,4);return x=F[0],j=F[1],L=F[2],Y=F[3],z.call(this,function(){return D.editor.formatText(x,j,L)},Y,x,0)}},{key:"getBounds",value:function(x){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=void 0;typeof x=="number"?H=this.selection.getBounds(x,j):H=this.selection.getBounds(x.index,x.length);var ee=this.container.getBoundingClientRect();return{bottom:H.bottom-ee.top,height:H.height,left:H.left-ee.left,right:H.right-ee.left,top:H.top-ee.top,width:H.width}}},{key:"getContents",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,H=Q(x,j),ee=s(H,2);return x=ee[0],j=ee[1],this.editor.getContents(x,j)}},{key:"getFormat",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof x=="number"?this.editor.getFormat(x,j):this.editor.getFormat(x.index,x.length)}},{key:"getIndex",value:function(x){return x.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(x){return this.scroll.leaf(x)}},{key:"getLine",value:function(x){return this.scroll.line(x)}},{key:"getLines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof x!="number"?this.scroll.lines(x.index,x.length):this.scroll.lines(x,j)}},{key:"getModule",value:function(x){return this.theme.modules[x]}},{key:"getSelection",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return x&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,H=Q(x,j),ee=s(H,2);return x=ee[0],j=ee[1],this.editor.getText(x,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(x,j,H){var ee=this,Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X.sources.API;return z.call(this,function(){return ee.editor.insertEmbed(x,j,H)},Y,x)}},{key:"insertText",value:function(x,j,H,ee,Y){var D=this,L=void 0,$=Q(x,0,H,ee,Y),F=s($,4);return x=F[0],L=F[2],Y=F[3],z.call(this,function(){return D.editor.insertText(x,j,L)},Y,x,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(x,j,H){this.clipboard.dangerouslyPasteHTML(x,j,H)}},{key:"removeFormat",value:function(x,j,H){var ee=this,Y=Q(x,j,H),D=s(Y,4);return x=D[0],j=D[1],H=D[3],z.call(this,function(){return ee.editor.removeFormat(x,j)},H,x)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(x){var j=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return z.call(this,function(){x=new u.default(x);var ee=j.getLength(),Y=j.editor.deleteText(0,ee),D=j.editor.applyDelta(x),L=D.ops[D.ops.length-1];L!=null&&typeof L.insert=="string"&&L.insert[L.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),D.delete(1));var $=Y.compose(D);return $},H)}},{key:"setSelection",value:function(x,j,H){if(x==null)this.selection.setRange(null,j||X.sources.API);else{var ee=Q(x,j,H),Y=s(ee,4);x=Y[0],j=Y[1],H=Y[3],this.selection.setRange(new g.Range(x,j),H),H!==h.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(x){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API,H=new u.default().insert(x);return this.setContents(H,j)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.default.sources.USER,j=this.scroll.update(x);return this.selection.update(x),j}},{key:"updateContents",value:function(x){var j=this,H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.default.sources.API;return z.call(this,function(){return x=new u.default(x),j.editor.applyDelta(x,H)},H,!0)}}]),X}();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=h.default.events,P.sources=h.default.sources,P.version="1.3.7",P.imports={delta:u.default,parchment:m.default,"core/module":y.default,"core/theme":N.default};function U(X,B){if(B=(0,b.default)(!0,{container:X,modules:{clipboard:!0,keyboard:!0,history:!0}},B),!B.theme||B.theme===P.DEFAULTS.theme)B.theme=N.default;else if(B.theme=P.import("themes/"+B.theme),B.theme==null)throw new Error("Invalid theme "+B.theme+". Did you register it?");var x=(0,b.default)(!0,{},B.theme.DEFAULTS);[x,B].forEach(function(ee){ee.modules=ee.modules||{},Object.keys(ee.modules).forEach(function(Y){ee.modules[Y]===!0&&(ee.modules[Y]={})})});var j=Object.keys(x.modules).concat(Object.keys(B.modules)),H=j.reduce(function(ee,Y){var D=P.import("modules/"+Y);return D==null?k.error("Cannot load "+Y+" module. Are you sure you registered it?"):ee[Y]=D.DEFAULTS||{},ee},{});return B.modules!=null&&B.modules.toolbar&&B.modules.toolbar.constructor!==Object&&(B.modules.toolbar={container:B.modules.toolbar}),B=(0,b.default)(!0,{},P.DEFAULTS,{modules:H},x,B),["bounds","container","scrollingContainer"].forEach(function(ee){typeof B[ee]=="string"&&(B[ee]=document.querySelector(B[ee]))}),B.modules=Object.keys(B.modules).reduce(function(ee,Y){return B.modules[Y]&&(ee[Y]=B.modules[Y]),ee},{}),B}function z(X,B,x,j){if(this.options.strict&&!this.isEnabled()&&B===h.default.sources.USER)return new u.default;var H=x==null?null:this.getSelection(),ee=this.editor.delta,Y=X();if(H!=null&&(x===!0&&(x=H.index),j==null?H=se(H,Y,B):j!==0&&(H=se(H,x,j,B)),this.setSelection(H,h.default.sources.SILENT)),Y.length()>0){var D,L=[h.default.events.TEXT_CHANGE,Y,ee,B];if((D=this.emitter).emit.apply(D,[h.default.events.EDITOR_CHANGE].concat(L)),B!==h.default.sources.SILENT){var $;($=this.emitter).emit.apply($,L)}}return Y}function Q(X,B,x,j,H){var ee={};return typeof X.index=="number"&&typeof X.length=="number"?typeof B!="number"?(H=j,j=x,x=B,B=X.length,X=X.index):(B=X.length,X=X.index):typeof B!="number"&&(H=j,j=x,x=B,B=0),(typeof x>"u"?"undefined":o(x))==="object"?(ee=x,H=j):typeof x=="string"&&(j!=null?ee[x]=j:H=x),H=H||h.default.sources.API,[X,B,ee,H]}function se(X,B,x,j){if(X==null)return null;var H=void 0,ee=void 0;if(B instanceof u.default){var Y=[X.index,X.index+X.length].map(function(F){return B.transformPosition(F,j!==h.default.sources.USER)}),D=s(Y,2);H=D[0],ee=D[1]}else{var L=[X.index,X.index+X.length].map(function(F){return F<B||F===B&&j===h.default.sources.USER?F:x>=0?F+x:Math.max(B,F+x)}),$=s(L,2);H=$[0],ee=$[1]}return new g.Range(H,ee-H)}r.expandConfig=U,r.overload=Q,r.default=P},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(m,g){for(var E=0;E<g.length;E++){var p=g[E];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,E){return g&&_(m.prototype,g),E&&_(m,E),m}}(),s=function _(m,g,E){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,g);if(p===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:_(b,g,E)}else{if("value"in p)return p.value;var C=p.get;return C===void 0?void 0:C.call(E)}},a=i(7),l=f(a),u=i(0),d=f(u);function f(_){return _&&_.__esModule?_:{default:_}}function c(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function h(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function v(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var y=function(_){v(m,_);function m(){return c(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"formatAt",value:function(E,p,b,C){if(m.compare(this.statics.blotName,b)<0&&d.default.query(b,d.default.Scope.BLOT)){var O=this.isolate(E,p);C&&O.wrap(b,C)}else s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,E,p,b,C)}},{key:"optimize",value:function(E){if(s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,E),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var p=this.parent.isolate(this.offset(),this.length());this.moveChildren(p),p.wrap(this)}}}],[{key:"compare",value:function(E,p){var b=m.order.indexOf(E),C=m.order.indexOf(p);return b>=0||C>=0?b-C:E===p?0:E<p?-1:1}}]),m}(d.default.Inline);y.allowedChildren=[y,d.default.Embed,l.default],y.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function d(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var f=function(c){d(h,c);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(E,p){for(var b=0;b<p.length;b++){var C=p[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,p,b){return p&&g(E.prototype,p),b&&g(E,b),E}}(),s=function g(E,p,b){E===null&&(E=Function.prototype);var C=Object.getOwnPropertyDescriptor(E,p);if(C===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:g(O,p,b)}else{if("value"in C)return C.value;var I=C.get;return I===void 0?void 0:I.call(b)}},a=i(54),l=f(a),u=i(10),d=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function c(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function h(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:g}function v(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}var y=(0,d.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(g){document.addEventListener(g,function(){for(var E=arguments.length,p=Array(E),b=0;b<E;b++)p[b]=arguments[b];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(C){if(C.__quill&&C.__quill.emitter){var O;(O=C.__quill.emitter).handleDOM.apply(O,p)}})})});var m=function(g){v(E,g);function E(){c(this,E);var p=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));return p.listeners={},p.on("error",y.error),p}return o(E,[{key:"emit",value:function(){y.log.apply(y,arguments),s(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(b){for(var C=arguments.length,O=Array(C>1?C-1:0),I=1;I<C;I++)O[I-1]=arguments[I];(this.listeners[b.type]||[]).forEach(function(N){var A=N.node,T=N.handler;(b.target===A||A.contains(b.target))&&T.apply(void 0,[b].concat(O))})}},{key:"listenDOM",value:function(b,C,O){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push({node:C,handler:O})}}]),E}(l.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},r.default=m},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var d,f=arguments.length,c=Array(f>1?f-1:0),h=1;h<f;h++)c[h-1]=arguments[h];(d=console)[u].apply(d,c)}}function l(u){return o.reduce(function(d,f){return d[f]=a.bind(console,f,u),d},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(c,h,v){return v||(v={}),c===h?!0:c instanceof Date&&h instanceof Date?c.getTime()===h.getTime():!c||!h||typeof c!="object"&&typeof h!="object"?v.strict?c===h:c==h:f(c,h,v)};function u(c){return c==null}function d(c){return!(!c||typeof c!="object"||typeof c.length!="number"||typeof c.copy!="function"||typeof c.slice!="function"||c.length>0&&typeof c[0]!="number")}function f(c,h,v){var y,_;if(u(c)||u(h)||c.prototype!==h.prototype)return!1;if(a(c))return a(h)?(c=o.call(c),h=o.call(h),l(c,h,v)):!1;if(d(c)){if(!d(h)||c.length!==h.length)return!1;for(y=0;y<c.length;y++)if(c[y]!==h[y])return!1;return!0}try{var m=s(c),g=s(h)}catch{return!1}if(m.length!=g.length)return!1;for(m.sort(),g.sort(),y=m.length-1;y>=0;y--)if(m[y]!=g[y])return!1;for(y=m.length-1;y>=0;y--)if(_=m[y],!l(c[_],h[_],v))return!1;return typeof c==typeof h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,d){d===void 0&&(d={}),this.attrName=l,this.keyName=u;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var d=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function I(N,A){var T=[],S=!0,k=!1,P=void 0;try{for(var U=N[Symbol.iterator](),z;!(S=(z=U.next()).done)&&(T.push(z.value),!(A&&T.length===A));S=!0);}catch(Q){k=!0,P=Q}finally{try{!S&&U.return&&U.return()}finally{if(k)throw P}}return T}return function(N,A){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return I(N,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(N,A){for(var T=0;T<A.length;T++){var S=A[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(N,S.key,S)}}return function(N,A,T){return A&&I(N.prototype,A),T&&I(N,T),N}}(),a=function I(N,A,T){N===null&&(N=Function.prototype);var S=Object.getOwnPropertyDescriptor(N,A);if(S===void 0){var k=Object.getPrototypeOf(N);return k===null?void 0:I(k,A,T)}else{if("value"in S)return S.value;var P=S.get;return P===void 0?void 0:P.call(T)}},l=i(2),u=g(l),d=i(0),f=g(d),c=i(4),h=g(c),v=i(6),y=g(v),_=i(7),m=g(_);function g(I){return I&&I.__esModule?I:{default:I}}function E(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}function p(I,N){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:I}function b(I,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);I.prototype=Object.create(N&&N.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(I,N):I.__proto__=N)}var C=function(I){b(N,I);function N(){return E(this,N),p(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return N}(y.default);C.blotName="code",C.tagName="CODE";var O=function(I){b(N,I);function N(){return E(this,N),p(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return s(N,[{key:"delta",value:function(){var T=this,S=this.domNode.textContent;return S.endsWith(`
`)&&(S=S.slice(0,-1)),S.split(`
`).reduce(function(k,P){return k.insert(P).insert(`
`,T.formats())},new u.default)}},{key:"format",value:function(T,S){if(!(T===this.statics.blotName&&S)){var k=this.descendant(m.default,this.length()-1),P=o(k,1),U=P[0];U!=null&&U.deleteAt(U.length()-1,1),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,T,S)}}},{key:"formatAt",value:function(T,S,k,P){if(S!==0&&!(f.default.query(k,f.default.Scope.BLOCK)==null||k===this.statics.blotName&&P===this.statics.formats(this.domNode))){var U=this.newlineIndex(T);if(!(U<0||U>=T+S)){var z=this.newlineIndex(T,!0)+1,Q=U-z+1,se=this.isolate(z,Q),X=se.next;se.format(k,P),X instanceof N&&X.formatAt(0,T-z+S-Q,k,P)}}}},{key:"insertAt",value:function(T,S,k){if(k==null){var P=this.descendant(m.default,T),U=o(P,2),z=U[0],Q=U[1];z.insertAt(Q,S)}}},{key:"length",value:function(){var T=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?T:T+1}},{key:"newlineIndex",value:function(T){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(S)return this.domNode.textContent.slice(0,T).lastIndexOf(`
`);var k=this.domNode.textContent.slice(T).indexOf(`
`);return k>-1?T+k:-1}},{key:"optimize",value:function(T){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,T);var S=this.next;S!=null&&S.prev===this&&S.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===S.statics.formats(S.domNode)&&(S.optimize(T),S.moveChildren(this),S.remove())}},{key:"replace",value:function(T){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,T),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(S){var k=f.default.find(S);k==null?S.parentNode.removeChild(S):k instanceof f.default.Embed?k.remove():k.unwrap()})}}],[{key:"create",value:function(T){var S=a(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,T);return S.setAttribute("spellcheck",!1),S}},{key:"formats",value:function(){return!0}}]),N}(h.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",r.Code=C,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},s=function(){function X(B,x){var j=[],H=!0,ee=!1,Y=void 0;try{for(var D=B[Symbol.iterator](),L;!(H=(L=D.next()).done)&&(j.push(L.value),!(x&&j.length===x));H=!0);}catch($){ee=!0,Y=$}finally{try{!H&&D.return&&D.return()}finally{if(ee)throw Y}}return j}return function(B,x){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return X(B,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function X(B,x){for(var j=0;j<x.length;j++){var H=x[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(B,H.key,H)}}return function(B,x,j){return x&&X(B.prototype,x),j&&X(B,j),B}}(),l=i(2),u=S(l),d=i(20),f=S(d),c=i(0),h=S(c),v=i(13),y=S(v),_=i(24),m=S(_),g=i(4),E=S(g),p=i(16),b=S(p),C=i(21),O=S(C),I=i(11),N=S(I),A=i(3),T=S(A);function S(X){return X&&X.__esModule?X:{default:X}}function k(X,B,x){return B in X?Object.defineProperty(X,B,{value:x,enumerable:!0,configurable:!0,writable:!0}):X[B]=x,X}function P(X,B){if(!(X instanceof B))throw new TypeError("Cannot call a class as a function")}var U=/^[ -~]*$/,z=function(){function X(B){P(this,X),this.scroll=B,this.delta=this.getDelta()}return a(X,[{key:"applyDelta",value:function(x){var j=this,H=!1;this.scroll.update();var ee=this.scroll.length();return this.scroll.batchStart(),x=se(x),x.reduce(function(Y,D){var L=D.retain||D.delete||D.insert.length||1,$=D.attributes||{};if(D.insert!=null){if(typeof D.insert=="string"){var F=D.insert;F.endsWith(`
`)&&H&&(H=!1,F=F.slice(0,-1)),Y>=ee&&!F.endsWith(`
`)&&(H=!0),j.scroll.insertAt(Y,F);var Z=j.scroll.line(Y),le=s(Z,2),M=le[0],q=le[1],K=(0,T.default)({},(0,g.bubbleFormats)(M));if(M instanceof E.default){var ne=M.descendant(h.default.Leaf,q),oe=s(ne,1),ie=oe[0];K=(0,T.default)(K,(0,g.bubbleFormats)(ie))}$=f.default.attributes.diff(K,$)||{}}else if(o(D.insert)==="object"){var G=Object.keys(D.insert)[0];if(G==null)return Y;j.scroll.insertAt(Y,G,D.insert[G])}ee+=L}return Object.keys($).forEach(function(V){j.scroll.formatAt(Y,L,V,$[V])}),Y+L},0),x.reduce(function(Y,D){return typeof D.delete=="number"?(j.scroll.deleteAt(Y,D.delete),Y):Y+(D.retain||D.insert.length||1)},0),this.scroll.batchEnd(),this.update(x)}},{key:"deleteText",value:function(x,j){return this.scroll.deleteAt(x,j),this.update(new u.default().retain(x).delete(j))}},{key:"formatLine",value:function(x,j){var H=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ee).forEach(function(Y){if(!(H.scroll.whitelist!=null&&!H.scroll.whitelist[Y])){var D=H.scroll.lines(x,Math.max(j,1)),L=j;D.forEach(function($){var F=$.length();if(!($ instanceof y.default))$.format(Y,ee[Y]);else{var Z=x-$.offset(H.scroll),le=$.newlineIndex(Z+L)-Z+1;$.formatAt(Z,le,Y,ee[Y])}L-=F})}}),this.scroll.optimize(),this.update(new u.default().retain(x).retain(j,(0,O.default)(ee)))}},{key:"formatText",value:function(x,j){var H=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ee).forEach(function(Y){H.scroll.formatAt(x,j,Y,ee[Y])}),this.update(new u.default().retain(x).retain(j,(0,O.default)(ee)))}},{key:"getContents",value:function(x,j){return this.delta.slice(x,x+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(x,j){return x.concat(j.delta())},new u.default)}},{key:"getFormat",value:function(x){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,H=[],ee=[];j===0?this.scroll.path(x).forEach(function(D){var L=s(D,1),$=L[0];$ instanceof E.default?H.push($):$ instanceof h.default.Leaf&&ee.push($)}):(H=this.scroll.lines(x,j),ee=this.scroll.descendants(h.default.Leaf,x,j));var Y=[H,ee].map(function(D){if(D.length===0)return{};for(var L=(0,g.bubbleFormats)(D.shift());Object.keys(L).length>0;){var $=D.shift();if($==null)return L;L=Q((0,g.bubbleFormats)($),L)}return L});return T.default.apply(T.default,Y)}},{key:"getText",value:function(x,j){return this.getContents(x,j).filter(function(H){return typeof H.insert=="string"}).map(function(H){return H.insert}).join("")}},{key:"insertEmbed",value:function(x,j,H){return this.scroll.insertAt(x,j,H),this.update(new u.default().retain(x).insert(k({},j,H)))}},{key:"insertText",value:function(x,j){var H=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(x,j),Object.keys(ee).forEach(function(Y){H.scroll.formatAt(x,j.length,Y,ee[Y])}),this.update(new u.default().retain(x).insert(j,(0,O.default)(ee)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var x=this.scroll.children.head;return x.statics.blotName!==E.default.blotName||x.children.length>1?!1:x.children.head instanceof b.default}},{key:"removeFormat",value:function(x,j){var H=this.getText(x,j),ee=this.scroll.line(x+j),Y=s(ee,2),D=Y[0],L=Y[1],$=0,F=new u.default;D!=null&&(D instanceof y.default?$=D.newlineIndex(L)-L+1:$=D.length()-L,F=D.delta().slice(L,L+$-1).insert(`
`));var Z=this.getContents(x,j+$),le=Z.diff(new u.default().insert(H).concat(F)),M=new u.default().retain(x).concat(le);return this.applyDelta(M)}},{key:"update",value:function(x){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ee=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(U)&&h.default.find(j[0].target)){var Y=h.default.find(j[0].target),D=(0,g.bubbleFormats)(Y),L=Y.offset(this.scroll),$=j[0].oldValue.replace(m.default.CONTENTS,""),F=new u.default().insert($),Z=new u.default().insert(Y.value()),le=new u.default().retain(L).concat(F.diff(Z,H));x=le.reduce(function(M,q){return q.insert?M.insert(q.insert,D):M.push(q)},new u.default),this.delta=ee.compose(x)}else this.delta=this.getDelta(),(!x||!(0,N.default)(ee.compose(x),this.delta))&&(x=ee.diff(this.delta,H));return x}}]),X}();function Q(X,B){return Object.keys(B).reduce(function(x,j){return X[j]==null||(B[j]===X[j]?x[j]=B[j]:Array.isArray(B[j])?B[j].indexOf(X[j])<0&&(x[j]=B[j].concat([X[j]])):x[j]=[B[j],X[j]]),x},{})}function se(X){return X.reduce(function(B,x){if(x.insert===1){var j=(0,O.default)(x.attributes);return delete j.image,B.insert({image:x.attributes.image},j)}if(x.attributes!=null&&(x.attributes.list===!0||x.attributes.bullet===!0)&&(x=(0,O.default)(x),x.attributes.list?x.attributes.list="ordered":(x.attributes.list="bullet",delete x.attributes.bullet)),typeof x.insert=="string"){var H=x.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return B.insert(H,x.attributes)}return B.push(x)},new u.default)}r.default=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function I(N,A){var T=[],S=!0,k=!1,P=void 0;try{for(var U=N[Symbol.iterator](),z;!(S=(z=U.next()).done)&&(T.push(z.value),!(A&&T.length===A));S=!0);}catch(Q){k=!0,P=Q}finally{try{!S&&U.return&&U.return()}finally{if(k)throw P}}return T}return function(N,A){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return I(N,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function I(N,A){for(var T=0;T<A.length;T++){var S=A[T];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(N,S.key,S)}}return function(N,A,T){return A&&I(N.prototype,A),T&&I(N,T),N}}(),a=i(0),l=m(a),u=i(21),d=m(u),f=i(11),c=m(f),h=i(8),v=m(h),y=i(10),_=m(y);function m(I){return I&&I.__esModule?I:{default:I}}function g(I){if(Array.isArray(I)){for(var N=0,A=Array(I.length);N<I.length;N++)A[N]=I[N];return A}else return Array.from(I)}function E(I,N){if(!(I instanceof N))throw new TypeError("Cannot call a class as a function")}var p=(0,_.default)("quill:selection"),b=function I(N){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;E(this,I),this.index=N,this.length=A},C=function(){function I(N,A){var T=this;E(this,I),this.emitter=A,this.scroll=N,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){T.mouseDown||setTimeout(T.update.bind(T,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(S,k){S===v.default.events.TEXT_CHANGE&&k.length()>0&&T.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(T.hasFocus()){var S=T.getNativeRange();S!=null&&S.start.node!==T.cursor.textNode&&T.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{T.setNativeRange(S.start.node,S.start.offset,S.end.node,S.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(S,k){if(k.range){var P=k.range,U=P.startNode,z=P.startOffset,Q=P.endNode,se=P.endOffset;T.setNativeRange(U,z,Q,se)}}),this.update(v.default.sources.SILENT)}return s(I,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var T=A.cursor.restore();if(!T)return;setTimeout(function(){A.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,T){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var S=this.getNativeRange();if(!(S==null||!S.native.collapsed||l.default.query(A,l.default.Scope.BLOCK))){if(S.start.node!==this.cursor.textNode){var k=l.default.find(S.start.node,!1);if(k==null)return;if(k instanceof l.default.Leaf){var P=k.split(S.start.offset);k.parent.insertBefore(this.cursor,P)}else k.insertBefore(this.cursor,S.start.node);this.cursor.attach()}this.cursor.format(A,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,S=this.scroll.length();A=Math.min(A,S-1),T=Math.min(A+T,S-1)-A;var k=void 0,P=this.scroll.leaf(A),U=o(P,2),z=U[0],Q=U[1];if(z==null)return null;var se=z.position(Q,!0),X=o(se,2);k=X[0],Q=X[1];var B=document.createRange();if(T>0){B.setStart(k,Q);var x=this.scroll.leaf(A+T),j=o(x,2);if(z=j[0],Q=j[1],z==null)return null;var H=z.position(Q,!0),ee=o(H,2);return k=ee[0],Q=ee[1],B.setEnd(k,Q),B.getBoundingClientRect()}else{var Y="left",D=void 0;return k instanceof Text?(Q<k.data.length?(B.setStart(k,Q),B.setEnd(k,Q+1)):(B.setStart(k,Q-1),B.setEnd(k,Q),Y="right"),D=B.getBoundingClientRect()):(D=z.domNode.getBoundingClientRect(),Q>0&&(Y="right")),{bottom:D.top+D.height,height:D.height,left:D[Y],right:D[Y],top:D.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var T=A.getRangeAt(0);if(T==null)return null;var S=this.normalizeNative(T);return p.info("getNativeRange",S),S}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var T=this.normalizedToRange(A);return[T,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var T=this,S=[[A.start.node,A.start.offset]];A.native.collapsed||S.push([A.end.node,A.end.offset]);var k=S.map(function(z){var Q=o(z,2),se=Q[0],X=Q[1],B=l.default.find(se,!0),x=B.offset(T.scroll);return X===0?x:B instanceof l.default.Container?x+B.length():x+B.index(se,X)}),P=Math.min(Math.max.apply(Math,g(k)),this.scroll.length()-1),U=Math.min.apply(Math,[P].concat(g(k)));return new b(U,P-U)}},{key:"normalizeNative",value:function(A){if(!O(this.root,A.startContainer)||!A.collapsed&&!O(this.root,A.endContainer))return null;var T={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[T.start,T.end].forEach(function(S){for(var k=S.node,P=S.offset;!(k instanceof Text)&&k.childNodes.length>0;)if(k.childNodes.length>P)k=k.childNodes[P],P=0;else if(k.childNodes.length===P)k=k.lastChild,P=k instanceof Text?k.data.length:k.childNodes.length+1;else break;S.node=k,S.offset=P}),T}},{key:"rangeToNative",value:function(A){var T=this,S=A.collapsed?[A.index]:[A.index,A.index+A.length],k=[],P=this.scroll.length();return S.forEach(function(U,z){U=Math.min(P-1,U);var Q=void 0,se=T.scroll.leaf(U),X=o(se,2),B=X[0],x=X[1],j=B.position(x,z!==0),H=o(j,2);Q=H[0],x=H[1],k.push(Q,x)}),k.length<2&&(k=k.concat(k)),k}},{key:"scrollIntoView",value:function(A){var T=this.lastRange;if(T!=null){var S=this.getBounds(T.index,T.length);if(S!=null){var k=this.scroll.length()-1,P=this.scroll.line(Math.min(T.index,k)),U=o(P,1),z=U[0],Q=z;if(T.length>0){var se=this.scroll.line(Math.min(T.index+T.length,k)),X=o(se,1);Q=X[0]}if(!(z==null||Q==null)){var B=A.getBoundingClientRect();S.top<B.top?A.scrollTop-=B.top-S.top:S.bottom>B.bottom&&(A.scrollTop+=S.bottom-B.bottom)}}}}},{key:"setNativeRange",value:function(A,T){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(p.info("setNativeRange",A,T,S,k),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||S.parentNode==null))){var U=document.getSelection();if(U!=null)if(A!=null){this.hasFocus()||this.root.focus();var z=(this.getNativeRange()||{}).native;if(z==null||P||A!==z.startContainer||T!==z.startOffset||S!==z.endContainer||k!==z.endOffset){A.tagName=="BR"&&(T=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),S.tagName=="BR"&&(k=[].indexOf.call(S.parentNode.childNodes,S),S=S.parentNode);var Q=document.createRange();Q.setStart(A,T),Q.setEnd(S,k),U.removeAllRanges(),U.addRange(Q)}}else U.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof T=="string"&&(S=T,T=!1),p.info("setRange",A),A!=null){var k=this.rangeToNative(A);this.setNativeRange.apply(this,g(k).concat([T]))}else this.setNativeRange(null);this.update(S)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,T=this.lastRange,S=this.getRange(),k=o(S,2),P=k[0],U=k[1];if(this.lastRange=P,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,c.default)(T,this.lastRange)){var z;!this.composing&&U!=null&&U.native.collapsed&&U.start.node!==this.cursor.textNode&&this.cursor.restore();var Q=[v.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(T),A];if((z=this.emitter).emit.apply(z,[v.default.events.EDITOR_CHANGE].concat(Q)),A!==v.default.sources.SILENT){var se;(se=this.emitter).emit.apply(se,Q)}}}}]),I}();function O(I,N){try{N.parentNode}catch{return!1}return N instanceof Text&&(N=N.parentNode),I.contains(N)}r.Range=b,r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,_,m){return _&&v(y.prototype,_),m&&v(y,m),y}}(),s=function v(y,_,m){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,_);if(g===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:v(E,_,m)}else{if("value"in g)return g.value;var p=g.get;return p===void 0?void 0:p.call(m)}},a=i(0),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var h=function(v){c(y,v);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"insertInto",value:function(m,g){m.children.length===0?s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertInto",this).call(this,m,g):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),y}(l.default.Embed);h.blotName="break",h.tagName="BR",r.default=h},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var v in h)h.hasOwnProperty(v)&&(c[v]=h[v])};return function(c,h){f(c,h);function v(){this.constructor=c}c.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(f){o(c,f);function c(h){var v=f.call(this,h)||this;return v.build(),v}return c.prototype.appendChild=function(h){this.insertBefore(h)},c.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(h){h.attach()})},c.prototype.build=function(){var h=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var y=d(v);h.insertBefore(y,h.children.head||void 0)}catch(_){if(_ instanceof l.ParchmentError)return;throw _}})},c.prototype.deleteAt=function(h,v){if(h===0&&v===this.length())return this.remove();this.children.forEachAt(h,v,function(y,_,m){y.deleteAt(_,m)})},c.prototype.descendant=function(h,v){var y=this.children.find(v),_=y[0],m=y[1];return h.blotName==null&&h(_)||h.blotName!=null&&_ instanceof h?[_,m]:_ instanceof c?_.descendant(h,m):[null,-1]},c.prototype.descendants=function(h,v,y){v===void 0&&(v=0),y===void 0&&(y=Number.MAX_VALUE);var _=[],m=y;return this.children.forEachAt(v,y,function(g,E,p){(h.blotName==null&&h(g)||h.blotName!=null&&g instanceof h)&&_.push(g),g instanceof c&&(_=_.concat(g.descendants(h,E,m))),m-=p}),_},c.prototype.detach=function(){this.children.forEach(function(h){h.detach()}),f.prototype.detach.call(this)},c.prototype.formatAt=function(h,v,y,_){this.children.forEachAt(h,v,function(m,g,E){m.formatAt(g,E,y,_)})},c.prototype.insertAt=function(h,v,y){var _=this.children.find(h),m=_[0],g=_[1];if(m)m.insertAt(g,v,y);else{var E=y==null?l.create("text",v):l.create(v,y);this.appendChild(E)}},c.prototype.insertBefore=function(h,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(y){return h instanceof y}))throw new l.ParchmentError("Cannot insert "+h.statics.blotName+" into "+this.statics.blotName);h.insertInto(this,v)},c.prototype.length=function(){return this.children.reduce(function(h,v){return h+v.length()},0)},c.prototype.moveChildren=function(h,v){this.children.forEach(function(y){h.insertBefore(y,v)})},c.prototype.optimize=function(h){if(f.prototype.optimize.call(this,h),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(h)}else this.remove()},c.prototype.path=function(h,v){v===void 0&&(v=!1);var y=this.children.find(h,v),_=y[0],m=y[1],g=[[this,h]];return _ instanceof c?g.concat(_.path(m,v)):(_!=null&&g.push([_,m]),g)},c.prototype.removeChild=function(h){this.children.remove(h)},c.prototype.replace=function(h){h instanceof c&&h.moveChildren(this),f.prototype.replace.call(this,h)},c.prototype.split=function(h,v){if(v===void 0&&(v=!1),!v){if(h===0)return this;if(h===this.length())return this.next}var y=this.clone();return this.parent.insertBefore(y,this.next),this.children.forEachAt(h,this.length(),function(_,m,g){_=_.split(m,v),y.appendChild(_)}),y},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(h,v){var y=this,_=[],m=[];h.forEach(function(g){g.target===y.domNode&&g.type==="childList"&&(_.push.apply(_,g.addedNodes),m.push.apply(m,g.removedNodes))}),m.forEach(function(g){if(!(g.parentNode!=null&&g.tagName!=="IFRAME"&&document.body.compareDocumentPosition(g)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var E=l.find(g);E!=null&&(E.domNode.parentNode==null||E.domNode.parentNode===y.domNode)&&E.detach()}}),_.filter(function(g){return g.parentNode==y.domNode}).sort(function(g,E){return g===E?0:g.compareDocumentPosition(E)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(g){var E=null;g.nextSibling!=null&&(E=l.find(g.nextSibling));var p=d(g);(p.next!=E||p.next==null)&&(p.parent!=null&&p.parent.removeChild(y),y.insertBefore(p,E||void 0))})},c}(a.default);function d(f){var c=l.find(f);if(c==null)try{c=l.create(f)}catch{c=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){c.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(c.domNode,f),c.attach()}return c}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var v in h)h.hasOwnProperty(v)&&(c[v]=h[v])};return function(c,h){f(c,h);function v(){this.constructor=c}c.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),d=function(f){o(c,f);function c(h){var v=f.call(this,h)||this;return v.attributes=new a.default(v.domNode),v}return c.formats=function(h){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return h.tagName.toLowerCase()},c.prototype.format=function(h,v){var y=u.query(h);y instanceof s.default?this.attributes.attribute(y,v):v&&y!=null&&(h!==this.statics.blotName||this.formats()[h]!==v)&&this.replaceWith(h,v)},c.prototype.formats=function(){var h=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(h[this.statics.blotName]=v),h},c.prototype.replaceWith=function(h,v){var y=f.prototype.replaceWith.call(this,h,v);return this.attributes.copy(y),y},c.prototype.update=function(h,v){var y=this;f.prototype.update.call(this,h,v),h.some(function(_){return _.target===y.domNode&&_.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(h,v){var y=f.prototype.wrap.call(this,h,v);return y instanceof c&&y.statics.scope===this.statics.scope&&this.attributes.move(y),y},c}(l.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])};return function(d,f){u(d,f);function c(){this.constructor=d}d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(f){return!0},d.prototype.index=function(f,c){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},d.prototype.position=function(f,c){var h=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(h+=1),[this.parent.domNode,h]},d.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,d,f){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var c=s(!0,{},d);f||(c=Object.keys(c).reduce(function(v,y){return c[y]!=null&&(v[y]=c[y]),v},{}));for(var h in u)u[h]!==void 0&&d[h]===void 0&&(c[h]=u[h]);return Object.keys(c).length>0?c:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var f=Object.keys(u).concat(Object.keys(d)).reduce(function(c,h){return o(u[h],d[h])||(c[h]=d[h]===void 0?null:d[h]),c},{});return Object.keys(f).length>0?f:void 0},transform:function(u,d,f){if(typeof u!="object")return d;if(typeof d=="object"){if(!f)return d;var c=Object.keys(d).reduce(function(h,v){return u[v]===void 0&&(h[v]=d[v]),h},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var f=this.offset,c=a.length(d);if(u>=c-f?(u=c-f,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var h={};return d.attributes&&(h.attributes=d.attributes),typeof d.retain=="number"?h.retain=u:typeof d.insert=="string"?h.insert=d.insert.substr(f,u):h.insert=d.insert,h}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,f=this.next(),c=this.ops.slice(this.index);return this.offset=u,this.index=d,[f].concat(c)}else return[]},n.exports=a},function(n,r){var i=function(){function o(y,_){return _!=null&&y instanceof _}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(y,_,m,g,E){typeof _=="object"&&(m=_.depth,g=_.prototype,E=_.includeNonEnumerable,_=_.circular);var p=[],b=[],C=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof m>"u"&&(m=1/0);function O(I,N){if(I===null)return null;if(N===0)return I;var A,T;if(typeof I!="object")return I;if(o(I,s))A=new s;else if(o(I,a))A=new a;else if(o(I,l))A=new l(function(B,x){I.then(function(j){B(O(j,N-1))},function(j){x(O(j,N-1))})});else if(u.__isArray(I))A=[];else if(u.__isRegExp(I))A=new RegExp(I.source,v(I)),I.lastIndex&&(A.lastIndex=I.lastIndex);else if(u.__isDate(I))A=new Date(I.getTime());else{if(C&&Buffer.isBuffer(I))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(I.length):A=new Buffer(I.length),I.copy(A),A;o(I,Error)?A=Object.create(I):typeof g>"u"?(T=Object.getPrototypeOf(I),A=Object.create(T)):(A=Object.create(g),T=g)}if(_){var S=p.indexOf(I);if(S!=-1)return b[S];p.push(I),b.push(A)}o(I,s)&&I.forEach(function(B,x){var j=O(x,N-1),H=O(B,N-1);A.set(j,H)}),o(I,a)&&I.forEach(function(B){var x=O(B,N-1);A.add(x)});for(var k in I){var P;T&&(P=Object.getOwnPropertyDescriptor(T,k)),!(P&&P.set==null)&&(A[k]=O(I[k],N-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(I),k=0;k<U.length;k++){var z=U[k],Q=Object.getOwnPropertyDescriptor(I,z);Q&&!Q.enumerable&&!E||(A[z]=O(I[z],N-1),Q.enumerable||Object.defineProperty(A,z,{enumerable:!1}))}if(E)for(var se=Object.getOwnPropertyNames(I),k=0;k<se.length;k++){var X=se[k],Q=Object.getOwnPropertyDescriptor(I,X);Q&&Q.enumerable||(A[X]=O(I[X],N-1),Object.defineProperty(A,X,{enumerable:!1}))}return A}return O(y,m)}u.clonePrototype=function(_){if(_===null)return null;var m=function(){};return m.prototype=_,new m};function d(y){return Object.prototype.toString.call(y)}u.__objToStr=d;function f(y){return typeof y=="object"&&d(y)==="[object Date]"}u.__isDate=f;function c(y){return typeof y=="object"&&d(y)==="[object Array]"}u.__isArray=c;function h(y){return typeof y=="object"&&d(y)==="[object RegExp]"}u.__isRegExp=h;function v(y){var _="";return y.global&&(_+="g"),y.ignoreCase&&(_+="i"),y.multiline&&(_+="m"),_}return u.__getRegExpFlags=v,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function A(T,S){var k=[],P=!0,U=!1,z=void 0;try{for(var Q=T[Symbol.iterator](),se;!(P=(se=Q.next()).done)&&(k.push(se.value),!(S&&k.length===S));P=!0);}catch(X){U=!0,z=X}finally{try{!P&&Q.return&&Q.return()}finally{if(U)throw z}}return k}return function(T,S){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function A(T,S){for(var k=0;k<S.length;k++){var P=S[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(T,P.key,P)}}return function(T,S,k){return S&&A(T.prototype,S),k&&A(T,k),T}}(),a=function A(T,S,k){T===null&&(T=Function.prototype);var P=Object.getOwnPropertyDescriptor(T,S);if(P===void 0){var U=Object.getPrototypeOf(T);return U===null?void 0:A(U,S,k)}else{if("value"in P)return P.value;var z=P.get;return z===void 0?void 0:z.call(k)}},l=i(0),u=p(l),d=i(8),f=p(d),c=i(4),h=p(c),v=i(16),y=p(v),_=i(13),m=p(_),g=i(25),E=p(g);function p(A){return A&&A.__esModule?A:{default:A}}function b(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function C(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function O(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}function I(A){return A instanceof h.default||A instanceof c.BlockEmbed}var N=function(A){O(T,A);function T(S,k){b(this,T);var P=C(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,S));return P.emitter=k.emitter,Array.isArray(k.whitelist)&&(P.whitelist=k.whitelist.reduce(function(U,z){return U[z]=!0,U},{})),P.domNode.addEventListener("DOMNodeInserted",function(){}),P.optimize(),P.enable(),P}return s(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(k,P){var U=this.line(k),z=o(U,2),Q=z[0],se=z[1],X=this.line(k+P),B=o(X,1),x=B[0];if(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,k,P),x!=null&&Q!==x&&se>0){if(Q instanceof c.BlockEmbed||x instanceof c.BlockEmbed){this.optimize();return}if(Q instanceof m.default){var j=Q.newlineIndex(Q.length(),!0);if(j>-1&&(Q=Q.split(j+1),Q===x)){this.optimize();return}}else if(x instanceof m.default){var H=x.newlineIndex(0);H>-1&&x.split(H+1)}var ee=x.children.head instanceof y.default?null:x.children.head;Q.moveChildren(x,ee),Q.remove()}this.optimize()}},{key:"enable",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",k)}},{key:"formatAt",value:function(k,P,U,z){this.whitelist!=null&&!this.whitelist[U]||(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,k,P,U,z),this.optimize())}},{key:"insertAt",value:function(k,P,U){if(!(U!=null&&this.whitelist!=null&&!this.whitelist[P])){if(k>=this.length())if(U==null||u.default.query(P,u.default.Scope.BLOCK)==null){var z=u.default.create(this.statics.defaultChild);this.appendChild(z),U==null&&P.endsWith(`
`)&&(P=P.slice(0,-1)),z.insertAt(0,P,U)}else{var Q=u.default.create(P,U);this.appendChild(Q)}else a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,k,P,U);this.optimize()}}},{key:"insertBefore",value:function(k,P){if(k.statics.scope===u.default.Scope.INLINE_BLOT){var U=u.default.create(this.statics.defaultChild);U.appendChild(k),k=U}a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,k,P)}},{key:"leaf",value:function(k){return this.path(k).pop()||[null,-1]}},{key:"line",value:function(k){return k===this.length()?this.line(k-1):this.descendant(I,k)}},{key:"lines",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function z(Q,se,X){var B=[],x=X;return Q.children.forEachAt(se,X,function(j,H,ee){I(j)?B.push(j):j instanceof u.default.Container&&(B=B.concat(z(j,H,x))),x-=ee}),B};return U(this,k,P)}},{key:"optimize",value:function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,k,P),k.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,k,P))}},{key:"path",value:function(k){return a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,k).slice(1)}},{key:"update",value:function(k){if(this.batch!==!0){var P=f.default.sources.USER;typeof k=="string"&&(P=k),Array.isArray(k)||(k=this.observer.takeRecords()),k.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,P,k),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,k.concat([])),k.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,P,k)}}}]),T}(u.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[h.default,c.BlockEmbed,E.default],r.default=N},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},s=function(){function D(L,$){var F=[],Z=!0,le=!1,M=void 0;try{for(var q=L[Symbol.iterator](),K;!(Z=(K=q.next()).done)&&(F.push(K.value),!($&&F.length===$));Z=!0);}catch(ne){le=!0,M=ne}finally{try{!Z&&q.return&&q.return()}finally{if(le)throw M}}return F}return function(L,$){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return D(L,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function D(L,$){for(var F=0;F<$.length;F++){var Z=$[F];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(L,Z.key,Z)}}return function(L,$,F){return $&&D(L.prototype,$),F&&D(L,F),L}}(),l=i(21),u=A(l),d=i(11),f=A(d),c=i(3),h=A(c),v=i(2),y=A(v),_=i(20),m=A(_),g=i(0),E=A(g),p=i(5),b=A(p),C=i(10),O=A(C),I=i(9),N=A(I);function A(D){return D&&D.__esModule?D:{default:D}}function T(D,L,$){return L in D?Object.defineProperty(D,L,{value:$,enumerable:!0,configurable:!0,writable:!0}):D[L]=$,D}function S(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}function k(D,L){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:D}function P(D,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}var U=(0,O.default)("quill:keyboard"),z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Q=function(D){P(L,D),a(L,null,[{key:"match",value:function(F,Z){return Z=Y(Z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(le){return!!Z[le]!==F[le]&&Z[le]!==null})?!1:Z.key===(F.which||F.keyCode)}}]);function L($,F){S(this,L);var Z=k(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,$,F));return Z.bindings={},Object.keys(Z.options.bindings).forEach(function(le){le==="list autofill"&&$.scroll.whitelist!=null&&!$.scroll.whitelist.list||Z.options.bindings[le]&&Z.addBinding(Z.options.bindings[le])}),Z.addBinding({key:L.keys.ENTER,shiftKey:null},j),Z.addBinding({key:L.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Z.addBinding({key:L.keys.BACKSPACE},{collapsed:!0},X),Z.addBinding({key:L.keys.DELETE},{collapsed:!0},B)):(Z.addBinding({key:L.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},X),Z.addBinding({key:L.keys.DELETE},{collapsed:!0,suffix:/^.?$/},B)),Z.addBinding({key:L.keys.BACKSPACE},{collapsed:!1},x),Z.addBinding({key:L.keys.DELETE},{collapsed:!1},x),Z.addBinding({key:L.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},X),Z.listen(),Z}return a(L,[{key:"addBinding",value:function(F){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=Y(F);if(M==null||M.key==null)return U.warn("Attempted to add invalid keyboard binding",M);typeof Z=="function"&&(Z={handler:Z}),typeof le=="function"&&(le={handler:le}),M=(0,h.default)(M,Z,le),this.bindings[M.key]=this.bindings[M.key]||[],this.bindings[M.key].push(M)}},{key:"listen",value:function(){var F=this;this.quill.root.addEventListener("keydown",function(Z){if(!Z.defaultPrevented){var le=Z.which||Z.keyCode,M=(F.bindings[le]||[]).filter(function(ve){return L.match(Z,ve)});if(M.length!==0){var q=F.quill.getSelection();if(!(q==null||!F.quill.hasFocus())){var K=F.quill.getLine(q.index),ne=s(K,2),oe=ne[0],ie=ne[1],G=F.quill.getLeaf(q.index),V=s(G,2),te=V[0],J=V[1],re=q.length===0?[te,J]:F.quill.getLeaf(q.index+q.length),ce=s(re,2),ue=ce[0],fe=ce[1],me=te instanceof E.default.Text?te.value().slice(0,J):"",be=ue instanceof E.default.Text?ue.value().slice(fe):"",pe={collapsed:q.length===0,empty:q.length===0&&oe.length()<=1,format:F.quill.getFormat(q),offset:ie,prefix:me,suffix:be},Oe=M.some(function(ve){if(ve.collapsed!=null&&ve.collapsed!==pe.collapsed||ve.empty!=null&&ve.empty!==pe.empty||ve.offset!=null&&ve.offset!==pe.offset)return!1;if(Array.isArray(ve.format)){if(ve.format.every(function(qe){return pe.format[qe]==null}))return!1}else if(o(ve.format)==="object"&&!Object.keys(ve.format).every(function(qe){return ve.format[qe]===!0?pe.format[qe]!=null:ve.format[qe]===!1?pe.format[qe]==null:(0,f.default)(ve.format[qe],pe.format[qe])}))return!1;return ve.prefix!=null&&!ve.prefix.test(pe.prefix)||ve.suffix!=null&&!ve.suffix.test(pe.suffix)?!1:ve.handler.call(F,q,pe)!==!0});Oe&&Z.preventDefault()}}}})}}]),L}(N.default);Q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Q.DEFAULTS={bindings:{bold:ee("bold"),italic:ee("italic"),underline:ee("underline"),indent:{key:Q.keys.TAB,format:["blockquote","indent","list"],handler:function(L,$){if($.collapsed&&$.offset!==0)return!0;this.quill.format("indent","+1",b.default.sources.USER)}},outdent:{key:Q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(L,$){if($.collapsed&&$.offset!==0)return!0;this.quill.format("indent","-1",b.default.sources.USER)}},"outdent backspace":{key:Q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(L,$){$.format.indent!=null?this.quill.format("indent","-1",b.default.sources.USER):$.format.list!=null&&this.quill.format("list",!1,b.default.sources.USER)}},"indent code-block":H(!0),"outdent code-block":H(!1),"remove tab":{key:Q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(L){this.quill.deleteText(L.index-1,1,b.default.sources.USER)}},tab:{key:Q.keys.TAB,handler:function(L){this.quill.history.cutoff();var $=new y.default().retain(L.index).delete(L.length).insert("	");this.quill.updateContents($,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(L.index+1,b.default.sources.SILENT)}},"list empty enter":{key:Q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(L,$){this.quill.format("list",!1,b.default.sources.USER),$.format.indent&&this.quill.format("indent",!1,b.default.sources.USER)}},"checklist enter":{key:Q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(L){var $=this.quill.getLine(L.index),F=s($,2),Z=F[0],le=F[1],M=(0,h.default)({},Z.formats(),{list:"checked"}),q=new y.default().retain(L.index).insert(`
`,M).retain(Z.length()-le-1).retain(1,{list:"unchecked"});this.quill.updateContents(q,b.default.sources.USER),this.quill.setSelection(L.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(L,$){var F=this.quill.getLine(L.index),Z=s(F,2),le=Z[0],M=Z[1],q=new y.default().retain(L.index).insert(`
`,$.format).retain(le.length()-M-1).retain(1,{header:null});this.quill.updateContents(q,b.default.sources.USER),this.quill.setSelection(L.index+1,b.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(L,$){var F=$.prefix.length,Z=this.quill.getLine(L.index),le=s(Z,2),M=le[0],q=le[1];if(q>F)return!0;var K=void 0;switch($.prefix.trim()){case"[]":case"[ ]":K="unchecked";break;case"[x]":K="checked";break;case"-":case"*":K="bullet";break;default:K="ordered"}this.quill.insertText(L.index," ",b.default.sources.USER),this.quill.history.cutoff();var ne=new y.default().retain(L.index-q).delete(F+1).retain(M.length()-2-q).retain(1,{list:K});this.quill.updateContents(ne,b.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(L.index-F,b.default.sources.SILENT)}},"code exit":{key:Q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(L){var $=this.quill.getLine(L.index),F=s($,2),Z=F[0],le=F[1],M=new y.default().retain(L.index+Z.length()-le-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(M,b.default.sources.USER)}},"embed left":se(Q.keys.LEFT,!1),"embed left shift":se(Q.keys.LEFT,!0),"embed right":se(Q.keys.RIGHT,!1),"embed right shift":se(Q.keys.RIGHT,!0)}};function se(D,L){var $,F=D===Q.keys.LEFT?"prefix":"suffix";return $={key:D,shiftKey:L,altKey:null},T($,F,/^$/),T($,"handler",function(le){var M=le.index;D===Q.keys.RIGHT&&(M+=le.length+1);var q=this.quill.getLeaf(M),K=s(q,1),ne=K[0];return ne instanceof E.default.Embed?(D===Q.keys.LEFT?L?this.quill.setSelection(le.index-1,le.length+1,b.default.sources.USER):this.quill.setSelection(le.index-1,b.default.sources.USER):L?this.quill.setSelection(le.index,le.length+1,b.default.sources.USER):this.quill.setSelection(le.index+le.length+1,b.default.sources.USER),!1):!0}),$}function X(D,L){if(!(D.index===0||this.quill.getLength()<=1)){var $=this.quill.getLine(D.index),F=s($,1),Z=F[0],le={};if(L.offset===0){var M=this.quill.getLine(D.index-1),q=s(M,1),K=q[0];if(K!=null&&K.length()>1){var ne=Z.formats(),oe=this.quill.getFormat(D.index-1,1);le=m.default.attributes.diff(ne,oe)||{}}}var ie=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(L.prefix)?2:1;this.quill.deleteText(D.index-ie,ie,b.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine(D.index-ie,ie,le,b.default.sources.USER),this.quill.focus()}}function B(D,L){var $=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(L.suffix)?2:1;if(!(D.index>=this.quill.getLength()-$)){var F={},Z=0,le=this.quill.getLine(D.index),M=s(le,1),q=M[0];if(L.offset>=q.length()-1){var K=this.quill.getLine(D.index+1),ne=s(K,1),oe=ne[0];if(oe){var ie=q.formats(),G=this.quill.getFormat(D.index,1);F=m.default.attributes.diff(ie,G)||{},Z=oe.length()}}this.quill.deleteText(D.index,$,b.default.sources.USER),Object.keys(F).length>0&&this.quill.formatLine(D.index+Z-1,$,F,b.default.sources.USER)}}function x(D){var L=this.quill.getLines(D),$={};if(L.length>1){var F=L[0].formats(),Z=L[L.length-1].formats();$=m.default.attributes.diff(Z,F)||{}}this.quill.deleteText(D,b.default.sources.USER),Object.keys($).length>0&&this.quill.formatLine(D.index,1,$,b.default.sources.USER),this.quill.setSelection(D.index,b.default.sources.SILENT),this.quill.focus()}function j(D,L){var $=this;D.length>0&&this.quill.scroll.deleteAt(D.index,D.length);var F=Object.keys(L.format).reduce(function(Z,le){return E.default.query(le,E.default.Scope.BLOCK)&&!Array.isArray(L.format[le])&&(Z[le]=L.format[le]),Z},{});this.quill.insertText(D.index,`
`,F,b.default.sources.USER),this.quill.setSelection(D.index+1,b.default.sources.SILENT),this.quill.focus(),Object.keys(L.format).forEach(function(Z){F[Z]==null&&(Array.isArray(L.format[Z])||Z!=="link"&&$.quill.format(Z,L.format[Z],b.default.sources.USER))})}function H(D){return{key:Q.keys.TAB,shiftKey:!D,format:{"code-block":!0},handler:function($){var F=E.default.query("code-block"),Z=$.index,le=$.length,M=this.quill.scroll.descendant(F,Z),q=s(M,2),K=q[0],ne=q[1];if(K!=null){var oe=this.quill.getIndex(K),ie=K.newlineIndex(ne,!0)+1,G=K.newlineIndex(oe+ne+le),V=K.domNode.textContent.slice(ie,G).split(`
`);ne=0,V.forEach(function(te,J){D?(K.insertAt(ie+ne,F.TAB),ne+=F.TAB.length,J===0?Z+=F.TAB.length:le+=F.TAB.length):te.startsWith(F.TAB)&&(K.deleteAt(ie+ne,F.TAB.length),ne-=F.TAB.length,J===0?Z-=F.TAB.length:le-=F.TAB.length),ne+=te.length+1}),this.quill.update(b.default.sources.USER),this.quill.setSelection(Z,le,b.default.sources.SILENT)}}}}function ee(D){return{key:D[0].toUpperCase(),shortKey:!0,handler:function($,F){this.quill.format(D,!F.format[D],b.default.sources.USER)}}}function Y(D){if(typeof D=="string"||typeof D=="number")return Y({key:D});if((typeof D>"u"?"undefined":o(D))==="object"&&(D=(0,u.default)(D,!1)),typeof D.key=="string")if(Q.keys[D.key.toUpperCase()]!=null)D.key=Q.keys[D.key.toUpperCase()];else if(D.key.length===1)D.key=D.key.toUpperCase().charCodeAt(0);else return null;return D.shortKey&&(D[z]=D.shortKey,delete D.shortKey),D}r.default=Q,r.SHORTKEY=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(g,E){var p=[],b=!0,C=!1,O=void 0;try{for(var I=g[Symbol.iterator](),N;!(b=(N=I.next()).done)&&(p.push(N.value),!(E&&p.length===E));b=!0);}catch(A){C=!0,O=A}finally{try{!b&&I.return&&I.return()}finally{if(C)throw O}}return p}return function(g,E){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return m(g,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function m(g,E,p){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,E);if(b===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,E,p)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(p)}},a=function(){function m(g,E){for(var p=0;p<E.length;p++){var b=E[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,E,p){return E&&m(g.prototype,E),p&&m(g,p),g}}(),l=i(0),u=c(l),d=i(7),f=c(d);function c(m){return m&&m.__esModule?m:{default:m}}function h(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function v(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function y(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var _=function(m){y(g,m),a(g,null,[{key:"value",value:function(){}}]);function g(E,p){h(this,g);var b=v(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,E));return b.selection=p,b.textNode=document.createTextNode(g.CONTENTS),b.domNode.appendChild(b.textNode),b._length=0,b}return a(g,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(p,b){if(this._length!==0)return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,p,b);for(var C=this,O=0;C!=null&&C.statics.scope!==u.default.Scope.BLOCK_BLOT;)O+=C.offset(C.parent),C=C.parent;C!=null&&(this._length=g.CONTENTS.length,C.optimize(),C.formatAt(O,g.CONTENTS.length,p,b),this._length=0)}},{key:"index",value:function(p,b){return p===this.textNode?0:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,p,b)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var p=this.textNode,b=this.selection.getNativeRange(),C=void 0,O=void 0,I=void 0;if(b!=null&&b.start.node===p&&b.end.node===p){var N=[p,b.start.offset,b.end.offset];C=N[0],O=N[1],I=N[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==g.CONTENTS){var A=this.textNode.data.split(g.CONTENTS).join("");this.next instanceof f.default?(C=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=g.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(g.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var T=[O,I].map(function(k){return Math.max(0,Math.min(C.data.length,k-1))}),S=o(T,2);return O=S[0],I=S[1],{startNode:C,startOffset:O,endNode:C,endOffset:I}}}}},{key:"update",value:function(p,b){var C=this;if(p.some(function(I){return I.type==="characterData"&&I.target===C.textNode})){var O=this.restore();O&&(b.range=O)}}},{key:"value",value:function(){return""}}]),g}(u.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var h=function(v){c(y,v);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y}(s.default.Container);h.allowedChildren=[l.default,a.BlockEmbed,h],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function _(m,g){for(var E=0;E<g.length;E++){var p=g[E];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,E){return g&&_(m.prototype,g),E&&_(m,E),m}}(),s=function _(m,g,E){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,g);if(p===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:_(b,g,E)}else{if("value"in p)return p.value;var C=p.get;return C===void 0?void 0:C.call(E)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function d(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function f(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function c(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var h=function(_){c(m,_);function m(){return d(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"value",value:function(E){var p=s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,E);return p.startsWith("rgb(")?(p=p.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+p.split(",").map(function(b){return("00"+parseInt(b).toString(16)).slice(-2)}).join("")):p}}]),m}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),y=new h("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=h,r.ColorClass=v,r.ColorStyle=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function y(_,m){for(var g=0;g<m.length;g++){var E=m[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,m,g){return m&&y(_.prototype,m),g&&y(_,g),_}}(),s=function y(_,m,g){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,m);if(E===void 0){var p=Object.getPrototypeOf(_);return p===null?void 0:y(p,m,g)}else{if("value"in E)return E.value;var b=E.get;return b===void 0?void 0:b.call(g)}},a=i(6),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function f(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function c(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var h=function(y){c(_,y);function _(){return d(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"format",value:function(g,E){if(g!==this.statics.blotName||!E)return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,g,E);E=this.constructor.sanitize(E),this.domNode.setAttribute("href",E)}}],[{key:"create",value:function(g){var E=s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,g);return g=this.sanitize(g),E.setAttribute("href",g),E.setAttribute("rel","noopener noreferrer"),E.setAttribute("target","_blank"),E}},{key:"formats",value:function(g){return g.getAttribute("href")}},{key:"sanitize",value:function(g){return v(g,this.PROTOCOL_WHITELIST)?g:this.SANITIZED_URL}}]),_}(l.default);h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(y,_){var m=document.createElement("a");m.href=y;var g=m.href.slice(0,m.href.indexOf(":"));return _.indexOf(g)>-1}r.default=h,r.sanitize=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=function(){function _(m,g){for(var E=0;E<g.length;E++){var p=g[E];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,E){return g&&_(m.prototype,g),E&&_(m,E),m}}(),a=i(23),l=f(a),u=i(107),d=f(u);function f(_){return _&&_.__esModule?_:{default:_}}function c(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}var h=0;function v(_,m){_.setAttribute(m,_.getAttribute(m)!=="true")}var y=function(){function _(m){var g=this;c(this,_),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){g.togglePicker()}),this.label.addEventListener("keydown",function(E){switch(E.keyCode){case l.default.keys.ENTER:g.togglePicker();break;case l.default.keys.ESCAPE:g.escape(),E.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(g){var E=this,p=document.createElement("span");return p.tabIndex="0",p.setAttribute("role","button"),p.classList.add("ql-picker-item"),g.hasAttribute("value")&&p.setAttribute("data-value",g.getAttribute("value")),g.textContent&&p.setAttribute("data-label",g.textContent),p.addEventListener("click",function(){E.selectItem(p,!0)}),p.addEventListener("keydown",function(b){switch(b.keyCode){case l.default.keys.ENTER:E.selectItem(p,!0),b.preventDefault();break;case l.default.keys.ESCAPE:E.escape(),b.preventDefault();break}}),p}},{key:"buildLabel",value:function(){var g=document.createElement("span");return g.classList.add("ql-picker-label"),g.innerHTML=d.default,g.tabIndex="0",g.setAttribute("role","button"),g.setAttribute("aria-expanded","false"),this.container.appendChild(g),g}},{key:"buildOptions",value:function(){var g=this,E=document.createElement("span");E.classList.add("ql-picker-options"),E.setAttribute("aria-hidden","true"),E.tabIndex="-1",E.id="ql-picker-options-"+h,h+=1,this.label.setAttribute("aria-controls",E.id),this.options=E,[].slice.call(this.select.options).forEach(function(p){var b=g.buildItem(p);E.appendChild(b),p.selected===!0&&g.selectItem(b)}),this.container.appendChild(E)}},{key:"buildPicker",value:function(){var g=this;[].slice.call(this.select.attributes).forEach(function(E){g.container.setAttribute(E.name,E.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var g=this;this.close(),setTimeout(function(){return g.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(g){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,p=this.container.querySelector(".ql-selected");if(g!==p&&(p!=null&&p.classList.remove("ql-selected"),g!=null&&(g.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(g.parentNode.children,g),g.hasAttribute("data-value")?this.label.setAttribute("data-value",g.getAttribute("data-value")):this.label.removeAttribute("data-value"),g.hasAttribute("data-label")?this.label.setAttribute("data-label",g.getAttribute("data-label")):this.label.removeAttribute("data-label"),E))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var b=document.createEvent("Event");b.initEvent("change",!0,!0),this.select.dispatchEvent(b)}this.close()}}},{key:"update",value:function(){var g=void 0;if(this.select.selectedIndex>-1){var E=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];g=this.select.options[this.select.selectedIndex],this.selectItem(E)}else this.selectItem(null);var p=g!=null&&g!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",p)}}]),_}();r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=U(o),a=i(5),l=U(a),u=i(4),d=U(u),f=i(16),c=U(f),h=i(25),v=U(h),y=i(24),_=U(y),m=i(35),g=U(m),E=i(6),p=U(E),b=i(22),C=U(b),O=i(7),I=U(O),N=i(55),A=U(N),T=i(42),S=U(T),k=i(23),P=U(k);function U(z){return z&&z.__esModule?z:{default:z}}l.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":c.default,"blots/container":v.default,"blots/cursor":_.default,"blots/embed":g.default,"blots/inline":p.default,"blots/scroll":C.default,"blots/text":I.default,"modules/clipboard":A.default,"modules/history":S.default,"modules/keyboard":P.default}),s.default.register(d.default,c.default,_.default,p.default,C.default,I.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var d=this.isolate(l,u);d.remove()},a.prototype.formatAt=function(l,u,d,f){var c=this.isolate(l,u);if(o.query(d,o.Scope.BLOT)!=null&&f)c.wrap(d,f);else if(o.query(d,o.Scope.ATTRIBUTE)!=null){var h=o.create(this.statics.scope);c.wrap(h),h.format(d,f)}},a.prototype.insertAt=function(l,u,d){var f=d==null?o.create("text",u):o.create(u,d),c=this.split(l);this.parent.insertBefore(f,c)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;l.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=d)&&l.domNode.insertBefore(this.domNode,d),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var d=this.split(l);return d.split(u),d},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var d=typeof l=="string"?o.create(l,u):l;return d.replace(this),d},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var d=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function d(f){this.attributes={},this.domNode=f,this.build()}return d.prototype.attribute=function(f,c){c?f.add(this.domNode,c)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},d.prototype.build=function(){var f=this;this.attributes={};var c=o.default.keys(this.domNode),h=s.default.keys(this.domNode),v=a.default.keys(this.domNode);c.concat(h).concat(v).forEach(function(y){var _=l.query(y,l.Scope.ATTRIBUTE);_ instanceof o.default&&(f.attributes[_.attrName]=_)})},d.prototype.copy=function(f){var c=this;Object.keys(this.attributes).forEach(function(h){var v=c.attributes[h].value(c.domNode);f.format(h,v)})},d.prototype.move=function(f){var c=this;this.copy(f),Object.keys(this.attributes).forEach(function(h){c.attributes[h].remove(c.domNode)}),this.attributes={}},d.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(c,h){return c[h]=f.attributes[h].value(f.domNode),c},{})},d}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])};return function(d,f){u(d,f);function c(){this.constructor=d}d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,d){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(c){return c.indexOf(d+"-")===0})}var l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(c){return c.split("-").slice(0,-1).join("-")})},d.prototype.add=function(f,c){return this.canAdd(f,c)?(this.remove(f),f.classList.add(this.keyName+"-"+c),!0):!1},d.prototype.remove=function(f){var c=a(f,this.keyName);c.forEach(function(h){f.classList.remove(h)}),f.classList.length===0&&f.removeAttribute("class")},d.prototype.value=function(f){var c=a(f,this.keyName)[0]||"",h=c.slice(this.keyName.length+1);return this.canAdd(f,h)?h:""},d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])};return function(d,f){u(d,f);function c(){this.constructor=d}d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var d=u.split("-"),f=d.slice(1).map(function(c){return c[0].toUpperCase()+c.slice(1)}).join("");return d[0]+f}var l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(c){var h=c.split(":");return h[0].trim()})},d.prototype.add=function(f,c){return this.canAdd(f,c)?(f.style[a(this.keyName)]=c,!0):!1},d.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},d.prototype.value=function(f){var c=f.style[a(this.keyName)];return this.canAdd(f,c)?c:""},d}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,d){for(var f=0;f<d.length;f++){var c=d[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,d,f){return d&&l(u.prototype,d),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,d){s(this,l),this.quill=u,this.options=d,this.modules={}}return o(l,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(f){d.modules[f]==null&&d.addModule(f)})}},{key:"addModule",value:function(d){var f=this.quill.constructor.import("modules/"+d);return this.modules[d]=new f(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function m(g,E){for(var p=0;p<E.length;p++){var b=E[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,E,p){return E&&m(g.prototype,E),p&&m(g,p),g}}(),s=function m(g,E,p){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,E);if(b===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,E,p)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(p)}},a=i(0),l=f(a),u=i(7),d=f(u);function f(m){return m&&m.__esModule?m:{default:m}}function c(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function h(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function v(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var y="\uFEFF",_=function(m){v(g,m);function g(E){c(this,g);var p=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,E));return p.contentNode=document.createElement("span"),p.contentNode.setAttribute("contenteditable",!1),[].slice.call(p.domNode.childNodes).forEach(function(b){p.contentNode.appendChild(b)}),p.leftGuard=document.createTextNode(y),p.rightGuard=document.createTextNode(y),p.domNode.appendChild(p.leftGuard),p.domNode.appendChild(p.contentNode),p.domNode.appendChild(p.rightGuard),p}return o(g,[{key:"index",value:function(p,b){return p===this.leftGuard?0:p===this.rightGuard?1:s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"index",this).call(this,p,b)}},{key:"restore",value:function(p){var b=void 0,C=void 0,O=p.data.split(y).join("");if(p===this.leftGuard)if(this.prev instanceof d.default){var I=this.prev.length();this.prev.insertAt(I,O),b={startNode:this.prev.domNode,startOffset:I+O.length}}else C=document.createTextNode(O),this.parent.insertBefore(l.default.create(C),this),b={startNode:C,startOffset:O.length};else p===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,O),b={startNode:this.next.domNode,startOffset:O.length}):(C=document.createTextNode(O),this.parent.insertBefore(l.default.create(C),this.next),b={startNode:C,startOffset:O.length}));return p.data=y,b}},{key:"update",value:function(p,b){var C=this;p.forEach(function(O){if(O.type==="characterData"&&(O.target===C.leftGuard||O.target===C.rightGuard)){var I=C.restore(O.target);I&&(b.range=I)}})}}]),g}(l.default.Embed);r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),d=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=d,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),d=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=d},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),d=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=d,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function m(g,E){for(var p=0;p<E.length;p++){var b=E[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,E,p){return E&&m(g.prototype,E),p&&m(g,p),g}}(),s=function m(g,E,p){g===null&&(g=Function.prototype);var b=Object.getOwnPropertyDescriptor(g,E);if(b===void 0){var C=Object.getPrototypeOf(g);return C===null?void 0:m(C,E,p)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(p)}},a=i(0),l=u(a);function u(m){return m&&m.__esModule?m:{default:m}}function d(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")}function f(m,g){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:m}function c(m,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);m.prototype=Object.create(g&&g.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(m,g):m.__proto__=g)}var h={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",h),y=function(m){c(g,m);function g(){return d(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,[{key:"value",value:function(p){return s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,p).replace(/["']/g,"")}}]),g}(l.default.Attributor.Style),_=new y("font","font-family",h);r.FontStyle=_,r.FontClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(d){return d&&d.__esModule?d:{default:d}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function E(p,b){for(var C=0;C<b.length;C++){var O=b[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,b,C){return b&&E(p.prototype,b),C&&E(p,C),p}}(),s=i(0),a=c(s),l=i(5),u=c(l),d=i(9),f=c(d);function c(E){return E&&E.__esModule?E:{default:E}}function h(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}function v(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function y(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}var _=function(E){y(p,E);function p(b,C){h(this,p);var O=v(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,b,C));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(u.default.events.EDITOR_CHANGE,function(I,N,A,T){I!==u.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||T===u.default.sources.USER?O.record(N,A):O.transform(N))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return o(p,[{key:"change",value:function(C,O){if(this.stack[C].length!==0){var I=this.stack[C].pop();this.stack[O].push(I),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(I[C],u.default.sources.USER),this.ignoreChange=!1;var N=g(I[C]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(C,O){if(C.ops.length!==0){this.stack.redo=[];var I=this.quill.getContents().diff(O),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var A=this.stack.undo.pop();I=I.compose(A.undo),C=A.redo.compose(C)}else this.lastRecorded=N;this.stack.undo.push({redo:C,undo:I}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(C){this.stack.undo.forEach(function(O){O.undo=C.transform(O.undo,!0),O.redo=C.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=C.transform(O.undo,!0),O.redo=C.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),p}(f.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(E){var p=E.ops[E.ops.length-1];return p==null?!1:p.insert!=null?typeof p.insert=="string"&&p.insert.endsWith(`
`):p.attributes!=null?Object.keys(p.attributes).some(function(b){return a.default.query(b,a.default.Scope.BLOCK)!=null}):!1}function g(E){var p=E.reduce(function(C,O){return C+=O.delete||0,C},0),b=E.length()-p;return m(E)&&(b-=1),b}r.default=_,r.getLastChangeIndex=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function j(H,ee){for(var Y=0;Y<ee.length;Y++){var D=ee[Y];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(H,D.key,D)}}return function(H,ee,Y){return ee&&j(H.prototype,ee),Y&&j(H,Y),H}}(),s=function j(H,ee,Y){H===null&&(H=Function.prototype);var D=Object.getOwnPropertyDescriptor(H,ee);if(D===void 0){var L=Object.getPrototypeOf(H);return L===null?void 0:j(L,ee,Y)}else{if("value"in D)return D.value;var $=D.get;return $===void 0?void 0:$.call(Y)}},a=i(3),l=N(a),u=i(2),d=N(u),f=i(8),c=N(f),h=i(23),v=N(h),y=i(34),_=N(y),m=i(59),g=N(m),E=i(60),p=N(E),b=i(28),C=N(b),O=i(61),I=N(O);function N(j){return j&&j.__esModule?j:{default:j}}function A(j,H){if(!(j instanceof H))throw new TypeError("Cannot call a class as a function")}function T(j,H){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return H&&(typeof H=="object"||typeof H=="function")?H:j}function S(j,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);j.prototype=Object.create(H&&H.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(j,H):j.__proto__=H)}var k=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],U=[!1,"serif","monospace"],z=["1","2","3",!1],Q=["small",!1,"large","huge"],se=function(j){S(H,j);function H(ee,Y){A(this,H);var D=T(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,ee,Y)),L=function $(F){if(!document.body.contains(ee.root))return document.body.removeEventListener("click",$);D.tooltip!=null&&!D.tooltip.root.contains(F.target)&&document.activeElement!==D.tooltip.textbox&&!D.quill.hasFocus()&&D.tooltip.hide(),D.pickers!=null&&D.pickers.forEach(function(Z){Z.container.contains(F.target)||Z.close()})};return ee.emitter.listenDOM("click",document.body,L),D}return o(H,[{key:"addModule",value:function(Y){var D=s(H.prototype.__proto__||Object.getPrototypeOf(H.prototype),"addModule",this).call(this,Y);return Y==="toolbar"&&this.extendToolbar(D),D}},{key:"buildButtons",value:function(Y,D){Y.forEach(function(L){var $=L.getAttribute("class")||"";$.split(/\s+/).forEach(function(F){if(F.startsWith("ql-")&&(F=F.slice(3),D[F]!=null))if(F==="direction")L.innerHTML=D[F][""]+D[F].rtl;else if(typeof D[F]=="string")L.innerHTML=D[F];else{var Z=L.value||"";Z!=null&&D[F][Z]&&(L.innerHTML=D[F][Z])}})})}},{key:"buildPickers",value:function(Y,D){var L=this;this.pickers=Y.map(function(F){if(F.classList.contains("ql-align"))return F.querySelector("option")==null&&x(F,k),new p.default(F,D.align);if(F.classList.contains("ql-background")||F.classList.contains("ql-color")){var Z=F.classList.contains("ql-background")?"background":"color";return F.querySelector("option")==null&&x(F,P,Z==="background"?"#ffffff":"#000000"),new g.default(F,D[Z])}else return F.querySelector("option")==null&&(F.classList.contains("ql-font")?x(F,U):F.classList.contains("ql-header")?x(F,z):F.classList.contains("ql-size")&&x(F,Q)),new C.default(F)});var $=function(){L.pickers.forEach(function(Z){Z.update()})};this.quill.on(c.default.events.EDITOR_CHANGE,$)}}]),H}(_.default);se.DEFAULTS=(0,l.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var H=this,ee=this.container.querySelector("input.ql-image[type=file]");ee==null&&(ee=document.createElement("input"),ee.setAttribute("type","file"),ee.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ee.classList.add("ql-image"),ee.addEventListener("change",function(){if(ee.files!=null&&ee.files[0]!=null){var Y=new FileReader;Y.onload=function(D){var L=H.quill.getSelection(!0);H.quill.updateContents(new d.default().retain(L.index).delete(L.length).insert({image:D.target.result}),c.default.sources.USER),H.quill.setSelection(L.index+1,c.default.sources.SILENT),ee.value=""},Y.readAsDataURL(ee.files[0])}}),this.container.appendChild(ee)),ee.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var X=function(j){S(H,j);function H(ee,Y){A(this,H);var D=T(this,(H.__proto__||Object.getPrototypeOf(H)).call(this,ee,Y));return D.textbox=D.root.querySelector('input[type="text"]'),D.listen(),D}return o(H,[{key:"listen",value:function(){var Y=this;this.textbox.addEventListener("keydown",function(D){v.default.match(D,"enter")?(Y.save(),D.preventDefault()):v.default.match(D,"escape")&&(Y.cancel(),D.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),D!=null?this.textbox.value=D:Y!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Y)||""),this.root.setAttribute("data-mode",Y)}},{key:"restoreFocus",value:function(){var Y=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Y}},{key:"save",value:function(){var Y=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Y,c.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Y,c.default.sources.USER)),this.quill.root.scrollTop=D;break}case"video":Y=B(Y);case"formula":{if(!Y)break;var L=this.quill.getSelection(!0);if(L!=null){var $=L.index+L.length;this.quill.insertEmbed($,this.root.getAttribute("data-mode"),Y,c.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText($+1," ",c.default.sources.USER),this.quill.setSelection($+2,c.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),H}(I.default);function B(j){var H=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return H?(H[1]||"https")+"://www.youtube.com/embed/"+H[2]+"?showinfo=0":(H=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(H[1]||"https")+"://player.vimeo.com/video/"+H[2]+"/":j}function x(j,H){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;H.forEach(function(Y){var D=document.createElement("option");Y===ee?D.setAttribute("selected","selected"):D.setAttribute("value",Y),j.appendChild(D)})}r.BaseTooltip=X,r.default=se},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,d=this.iterator();u=d();){var f=u.length();if(a<f||l&&a===f&&(u.next==null||u.next.length()!==0))return[u,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var d=this.find(a),f=d[0],c=d[1],h,v=a-c,y=this.iterator(f);(h=y())&&v<a+l;){var _=h.length();a>v?u(h,a-v,Math.min(l,v+_-a)):u(h,0,Math.min(_,a+l-v)),v+=_}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,d=this.iterator();u=d();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,h){c.__proto__=h}||function(c,h){for(var v in h)h.hasOwnProperty(v)&&(c[v]=h[v])};return function(c,h){f(c,h);function v(){this.constructor=c}c.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(f){o(c,f);function c(h){var v=f.call(this,h)||this;return v.scroll=v,v.observer=new MutationObserver(function(y){v.update(y)}),v.observer.observe(v.domNode,l),v.attach(),v}return c.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},c.prototype.deleteAt=function(h,v){this.update(),h===0&&v===this.length()?this.children.forEach(function(y){y.remove()}):f.prototype.deleteAt.call(this,h,v)},c.prototype.formatAt=function(h,v,y,_){this.update(),f.prototype.formatAt.call(this,h,v,y,_)},c.prototype.insertAt=function(h,v,y){this.update(),f.prototype.insertAt.call(this,h,v,y)},c.prototype.optimize=function(h,v){var y=this;h===void 0&&(h=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)h.push(_.pop());for(var m=function(b,C){C===void 0&&(C=!0),!(b==null||b===y)&&b.domNode.parentNode!=null&&(b.domNode[a.DATA_KEY].mutations==null&&(b.domNode[a.DATA_KEY].mutations=[]),C&&m(b.parent))},g=function(b){b.domNode[a.DATA_KEY]==null||b.domNode[a.DATA_KEY].mutations==null||(b instanceof s.default&&b.children.forEach(g),b.optimize(v))},E=h,p=0;E.length>0;p+=1){if(p>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(E.forEach(function(b){var C=a.find(b.target,!0);C!=null&&(C.domNode===b.target&&(b.type==="childList"?(m(a.find(b.previousSibling,!1)),[].forEach.call(b.addedNodes,function(O){var I=a.find(O,!1);m(I,!1),I instanceof s.default&&I.children.forEach(function(N){m(N,!1)})})):b.type==="attributes"&&m(C.prev)),m(C))}),this.children.forEach(g),E=[].slice.call(this.observer.takeRecords()),_=E.slice();_.length>0;)h.push(_.pop())}},c.prototype.update=function(h,v){var y=this;v===void 0&&(v={}),h=h||this.observer.takeRecords(),h.map(function(_){var m=a.find(_.target,!0);return m==null?null:m.domNode[a.DATA_KEY].mutations==null?(m.domNode[a.DATA_KEY].mutations=[_],m):(m.domNode[a.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===y||_.domNode[a.DATA_KEY]==null||_.update(_.domNode[a.DATA_KEY].mutations||[],v)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,v),this.optimize(h,v)},c.blotName="scroll",c.defaultChild="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="DIV",c}(s.default);r.default=d},function(n,r,i){var o=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,c){f.__proto__=c}||function(f,c){for(var h in c)c.hasOwnProperty(h)&&(f[h]=c[h])};return function(f,c){d(f,c);function h(){this.constructor=f}f.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(d,f){if(Object.keys(d).length!==Object.keys(f).length)return!1;for(var c in d)if(d[c]!==f[c])return!1;return!0}var u=function(d){o(f,d);function f(){return d!==null&&d.apply(this,arguments)||this}return f.formats=function(c){if(c.tagName!==f.tagName)return d.formats.call(this,c)},f.prototype.format=function(c,h){var v=this;c===this.statics.blotName&&!h?(this.children.forEach(function(y){y instanceof s.default||(y=y.wrap(f.blotName,!0)),v.attributes.copy(y)}),this.unwrap()):d.prototype.format.call(this,c,h)},f.prototype.formatAt=function(c,h,v,y){if(this.formats()[v]!=null||a.query(v,a.Scope.ATTRIBUTE)){var _=this.isolate(c,h);_.format(v,y)}else d.prototype.formatAt.call(this,c,h,v,y)},f.prototype.optimize=function(c){d.prototype.optimize.call(this,c);var h=this.formats();if(Object.keys(h).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(h,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])};return function(d,f){u(d,f);function c(){this.constructor=d}d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(f){var c=a.query(d.blotName).tagName;if(f.tagName!==c)return u.formats.call(this,f)},d.prototype.format=function(f,c){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!c?this.replaceWith(d.blotName):u.prototype.format.call(this,f,c))},d.prototype.formatAt=function(f,c,h,v){a.query(h,a.Scope.BLOCK)!=null?this.format(h,v):u.prototype.formatAt.call(this,f,c,h,v)},d.prototype.insertAt=function(f,c,h){if(h==null||a.query(c,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,c,h);else{var v=this.split(f),y=a.create(c,h);v.parent.insertBefore(y,v)}},d.prototype.update=function(f,c){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,c)},d.blotName="block",d.scope=a.Scope.BLOCK_BLOT,d.tagName="P",d}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])};return function(u,d){l(u,d);function f(){this.constructor=u}u.prototype=d===null?Object.create(d):(f.prototype=d.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,f){l.prototype.formatAt.call(this,0,this.length(),d,f)},u.prototype.formatAt=function(d,f,c,h){d===0&&f===this.length()?this.format(c,h):l.prototype.formatAt.call(this,d,f,c,h)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,f){d.__proto__=f}||function(d,f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])};return function(d,f){u(d,f);function c(){this.constructor=d}d.prototype=f===null?Object.create(f):(c.prototype=f.prototype,new c)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(d,u);function d(f){var c=u.call(this,f)||this;return c.text=c.statics.value(c.domNode),c}return d.create=function(f){return document.createTextNode(f)},d.value=function(f){var c=f.data;return c.normalize&&(c=c.normalize()),c},d.prototype.deleteAt=function(f,c){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+c)},d.prototype.index=function(f,c){return this.domNode===f?c:-1},d.prototype.insertAt=function(f,c,h){h==null?(this.text=this.text.slice(0,f)+c+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,c,h)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(f,c){return[this.domNode,f]},d.prototype.split=function(f,c){if(c===void 0&&(c=!1),!c){if(f===0)return this;if(f===this.length())return this.next}var h=a.create(this.domNode.splitText(f));return this.parent.insertBefore(h,this.next),this.text=this.statics.value(this.domNode),h},d.prototype.update=function(f,c){var h=this;f.some(function(v){return v.type==="characterData"&&v.target===h.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=a.Scope.INLINE_BLOT,d}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var d=u.indexOf(a,l);return d!==-1&&d===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,f=arguments[1],c,h=0;h<d;h++)if(c=u[h],l.call(f,c,h,u))return c}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(p,b,C){if(p==b)return p?[[s,p]]:[];(C<0||p.length<C)&&(C=null);var O=f(p,b),I=p.substring(0,O);p=p.substring(O),b=b.substring(O),O=c(p,b);var N=p.substring(p.length-O);p=p.substring(0,p.length-O),b=b.substring(0,b.length-O);var A=l(p,b);return I&&A.unshift([s,I]),N&&A.push([s,N]),v(A),C!=null&&(A=m(A,C)),A=g(A),A}function l(p,b){var C;if(!p)return[[o,b]];if(!b)return[[i,p]];var O=p.length>b.length?p:b,I=p.length>b.length?b:p,N=O.indexOf(I);if(N!=-1)return C=[[o,O.substring(0,N)],[s,I],[o,O.substring(N+I.length)]],p.length>b.length&&(C[0][0]=C[2][0]=i),C;if(I.length==1)return[[i,p],[o,b]];var A=h(p,b);if(A){var T=A[0],S=A[1],k=A[2],P=A[3],U=A[4],z=a(T,k),Q=a(S,P);return z.concat([[s,U]],Q)}return u(p,b)}function u(p,b){for(var C=p.length,O=b.length,I=Math.ceil((C+O)/2),N=I,A=2*I,T=new Array(A),S=new Array(A),k=0;k<A;k++)T[k]=-1,S[k]=-1;T[N+1]=0,S[N+1]=0;for(var P=C-O,U=P%2!=0,z=0,Q=0,se=0,X=0,B=0;B<I;B++){for(var x=-B+z;x<=B-Q;x+=2){var j=N+x,H;x==-B||x!=B&&T[j-1]<T[j+1]?H=T[j+1]:H=T[j-1]+1;for(var ee=H-x;H<C&&ee<O&&p.charAt(H)==b.charAt(ee);)H++,ee++;if(T[j]=H,H>C)Q+=2;else if(ee>O)z+=2;else if(U){var Y=N+P-x;if(Y>=0&&Y<A&&S[Y]!=-1){var D=C-S[Y];if(H>=D)return d(p,b,H,ee)}}}for(var L=-B+se;L<=B-X;L+=2){var Y=N+L,D;L==-B||L!=B&&S[Y-1]<S[Y+1]?D=S[Y+1]:D=S[Y-1]+1;for(var $=D-L;D<C&&$<O&&p.charAt(C-D-1)==b.charAt(O-$-1);)D++,$++;if(S[Y]=D,D>C)X+=2;else if($>O)se+=2;else if(!U){var j=N+P-L;if(j>=0&&j<A&&T[j]!=-1){var H=T[j],ee=N+H-j;if(D=C-D,H>=D)return d(p,b,H,ee)}}}}return[[i,p],[o,b]]}function d(p,b,C,O){var I=p.substring(0,C),N=b.substring(0,O),A=p.substring(C),T=b.substring(O),S=a(I,N),k=a(A,T);return S.concat(k)}function f(p,b){if(!p||!b||p.charAt(0)!=b.charAt(0))return 0;for(var C=0,O=Math.min(p.length,b.length),I=O,N=0;C<I;)p.substring(N,I)==b.substring(N,I)?(C=I,N=C):O=I,I=Math.floor((O-C)/2+C);return I}function c(p,b){if(!p||!b||p.charAt(p.length-1)!=b.charAt(b.length-1))return 0;for(var C=0,O=Math.min(p.length,b.length),I=O,N=0;C<I;)p.substring(p.length-I,p.length-N)==b.substring(b.length-I,b.length-N)?(C=I,N=C):O=I,I=Math.floor((O-C)/2+C);return I}function h(p,b){var C=p.length>b.length?p:b,O=p.length>b.length?b:p;if(C.length<4||O.length*2<C.length)return null;function I(Q,se,X){for(var B=Q.substring(X,X+Math.floor(Q.length/4)),x=-1,j="",H,ee,Y,D;(x=se.indexOf(B,x+1))!=-1;){var L=f(Q.substring(X),se.substring(x)),$=c(Q.substring(0,X),se.substring(0,x));j.length<$+L&&(j=se.substring(x-$,x)+se.substring(x,x+L),H=Q.substring(0,X-$),ee=Q.substring(X+L),Y=se.substring(0,x-$),D=se.substring(x+L))}return j.length*2>=Q.length?[H,ee,Y,D,j]:null}var N=I(C,O,Math.ceil(C.length/4)),A=I(C,O,Math.ceil(C.length/2)),T;if(!N&&!A)return null;A?N?T=N[4].length>A[4].length?N:A:T=A:T=N;var S,k,P,U;p.length>b.length?(S=T[0],k=T[1],P=T[2],U=T[3]):(P=T[0],U=T[1],S=T[2],k=T[3]);var z=T[4];return[S,k,P,U,z]}function v(p){p.push([s,""]);for(var b=0,C=0,O=0,I="",N="",A;b<p.length;)switch(p[b][0]){case o:O++,N+=p[b][1],b++;break;case i:C++,I+=p[b][1],b++;break;case s:C+O>1?(C!==0&&O!==0&&(A=f(N,I),A!==0&&(b-C-O>0&&p[b-C-O-1][0]==s?p[b-C-O-1][1]+=N.substring(0,A):(p.splice(0,0,[s,N.substring(0,A)]),b++),N=N.substring(A),I=I.substring(A)),A=c(N,I),A!==0&&(p[b][1]=N.substring(N.length-A)+p[b][1],N=N.substring(0,N.length-A),I=I.substring(0,I.length-A))),C===0?p.splice(b-O,C+O,[o,N]):O===0?p.splice(b-C,C+O,[i,I]):p.splice(b-C-O,C+O,[i,I],[o,N]),b=b-C-O+(C?1:0)+(O?1:0)+1):b!==0&&p[b-1][0]==s?(p[b-1][1]+=p[b][1],p.splice(b,1)):b++,O=0,C=0,I="",N="";break}p[p.length-1][1]===""&&p.pop();var T=!1;for(b=1;b<p.length-1;)p[b-1][0]==s&&p[b+1][0]==s&&(p[b][1].substring(p[b][1].length-p[b-1][1].length)==p[b-1][1]?(p[b][1]=p[b-1][1]+p[b][1].substring(0,p[b][1].length-p[b-1][1].length),p[b+1][1]=p[b-1][1]+p[b+1][1],p.splice(b-1,1),T=!0):p[b][1].substring(0,p[b+1][1].length)==p[b+1][1]&&(p[b-1][1]+=p[b+1][1],p[b][1]=p[b][1].substring(p[b+1][1].length)+p[b+1][1],p.splice(b+1,1),T=!0)),b++;T&&v(p)}var y=a;y.INSERT=o,y.DELETE=i,y.EQUAL=s,n.exports=y;function _(p,b){if(b===0)return[s,p];for(var C=0,O=0;O<p.length;O++){var I=p[O];if(I[0]===i||I[0]===s){var N=C+I[1].length;if(b===N)return[O+1,p];if(b<N){p=p.slice();var A=b-C,T=[I[0],I[1].slice(0,A)],S=[I[0],I[1].slice(A)];return p.splice(O,1,T,S),[O+1,p]}else C=N}}throw new Error("cursor_pos is out of bounds!")}function m(p,b){var C=_(p,b),O=C[1],I=C[0],N=O[I],A=O[I+1];if(N==null)return p;if(N[0]!==s)return p;if(A!=null&&N[1]+A[1]===A[1]+N[1])return O.splice(I,2,A,N),E(O,I,2);if(A!=null&&A[1].indexOf(N[1])===0){O.splice(I,2,[A[0],N[1]],[0,N[1]]);var T=A[1].slice(N[1].length);return T.length>0&&O.splice(I+2,0,[A[0],T]),E(O,I,3)}else return p}function g(p){for(var b=!1,C=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},O=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},I=2;I<p.length;I+=1)p[I-2][0]===s&&O(p[I-2][1])&&p[I-1][0]===i&&C(p[I-1][1])&&p[I][0]===o&&C(p[I][1])&&(b=!0,p[I-1][1]=p[I-2][1].slice(-1)+p[I-1][1],p[I][1]=p[I-2][1].slice(-1)+p[I][1],p[I-2][1]=p[I-2][1].slice(0,-1));if(!b)return p;for(var N=[],I=0;I<p.length;I+=1)p[I][1].length>0&&N.push(p[I]);return N}function E(p,b,C){for(var O=b+C-1;O>=0&&O>=b-1;O--)if(O+1<p.length){var I=p[O],N=p[O+1];I[0]===N[1]&&p.splice(O,2,[I[0],I[1]+N[1]])}return p}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,d,f){this.fn=u,this.context=d,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,c;if(this._eventsCount===0)return d;for(c in f=this._events)i.call(f,c)&&d.push(o?c.slice(1):c);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d,f){var c=o?o+d:d,h=this._events[c];if(f)return!!h;if(!h)return[];if(h.fn)return[h.fn];for(var v=0,y=h.length,_=new Array(y);v<y;v++)_[v]=h[v].fn;return _},l.prototype.emit=function(d,f,c,h,v,y){var _=o?o+d:d;if(!this._events[_])return!1;var m=this._events[_],g=arguments.length,E,p;if(m.fn){switch(m.once&&this.removeListener(d,m.fn,void 0,!0),g){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,c),!0;case 4:return m.fn.call(m.context,f,c,h),!0;case 5:return m.fn.call(m.context,f,c,h,v),!0;case 6:return m.fn.call(m.context,f,c,h,v,y),!0}for(p=1,E=new Array(g-1);p<g;p++)E[p-1]=arguments[p];m.fn.apply(m.context,E)}else{var b=m.length,C;for(p=0;p<b;p++)switch(m[p].once&&this.removeListener(d,m[p].fn,void 0,!0),g){case 1:m[p].fn.call(m[p].context);break;case 2:m[p].fn.call(m[p].context,f);break;case 3:m[p].fn.call(m[p].context,f,c);break;case 4:m[p].fn.call(m[p].context,f,c,h);break;default:if(!E)for(C=1,E=new Array(g-1);C<g;C++)E[C-1]=arguments[C];m[p].fn.apply(m[p].context,E)}}return!0},l.prototype.on=function(d,f,c){var h=new a(f,c||this),v=o?o+d:d;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],h]:this._events[v].push(h):(this._events[v]=h,this._eventsCount++),this},l.prototype.once=function(d,f,c){var h=new a(f,c||this,!0),v=o?o+d:d;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],h]:this._events[v].push(h):(this._events[v]=h,this._eventsCount++),this},l.prototype.removeListener=function(d,f,c,h){var v=o?o+d:d;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[v],this;var y=this._events[v];if(y.fn)y.fn===f&&(!h||y.once)&&(!c||y.context===c)&&(--this._eventsCount===0?this._events=new s:delete this._events[v]);else{for(var _=0,m=[],g=y.length;_<g;_++)(y[_].fn!==f||h&&!y[_].once||c&&y[_].context!==c)&&m.push(y[_]);m.length?this._events[v]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new s:delete this._events[v]}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=o?o+d:d,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},s=function(){function G(V,te){var J=[],re=!0,ce=!1,ue=void 0;try{for(var fe=V[Symbol.iterator](),me;!(re=(me=fe.next()).done)&&(J.push(me.value),!(te&&J.length===te));re=!0);}catch(be){ce=!0,ue=be}finally{try{!re&&fe.return&&fe.return()}finally{if(ce)throw ue}}return J}return function(V,te){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return G(V,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function G(V,te){for(var J=0;J<te.length;J++){var re=te[J];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(V,re.key,re)}}return function(V,te,J){return te&&G(V.prototype,te),J&&G(V,J),V}}(),l=i(3),u=S(l),d=i(2),f=S(d),c=i(0),h=S(c),v=i(5),y=S(v),_=i(10),m=S(_),g=i(9),E=S(g),p=i(36),b=i(37),C=i(13),O=S(C),I=i(26),N=i(38),A=i(39),T=i(40);function S(G){return G&&G.__esModule?G:{default:G}}function k(G,V,te){return V in G?Object.defineProperty(G,V,{value:te,enumerable:!0,configurable:!0,writable:!0}):G[V]=te,G}function P(G,V){if(!(G instanceof V))throw new TypeError("Cannot call a class as a function")}function U(G,V){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:G}function z(G,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);G.prototype=Object.create(V&&V.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(G,V):G.__proto__=V)}var Q=(0,m.default)("quill:clipboard"),se="__ql-matcher",X=[[Node.TEXT_NODE,ie],[Node.TEXT_NODE,K],["br",le],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,oe],["li",q],["b",$.bind($,"bold")],["i",$.bind($,"italic")],["style",M]],B=[p.AlignAttribute,N.DirectionAttribute].reduce(function(G,V){return G[V.keyName]=V,G},{}),x=[p.AlignStyle,b.BackgroundStyle,I.ColorStyle,N.DirectionStyle,A.FontStyle,T.SizeStyle].reduce(function(G,V){return G[V.keyName]=V,G},{}),j=function(G){z(V,G);function V(te,J){P(this,V);var re=U(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,te,J));return re.quill.root.addEventListener("paste",re.onPaste.bind(re)),re.container=re.quill.addContainer("ql-clipboard"),re.container.setAttribute("contenteditable",!0),re.container.setAttribute("tabindex",-1),re.matchers=[],X.concat(re.options.matchers).forEach(function(ce){var ue=s(ce,2),fe=ue[0],me=ue[1];!J.matchVisual&&me===ne||re.addMatcher(fe,me)}),re}return a(V,[{key:"addMatcher",value:function(J,re){this.matchers.push([J,re])}},{key:"convert",value:function(J){if(typeof J=="string")return this.container.innerHTML=J.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[O.default.blotName]){var ce=this.container.innerText;return this.container.innerHTML="",new f.default().insert(ce,k({},O.default.blotName,re[O.default.blotName]))}var ue=this.prepareMatching(),fe=s(ue,2),me=fe[0],be=fe[1],pe=L(this.container,me,be);return Y(pe,`
`)&&pe.ops[pe.ops.length-1].attributes==null&&(pe=pe.compose(new f.default().retain(pe.length()-1).delete(1))),Q.log("convert",this.container.innerHTML,pe),this.container.innerHTML="",pe}},{key:"dangerouslyPasteHTML",value:function(J,re){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;if(typeof J=="string")this.quill.setContents(this.convert(J),re),this.quill.setSelection(0,y.default.sources.SILENT);else{var ue=this.convert(re);this.quill.updateContents(new f.default().retain(J).concat(ue),ce),this.quill.setSelection(J+ue.length(),y.default.sources.SILENT)}}},{key:"onPaste",value:function(J){var re=this;if(!(J.defaultPrevented||!this.quill.isEnabled())){var ce=this.quill.getSelection(),ue=new f.default().retain(ce.index),fe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(y.default.sources.SILENT),setTimeout(function(){ue=ue.concat(re.convert()).delete(ce.length),re.quill.updateContents(ue,y.default.sources.USER),re.quill.setSelection(ue.length()-ce.length,y.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=fe,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var J=this,re=[],ce=[];return this.matchers.forEach(function(ue){var fe=s(ue,2),me=fe[0],be=fe[1];switch(me){case Node.TEXT_NODE:ce.push(be);break;case Node.ELEMENT_NODE:re.push(be);break;default:[].forEach.call(J.container.querySelectorAll(me),function(pe){pe[se]=pe[se]||[],pe[se].push(be)});break}}),[re,ce]}}]),V}(E.default);j.DEFAULTS={matchers:[],matchVisual:!0};function H(G,V,te){return(typeof V>"u"?"undefined":o(V))==="object"?Object.keys(V).reduce(function(J,re){return H(J,re,V[re])},G):G.reduce(function(J,re){return re.attributes&&re.attributes[V]?J.push(re):J.insert(re.insert,(0,u.default)({},k({},V,te),re.attributes))},new f.default)}function ee(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var V="__ql-computed-style";return G[V]||(G[V]=window.getComputedStyle(G))}function Y(G,V){for(var te="",J=G.ops.length-1;J>=0&&te.length<V.length;--J){var re=G.ops[J];if(typeof re.insert!="string")break;te=re.insert+te}return te.slice(-1*V.length)===V}function D(G){if(G.childNodes.length===0)return!1;var V=ee(G);return["block","list-item"].indexOf(V.display)>-1}function L(G,V,te){return G.nodeType===G.TEXT_NODE?te.reduce(function(J,re){return re(G,J)},new f.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(J,re){var ce=L(re,V,te);return re.nodeType===G.ELEMENT_NODE&&(ce=V.reduce(function(ue,fe){return fe(re,ue)},ce),ce=(re[se]||[]).reduce(function(ue,fe){return fe(re,ue)},ce)),J.concat(ce)},new f.default):new f.default}function $(G,V,te){return H(te,G,!0)}function F(G,V){var te=h.default.Attributor.Attribute.keys(G),J=h.default.Attributor.Class.keys(G),re=h.default.Attributor.Style.keys(G),ce={};return te.concat(J).concat(re).forEach(function(ue){var fe=h.default.query(ue,h.default.Scope.ATTRIBUTE);fe!=null&&(ce[fe.attrName]=fe.value(G),ce[fe.attrName])||(fe=B[ue],fe!=null&&(fe.attrName===ue||fe.keyName===ue)&&(ce[fe.attrName]=fe.value(G)||void 0),fe=x[ue],fe!=null&&(fe.attrName===ue||fe.keyName===ue)&&(fe=x[ue],ce[fe.attrName]=fe.value(G)||void 0))}),Object.keys(ce).length>0&&(V=H(V,ce)),V}function Z(G,V){var te=h.default.query(G);if(te==null)return V;if(te.prototype instanceof h.default.Embed){var J={},re=te.value(G);re!=null&&(J[te.blotName]=re,V=new f.default().insert(J,te.formats(G)))}else typeof te.formats=="function"&&(V=H(V,te.blotName,te.formats(G)));return V}function le(G,V){return Y(V,`
`)||V.insert(`
`),V}function M(){return new f.default}function q(G,V){var te=h.default.query(G);if(te==null||te.blotName!=="list-item"||!Y(V,`
`))return V;for(var J=-1,re=G.parentNode;!re.classList.contains("ql-clipboard");)(h.default.query(re)||{}).blotName==="list"&&(J+=1),re=re.parentNode;return J<=0?V:V.compose(new f.default().retain(V.length()-1).retain(1,{indent:J}))}function K(G,V){return Y(V,`
`)||(D(G)||V.length()>0&&G.nextSibling&&D(G.nextSibling))&&V.insert(`
`),V}function ne(G,V){if(D(G)&&G.nextElementSibling!=null&&!Y(V,`

`)){var te=G.offsetHeight+parseFloat(ee(G).marginTop)+parseFloat(ee(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+te*1.5&&V.insert(`
`)}return V}function oe(G,V){var te={},J=G.style||{};return J.fontStyle&&ee(G).fontStyle==="italic"&&(te.italic=!0),J.fontWeight&&(ee(G).fontWeight.startsWith("bold")||parseInt(ee(G).fontWeight)>=700)&&(te.bold=!0),Object.keys(te).length>0&&(V=H(V,te)),parseFloat(J.textIndent||0)>0&&(V=new f.default().insert("	").concat(V)),V}function ie(G,V){var te=G.data;if(G.parentNode.tagName==="O:P")return V.insert(te.trim());if(te.trim().length===0&&G.parentNode.classList.contains("ql-clipboard"))return V;if(!ee(G.parentNode).whiteSpace.startsWith("pre")){var J=function(ce,ue){return ue=ue.replace(/[^\u00a0]/g,""),ue.length<1&&ce?" ":ue};te=te.replace(/\r\n/g," ").replace(/\n/g," "),te=te.replace(/\s\s+/g,J.bind(J,!0)),(G.previousSibling==null&&D(G.parentNode)||G.previousSibling!=null&&D(G.previousSibling))&&(te=te.replace(/^\s+/,J.bind(J,!1))),(G.nextSibling==null&&D(G.parentNode)||G.nextSibling!=null&&D(G.nextSibling))&&(te=te.replace(/\s+$/,J.bind(J,!1)))}return V.insert(te)}r.default=j,r.matchAttributor=F,r.matchBlot=Z,r.matchNewline=K,r.matchSpacing=ne,r.matchText=ie},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,_,m){return _&&v(y.prototype,_),m&&v(y,m),y}}(),s=function v(y,_,m){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,_);if(g===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:v(E,_,m)}else{if("value"in g)return g.value;var p=g.get;return p===void 0?void 0:p.call(m)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var h=function(v){c(y,v);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,[{key:"optimize",value:function(m){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),y}(l.default);h.blotName="bold",h.tagName=["STRONG","B"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function T(S,k){var P=[],U=!0,z=!1,Q=void 0;try{for(var se=S[Symbol.iterator](),X;!(U=(X=se.next()).done)&&(P.push(X.value),!(k&&P.length===k));U=!0);}catch(B){z=!0,Q=B}finally{try{!U&&se.return&&se.return()}finally{if(z)throw Q}}return P}return function(S,k){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return T(S,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function T(S,k){for(var P=0;P<k.length;P++){var U=k[P];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(S,U.key,U)}}return function(S,k,P){return k&&T(S.prototype,k),P&&T(S,P),S}}(),a=i(2),l=m(a),u=i(0),d=m(u),f=i(5),c=m(f),h=i(10),v=m(h),y=i(9),_=m(y);function m(T){return T&&T.__esModule?T:{default:T}}function g(T,S,k){return S in T?Object.defineProperty(T,S,{value:k,enumerable:!0,configurable:!0,writable:!0}):T[S]=k,T}function E(T,S){if(!(T instanceof S))throw new TypeError("Cannot call a class as a function")}function p(T,S){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:T}function b(T,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);T.prototype=Object.create(S&&S.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(T,S):T.__proto__=S)}var C=(0,v.default)("quill:toolbar"),O=function(T){b(S,T);function S(k,P){E(this,S);var U=p(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k,P));if(Array.isArray(U.options.container)){var z=document.createElement("div");N(z,U.options.container),k.container.parentNode.insertBefore(z,k.container),U.container=z}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;if(!(U.container instanceof HTMLElement)){var Q;return Q=C.error("Container required for toolbar",U.options),p(U,Q)}return U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(se){U.addHandler(se,U.options.handlers[se])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(se){U.attach(se)}),U.quill.on(c.default.events.EDITOR_CHANGE,function(se,X){se===c.default.events.SELECTION_CHANGE&&U.update(X)}),U.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){var se=U.quill.selection.getRange(),X=o(se,1),B=X[0];U.update(B)}),U}return s(S,[{key:"addHandler",value:function(P,U){this.handlers[P]=U}},{key:"attach",value:function(P){var U=this,z=[].find.call(P.classList,function(se){return se.indexOf("ql-")===0});if(z){if(z=z.slice(3),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[z]==null){C.warn("ignoring attaching to disabled format",z,P);return}if(d.default.query(z)==null){C.warn("ignoring attaching to nonexistent format",z,P);return}}var Q=P.tagName==="SELECT"?"change":"click";P.addEventListener(Q,function(se){var X=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var B=P.options[P.selectedIndex];B.hasAttribute("selected")?X=!1:X=B.value||!1}else P.classList.contains("ql-active")?X=!1:X=P.value||!P.hasAttribute("value"),se.preventDefault();U.quill.focus();var x=U.quill.selection.getRange(),j=o(x,1),H=j[0];if(U.handlers[z]!=null)U.handlers[z].call(U,X);else if(d.default.query(z).prototype instanceof d.default.Embed){if(X=prompt("Enter "+z),!X)return;U.quill.updateContents(new l.default().retain(H.index).delete(H.length).insert(g({},z,X)),c.default.sources.USER)}else U.quill.format(z,X,c.default.sources.USER);U.update(H)}),this.controls.push([z,P])}}},{key:"update",value:function(P){var U=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(z){var Q=o(z,2),se=Q[0],X=Q[1];if(X.tagName==="SELECT"){var B=void 0;if(P==null)B=null;else if(U[se]==null)B=X.querySelector("option[selected]");else if(!Array.isArray(U[se])){var x=U[se];typeof x=="string"&&(x=x.replace(/\"/g,'\\"')),B=X.querySelector('option[value="'+x+'"]')}B==null?(X.value="",X.selectedIndex=-1):B.selected=!0}else if(P==null)X.classList.remove("ql-active");else if(X.hasAttribute("value")){var j=U[se]===X.getAttribute("value")||U[se]!=null&&U[se].toString()===X.getAttribute("value")||U[se]==null&&!X.getAttribute("value");X.classList.toggle("ql-active",j)}else X.classList.toggle("ql-active",U[se]!=null)})}}]),S}(_.default);O.DEFAULTS={};function I(T,S,k){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+S),k!=null&&(P.value=k),T.appendChild(P)}function N(T,S){Array.isArray(S[0])||(S=[S]),S.forEach(function(k){var P=document.createElement("span");P.classList.add("ql-formats"),k.forEach(function(U){if(typeof U=="string")I(P,U);else{var z=Object.keys(U)[0],Q=U[z];Array.isArray(Q)?A(P,z,Q):I(P,z,Q)}}),T.appendChild(P)})}function A(T,S,k){var P=document.createElement("select");P.classList.add("ql-"+S),k.forEach(function(U){var z=document.createElement("option");U!==!1?z.setAttribute("value",U):z.setAttribute("selected","selected"),P.appendChild(z)}),T.appendChild(P)}O.DEFAULTS={container:null,handlers:{clean:function(){var S=this,k=this.quill.getSelection();if(k!=null)if(k.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function(U){d.default.query(U,d.default.Scope.INLINE)!=null&&S.quill.format(U,!1)})}else this.quill.removeFormat(k,c.default.sources.USER)},direction:function(S){var k=this.quill.getFormat().align;S==="rtl"&&k==null?this.quill.format("align","right",c.default.sources.USER):!S&&k==="right"&&this.quill.format("align",!1,c.default.sources.USER),this.quill.format("direction",S,c.default.sources.USER)},indent:function(S){var k=this.quill.getSelection(),P=this.quill.getFormat(k),U=parseInt(P.indent||0);if(S==="+1"||S==="-1"){var z=S==="+1"?1:-1;P.direction==="rtl"&&(z*=-1),this.quill.format("indent",U+z,c.default.sources.USER)}},link:function(S){S===!0&&(S=prompt("Enter link URL:")),this.quill.format("link",S,c.default.sources.USER)},list:function(S){var k=this.quill.getSelection(),P=this.quill.getFormat(k);S==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,c.default.sources.USER):this.quill.format("list","unchecked",c.default.sources.USER):this.quill.format("list",S,c.default.sources.USER)}}},r.default=O,r.addControls=N},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,_,m){return _&&v(y.prototype,_),m&&v(y,m),y}}(),s=function v(y,_,m){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,_);if(g===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:v(E,_,m)}else{if("value"in g)return g.value;var p=g.get;return p===void 0?void 0:p.call(m)}},a=i(28),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var h=function(v){c(y,v);function y(_,m){d(this,y);var g=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return g.label.innerHTML=m,g.container.classList.add("ql-color-picker"),[].slice.call(g.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(E){E.classList.add("ql-primary")}),g}return o(y,[{key:"buildItem",value:function(m){var g=s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"buildItem",this).call(this,m);return g.style.backgroundColor=m.getAttribute("value")||"",g}},{key:"selectItem",value:function(m,g){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,g);var E=this.label.querySelector(".ql-color-label"),p=m&&m.getAttribute("data-value")||"";E&&(E.tagName==="line"?E.style.stroke=p:E.style.fill=p)}}]),y}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,_,m){return _&&v(y.prototype,_),m&&v(y,m),y}}(),s=function v(y,_,m){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,_);if(g===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:v(E,_,m)}else{if("value"in g)return g.value;var p=g.get;return p===void 0?void 0:p.call(m)}},a=i(28),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var h=function(v){c(y,v);function y(_,m){d(this,y);var g=f(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return g.container.classList.add("ql-icon-picker"),[].forEach.call(g.container.querySelectorAll(".ql-picker-item"),function(E){E.innerHTML=m[E.getAttribute("data-value")||""]}),g.defaultItem=g.container.querySelector(".ql-selected"),g.selectItem(g.defaultItem),g}return o(y,[{key:"selectItem",value:function(m,g){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"selectItem",this).call(this,m,g),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),y}(l.default);r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,d){for(var f=0;f<d.length;f++){var c=d[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,d,f){return d&&l(u.prototype,d),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,d){var f=this;s(this,l),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var f=d.left+d.width/2-this.root.offsetWidth/2,c=d.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=c+"px",this.root.classList.remove("ql-flip");var h=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),y=0;if(v.right>h.right&&(y=h.right-v.right,this.root.style.left=f+y+"px"),v.left<h.left&&(y=h.left-v.left,this.root.style.left=f+y+"px"),v.bottom>h.bottom){var _=v.bottom-v.top,m=d.bottom-d.top+_;this.root.style.top=c-m+"px",this.root.classList.add("ql-flip")}return y}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function A(T,S){var k=[],P=!0,U=!1,z=void 0;try{for(var Q=T[Symbol.iterator](),se;!(P=(se=Q.next()).done)&&(k.push(se.value),!(S&&k.length===S));P=!0);}catch(X){U=!0,z=X}finally{try{!P&&Q.return&&Q.return()}finally{if(U)throw z}}return k}return function(T,S){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return A(T,S);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function A(T,S,k){T===null&&(T=Function.prototype);var P=Object.getOwnPropertyDescriptor(T,S);if(P===void 0){var U=Object.getPrototypeOf(T);return U===null?void 0:A(U,S,k)}else{if("value"in P)return P.value;var z=P.get;return z===void 0?void 0:z.call(k)}},a=function(){function A(T,S){for(var k=0;k<S.length;k++){var P=S[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(T,P.key,P)}}return function(T,S,k){return S&&A(T.prototype,S),k&&A(T,k),T}}(),l=i(3),u=E(l),d=i(8),f=E(d),c=i(43),h=E(c),v=i(27),y=E(v),_=i(15),m=i(41),g=E(m);function E(A){return A&&A.__esModule?A:{default:A}}function p(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}function b(A,T){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:A}function C(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(A,T):A.__proto__=T)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],I=function(A){C(T,A);function T(S,k){p(this,T),k.modules.toolbar!=null&&k.modules.toolbar.container==null&&(k.modules.toolbar.container=O);var P=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,S,k));return P.quill.container.classList.add("ql-snow"),P}return a(T,[{key:"extendToolbar",value:function(k){k.container.classList.add("ql-snow"),this.buildButtons([].slice.call(k.container.querySelectorAll("button")),g.default),this.buildPickers([].slice.call(k.container.querySelectorAll("select")),g.default),this.tooltip=new N(this.quill,this.options.bounds),k.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(P,U){k.handlers.link.call(k,!U.format.link)})}}]),T}(h.default);I.DEFAULTS=(0,u.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){if(T){var S=this.quill.getSelection();if(S==null||S.length==0)return;var k=this.quill.getText(S);/^\S+@\S+\.\S+$/.test(k)&&k.indexOf("mailto:")!==0&&(k="mailto:"+k);var P=this.quill.theme.tooltip;P.edit("link",k)}else this.quill.format("link",!1)}}}}});var N=function(A){C(T,A);function T(S,k){p(this,T);var P=b(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,S,k));return P.preview=P.root.querySelector("a.ql-preview"),P}return a(T,[{key:"listen",value:function(){var k=this;s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(P){k.root.classList.contains("ql-editing")?k.save():k.edit("link",k.preview.textContent),P.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(P){if(k.linkRange!=null){var U=k.linkRange;k.restoreFocus(),k.quill.formatText(U,"link",!1,f.default.sources.USER),delete k.linkRange}P.preventDefault(),k.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(P,U,z){if(P!=null){if(P.length===0&&z===f.default.sources.USER){var Q=k.quill.scroll.descendant(y.default,P.index),se=o(Q,2),X=se[0],B=se[1];if(X!=null){k.linkRange=new _.Range(P.index-B,X.length());var x=y.default.formats(X.domNode);k.preview.textContent=x,k.preview.setAttribute("href",x),k.show(),k.position(k.quill.getBounds(k.linkRange));return}}else delete k.linkRange;k.hide()}})}},{key:"show",value:function(){s(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),T}(c.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=I},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=re(o),a=i(36),l=i(38),u=i(64),d=i(65),f=re(d),c=i(66),h=re(c),v=i(67),y=re(v),_=i(37),m=i(26),g=i(39),E=i(40),p=i(56),b=re(p),C=i(68),O=re(C),I=i(27),N=re(I),A=i(69),T=re(A),S=i(70),k=re(S),P=i(71),U=re(P),z=i(72),Q=re(z),se=i(73),X=re(se),B=i(13),x=re(B),j=i(74),H=re(j),ee=i(75),Y=re(ee),D=i(57),L=re(D),$=i(41),F=re($),Z=i(28),le=re(Z),M=i(59),q=re(M),K=i(60),ne=re(K),oe=i(61),ie=re(oe),G=i(108),V=re(G),te=i(62),J=re(te);function re(ce){return ce&&ce.__esModule?ce:{default:ce}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":g.FontClass,"attributors/class/size":E.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":g.FontStyle,"attributors/style/size":E.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":g.FontClass,"formats/size":E.SizeClass,"formats/blockquote":f.default,"formats/code-block":x.default,"formats/header":h.default,"formats/list":y.default,"formats/bold":b.default,"formats/code":B.Code,"formats/italic":O.default,"formats/link":N.default,"formats/script":T.default,"formats/strike":k.default,"formats/underline":U.default,"formats/image":Q.default,"formats/video":X.default,"formats/list/item":v.ListItem,"modules/formula":H.default,"modules/syntax":Y.default,"modules/toolbar":L.default,"themes/bubble":V.default,"themes/snow":J.default,"ui/icons":F.default,"ui/picker":le.default,"ui/icon-picker":ne.default,"ui/color-picker":q.default,"ui/tooltip":ie.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function y(_,m){for(var g=0;g<m.length;g++){var E=m[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,m,g){return m&&y(_.prototype,m),g&&y(_,g),_}}(),s=function y(_,m,g){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,m);if(E===void 0){var p=Object.getPrototypeOf(_);return p===null?void 0:y(p,m,g)}else{if("value"in E)return E.value;var b=E.get;return b===void 0?void 0:b.call(g)}},a=i(0),l=u(a);function u(y){return y&&y.__esModule?y:{default:y}}function d(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function f(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function c(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var h=function(y){c(_,y);function _(){return d(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"add",value:function(g,E){if(E==="+1"||E==="-1"){var p=this.value(g)||0;E=E==="+1"?p+1:p-1}return E===0?(this.remove(g),!0):s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,g,E)}},{key:"canAdd",value:function(g,E){return s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,g,E)||s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,g,parseInt(E))}},{key:"value",value:function(g){return parseInt(s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,g))||void 0}}]),_}(l.default.Attributor.Class),v=new h("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function d(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var f=function(c){d(h,c);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function h(v,y){for(var _=0;_<y.length;_++){var m=y[_];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,y,_){return y&&h(v.prototype,y),_&&h(v,_),v}}(),s=i(4),a=l(s);function l(h){return h&&h.__esModule?h:{default:h}}function u(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}function d(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:h}function f(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}var c=function(h){f(v,h);function v(){return u(this,v),d(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),v}(a.default);c.blotName="header",c.tagName=["H1","H2","H3","H4","H5","H6"],r.default=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function p(b,C){for(var O=0;O<C.length;O++){var I=C[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,C,O){return C&&p(b.prototype,C),O&&p(b,O),b}}(),s=function p(b,C,O){b===null&&(b=Function.prototype);var I=Object.getOwnPropertyDescriptor(b,C);if(I===void 0){var N=Object.getPrototypeOf(b);return N===null?void 0:p(N,C,O)}else{if("value"in I)return I.value;var A=I.get;return A===void 0?void 0:A.call(O)}},a=i(0),l=h(a),u=i(4),d=h(u),f=i(25),c=h(f);function h(p){return p&&p.__esModule?p:{default:p}}function v(p,b,C){return b in p?Object.defineProperty(p,b,{value:C,enumerable:!0,configurable:!0,writable:!0}):p[b]=C,p}function y(p,b){if(!(p instanceof b))throw new TypeError("Cannot call a class as a function")}function _(p,b){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:p}function m(p,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);p.prototype=Object.create(b&&b.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(p,b):p.__proto__=b)}var g=function(p){m(b,p);function b(){return y(this,b),_(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(O,I){O===E.blotName&&!I?this.replaceWith(l.default.create(this.statics.scope)):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,O,I)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,I){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,I),this):(this.parent.unwrap(),s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,O,I))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:s(b.__proto__||Object.getPrototypeOf(b),"formats",this).call(this,O)}}]),b}(d.default);g.blotName="list-item",g.tagName="LI";var E=function(p){m(b,p),o(b,null,[{key:"create",value:function(O){var I=O==="ordered"?"OL":"UL",N=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,I);return(O==="checked"||O==="unchecked")&&N.setAttribute("data-checked",O==="checked"),N}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function b(C){y(this,b);var O=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,C)),I=function(A){if(A.target.parentNode===C){var T=O.statics.formats(C),S=l.default.find(A.target);T==="checked"?S.format("list","unchecked"):T==="unchecked"&&S.format("list","checked")}};return C.addEventListener("touchstart",I),C.addEventListener("mousedown",I),O}return o(b,[{key:"format",value:function(O,I){this.children.length>0&&this.children.tail.format(O,I)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,I){if(O instanceof g)s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"insertBefore",this).call(this,O,I);else{var N=I==null?this.length():I.offset(this),A=this.split(N);A.parent.insertBefore(O,A)}}},{key:"optimize",value:function(O){s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,O);var I=this.next;I!=null&&I.prev===this&&I.statics.blotName===this.statics.blotName&&I.domNode.tagName===this.domNode.tagName&&I.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(I.moveChildren(this),I.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var I=l.default.create(this.statics.defaultChild);O.moveChildren(I),this.appendChild(I)}s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replace",this).call(this,O)}}]),b}(c.default);E.blotName="list",E.scope=l.default.Scope.BLOCK_BLOT,E.tagName=["OL","UL"],E.defaultChild="list-item",E.allowedChildren=[g],r.ListItem=g,r.default=E},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function d(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var f=function(c){d(h,c);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,_){for(var m=0;m<_.length;m++){var g=_[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(y,g.key,g)}}return function(y,_,m){return _&&v(y.prototype,_),m&&v(y,m),y}}(),s=function v(y,_,m){y===null&&(y=Function.prototype);var g=Object.getOwnPropertyDescriptor(y,_);if(g===void 0){var E=Object.getPrototypeOf(y);return E===null?void 0:v(E,_,m)}else{if("value"in g)return g.value;var p=g.get;return p===void 0?void 0:p.call(m)}},a=i(6),l=u(a);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function f(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function c(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var h=function(v){c(y,v);function y(){return d(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return o(y,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):s(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),y}(l.default);h.blotName="script",h.tagName=["SUB","SUP"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function d(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var f=function(c){d(h,c);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}function u(c,h){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:c}function d(c,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);c.prototype=Object.create(h&&h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(c,h):c.__proto__=h)}var f=function(c){d(h,c);function h(){return l(this,h),u(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(s.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(m,g){for(var E=0;E<g.length;E++){var p=g[E];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,E){return g&&_(m.prototype,g),E&&_(m,E),m}}(),s=function _(m,g,E){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,g);if(p===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:_(b,g,E)}else{if("value"in p)return p.value;var C=p.get;return C===void 0?void 0:C.call(E)}},a=i(0),l=d(a),u=i(27);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function c(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function h(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var v=["alt","height","width"],y=function(_){h(m,_);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(E,p){v.indexOf(E)>-1?p?this.domNode.setAttribute(E,p):this.domNode.removeAttribute(E):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,E,p)}}],[{key:"create",value:function(E){var p=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,E);return typeof E=="string"&&p.setAttribute("src",this.sanitize(E)),p}},{key:"formats",value:function(E){return v.reduce(function(p,b){return E.hasAttribute(b)&&(p[b]=E.getAttribute(b)),p},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,u.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),m}(l.default.Embed);y.blotName="image",y.tagName="IMG",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function _(m,g){for(var E=0;E<g.length;E++){var p=g[E];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,g,E){return g&&_(m.prototype,g),E&&_(m,E),m}}(),s=function _(m,g,E){m===null&&(m=Function.prototype);var p=Object.getOwnPropertyDescriptor(m,g);if(p===void 0){var b=Object.getPrototypeOf(m);return b===null?void 0:_(b,g,E)}else{if("value"in p)return p.value;var C=p.get;return C===void 0?void 0:C.call(E)}},a=i(4),l=i(27),u=d(l);function d(_){return _&&_.__esModule?_:{default:_}}function f(_,m){if(!(_ instanceof m))throw new TypeError("Cannot call a class as a function")}function c(_,m){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:_}function h(_,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);_.prototype=Object.create(m&&m.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(_,m):_.__proto__=m)}var v=["height","width"],y=function(_){h(m,_);function m(){return f(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return o(m,[{key:"format",value:function(E,p){v.indexOf(E)>-1?p?this.domNode.setAttribute(E,p):this.domNode.removeAttribute(E):s(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,E,p)}}],[{key:"create",value:function(E){var p=s(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,E);return p.setAttribute("frameborder","0"),p.setAttribute("allowfullscreen",!0),p.setAttribute("src",this.sanitize(E)),p}},{key:"formats",value:function(E){return v.reduce(function(p,b){return E.hasAttribute(b)&&(p[b]=E.getAttribute(b)),p},{})}},{key:"sanitize",value:function(E){return u.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),m}(a.BlockEmbed);y.blotName="video",y.className="ql-video",y.tagName="IFRAME",r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function E(p,b){for(var C=0;C<b.length;C++){var O=b[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(p,O.key,O)}}return function(p,b,C){return b&&E(p.prototype,b),C&&E(p,C),p}}(),s=function E(p,b,C){p===null&&(p=Function.prototype);var O=Object.getOwnPropertyDescriptor(p,b);if(O===void 0){var I=Object.getPrototypeOf(p);return I===null?void 0:E(I,b,C)}else{if("value"in O)return O.value;var N=O.get;return N===void 0?void 0:N.call(C)}},a=i(35),l=h(a),u=i(5),d=h(u),f=i(9),c=h(f);function h(E){return E&&E.__esModule?E:{default:E}}function v(E,p){if(!(E instanceof p))throw new TypeError("Cannot call a class as a function")}function y(E,p){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:E}function _(E,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);E.prototype=Object.create(p&&p.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(E,p):E.__proto__=p)}var m=function(E){_(p,E);function p(){return v(this,p),y(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return o(p,null,[{key:"create",value:function(C){var O=s(p.__proto__||Object.getPrototypeOf(p),"create",this).call(this,C);return typeof C=="string"&&(window.katex.render(C,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",C)),O}},{key:"value",value:function(C){return C.getAttribute("data-value")}}]),p}(l.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var g=function(E){_(p,E),o(p,null,[{key:"register",value:function(){d.default.register(m,!0)}}]);function p(){v(this,p);var b=y(this,(p.__proto__||Object.getPrototypeOf(p)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return b}return p}(c.default);r.FormulaBlot=m,r.default=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function C(O,I){for(var N=0;N<I.length;N++){var A=I[N];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,I,N){return I&&C(O.prototype,I),N&&C(O,N),O}}(),s=function C(O,I,N){O===null&&(O=Function.prototype);var A=Object.getOwnPropertyDescriptor(O,I);if(A===void 0){var T=Object.getPrototypeOf(O);return T===null?void 0:C(T,I,N)}else{if("value"in A)return A.value;var S=A.get;return S===void 0?void 0:S.call(N)}},a=i(0),l=y(a),u=i(5),d=y(u),f=i(9),c=y(f),h=i(13),v=y(h);function y(C){return C&&C.__esModule?C:{default:C}}function _(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function m(C,O){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:C}function g(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}var E=function(C){g(O,C);function O(){return _(this,O),m(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return o(O,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),s(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=N(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),O}(v.default);E.className="ql-syntax";var p=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),b=function(C){g(O,C),o(O,null,[{key:"register",value:function(){d.default.register(p,!0),d.default.register(E,!0)}}]);function O(I,N){_(this,O);var A=m(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,I,N));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var T=null;return A.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(T),T=setTimeout(function(){A.highlight(),T=null},A.options.interval)}),A.highlight(),A}return o(O,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(E).forEach(function(T){T.highlight(N.options.highlight)}),this.quill.update(d.default.sources.SILENT),A!=null&&this.quill.setSelection(A,d.default.sources.SILENT)}}}]),O}(c.default);b.DEFAULTS={highlight:function(){return window.hljs==null?null:function(C){var O=window.hljs.highlightAuto(C);return O.value}}(),interval:1e3},r.CodeBlock=E,r.CodeToken=p,r.default=b},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function O(I,N,A){I===null&&(I=Function.prototype);var T=Object.getOwnPropertyDescriptor(I,N);if(T===void 0){var S=Object.getPrototypeOf(I);return S===null?void 0:O(S,N,A)}else{if("value"in T)return T.value;var k=T.get;return k===void 0?void 0:k.call(A)}},s=function(){function O(I,N){for(var A=0;A<N.length;A++){var T=N[A];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(I,T.key,T)}}return function(I,N,A){return N&&O(I.prototype,N),A&&O(I,A),I}}(),a=i(3),l=_(a),u=i(8),d=_(u),f=i(43),c=_(f),h=i(15),v=i(41),y=_(v);function _(O){return O&&O.__esModule?O:{default:O}}function m(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function g(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function E(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var p=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],b=function(O){E(I,O);function I(N,A){m(this,I),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=p);var T=g(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,N,A));return T.quill.container.classList.add("ql-bubble"),T}return s(I,[{key:"extendToolbar",value:function(A){this.tooltip=new C(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),y.default)}}]),I}(c.default);b.DEFAULTS=(0,l.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){I?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var C=function(O){E(I,O);function I(N,A){m(this,I);var T=g(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,N,A));return T.quill.on(d.default.events.EDITOR_CHANGE,function(S,k,P,U){if(S===d.default.events.SELECTION_CHANGE)if(k!=null&&k.length>0&&U===d.default.sources.USER){T.show(),T.root.style.left="0px",T.root.style.width="",T.root.style.width=T.root.offsetWidth+"px";var z=T.quill.getLines(k.index,k.length);if(z.length===1)T.position(T.quill.getBounds(k));else{var Q=z[z.length-1],se=T.quill.getIndex(Q),X=Math.min(Q.length()-1,k.index+k.length-se),B=T.quill.getBounds(new h.Range(se,X));T.position(B)}}else document.activeElement!==T.textbox&&T.quill.hasFocus()&&T.hide()}),T}return s(I,[{key:"listen",value:function(){var A=this;o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var T=A.quill.getSelection();T!=null&&A.position(A.quill.getBounds(T))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var T=o(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"position",this).call(this,A),S=this.root.querySelector(".ql-tooltip-arrow");if(S.style.marginLeft="",T===0)return T;S.style.marginLeft=-1*T-S.offsetWidth/2+"px"}}]),I}(f.BaseTooltip);C.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=C,r.default=b},function(n,r,i){n.exports=i(63)}]).default})})(ky);var GN=ky.exports;const Pu=Cy(GN);var ln=-1,Yt=1,xt=0;function is(t,e,n,r){if(t===e)return t?[[xt,t]]:[];if(n!=null){var i=JN(t,e,n);if(i)return i}var o=Xf(t,e),s=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=Jf(t,e);var a=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var l=YN(t,e);return s&&l.unshift([xt,s]),a&&l.push([xt,a]),Ny(l,r),l}function YN(t,e){var n;if(!t)return[[Yt,e]];if(!e)return[[ln,t]];var r=t.length>e.length?t:e,i=t.length>e.length?e:t,o=r.indexOf(i);if(o!==-1)return n=[[Yt,r.substring(0,o)],[xt,i],[Yt,r.substring(o+i.length)]],t.length>e.length&&(n[0][0]=n[2][0]=ln),n;if(i.length===1)return[[ln,t],[Yt,e]];var s=ZN(t,e);if(s){var a=s[0],l=s[1],u=s[2],d=s[3],f=s[4],c=is(a,u),h=is(l,d);return c.concat([[xt,f]],h)}return QN(t,e)}function QN(t,e){for(var n=t.length,r=e.length,i=Math.ceil((n+r)/2),o=i,s=2*i,a=new Array(s),l=new Array(s),u=0;u<s;u++)a[u]=-1,l[u]=-1;a[o+1]=0,l[o+1]=0;for(var d=n-r,f=d%2!==0,c=0,h=0,v=0,y=0,_=0;_<i;_++){for(var m=-_+c;m<=_-h;m+=2){var g=o+m,E;m===-_||m!==_&&a[g-1]<a[g+1]?E=a[g+1]:E=a[g-1]+1;for(var p=E-m;E<n&&p<r&&t.charAt(E)===e.charAt(p);)E++,p++;if(a[g]=E,E>n)h+=2;else if(p>r)c+=2;else if(f){var b=o+d-m;if(b>=0&&b<s&&l[b]!==-1){var C=n-l[b];if(E>=C)return Tp(t,e,E,p)}}}for(var O=-_+v;O<=_-y;O+=2){var b=o+O,C;O===-_||O!==_&&l[b-1]<l[b+1]?C=l[b+1]:C=l[b-1]+1;for(var I=C-O;C<n&&I<r&&t.charAt(n-C-1)===e.charAt(r-I-1);)C++,I++;if(l[b]=C,C>n)y+=2;else if(I>r)v+=2;else if(!f){var g=o+d-O;if(g>=0&&g<s&&a[g]!==-1){var E=a[g],p=o+E-g;if(C=n-C,E>=C)return Tp(t,e,E,p)}}}}return[[ln,t],[Yt,e]]}function Tp(t,e,n,r){var i=t.substring(0,n),o=e.substring(0,r),s=t.substring(n),a=e.substring(r),l=is(i,o),u=is(s,a);return l.concat(u)}function Xf(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)==e.substring(o,i)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return xy(t.charCodeAt(i-1))&&i--,i}function Jf(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)==e.substring(e.length-i,e.length-o)?(n=i,o=n):r=i,i=Math.floor((r-n)/2+n);return Ry(t.charCodeAt(t.length-i))&&i--,i}function ZN(t,e){var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||r.length*2<n.length)return null;function i(h,v,y){for(var _=h.substring(y,y+Math.floor(h.length/4)),m=-1,g="",E,p,b,C;(m=v.indexOf(_,m+1))!==-1;){var O=Xf(h.substring(y),v.substring(m)),I=Jf(h.substring(0,y),v.substring(0,m));g.length<I+O&&(g=v.substring(m-I,m)+v.substring(m,m+O),E=h.substring(0,y-I),p=h.substring(y+O),b=v.substring(0,m-I),C=v.substring(m+O))}return g.length*2>=h.length?[E,p,b,C,g]:null}var o=i(n,r,Math.ceil(n.length/4)),s=i(n,r,Math.ceil(n.length/2)),a;if(!o&&!s)return null;s?o?a=o[4].length>s[4].length?o:s:a=s:a=o;var l,u,d,f;t.length>e.length?(l=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],l=a[2],u=a[3]);var c=a[4];return[l,u,d,f,c]}function Ny(t,e){t.push([xt,""]);for(var n=0,r=0,i=0,o="",s="",a;n<t.length;){if(n<t.length-1&&!t[n][1]){t.splice(n,1);continue}switch(t[n][0]){case Yt:i++,s+=t[n][1],n++;break;case ln:r++,o+=t[n][1],n++;break;case xt:var l=n-i-r-1;if(e){if(l>=0&&Ly(t[l][1])){var u=t[l][1].slice(-1);if(t[l][1]=t[l][1].slice(0,-1),o=u+o,s=u+s,!t[l][1]){t.splice(l,1),n--;var d=l-1;t[d]&&t[d][0]===Yt&&(i++,s=t[d][1]+s,d--),t[d]&&t[d][0]===ln&&(r++,o=t[d][1]+o,d--),l=d}}if(Py(t[n][1])){var u=t[n][1].charAt(0);t[n][1]=t[n][1].slice(1),o+=u,s+=u}}if(n<t.length-1&&!t[n][1]){t.splice(n,1);break}if(o.length>0||s.length>0){o.length>0&&s.length>0&&(a=Xf(s,o),a!==0&&(l>=0?t[l][1]+=s.substring(0,a):(t.splice(0,0,[xt,s.substring(0,a)]),n++),s=s.substring(a),o=o.substring(a)),a=Jf(s,o),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),o=o.substring(0,o.length-a)));var f=i+r;o.length===0&&s.length===0?(t.splice(n-f,f),n=n-f):o.length===0?(t.splice(n-f,f,[Yt,s]),n=n-f+1):s.length===0?(t.splice(n-f,f,[ln,o]),n=n-f+1):(t.splice(n-f,f,[ln,o],[Yt,s]),n=n-f+2)}n!==0&&t[n-1][0]===xt?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",s="";break}}t[t.length-1][1]===""&&t.pop();var c=!1;for(n=1;n<t.length-1;)t[n-1][0]===xt&&t[n+1][0]===xt&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)==t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;c&&Ny(t,e)}function xy(t){return t>=55296&&t<=56319}function Ry(t){return t>=56320&&t<=57343}function Py(t){return Ry(t.charCodeAt(0))}function Ly(t){return xy(t.charCodeAt(t.length-1))}function XN(t){for(var e=[],n=0;n<t.length;n++)t[n][1].length>0&&e.push(t[n]);return e}function Lu(t,e,n,r){return Ly(t)||Py(r)?null:XN([[xt,t],[ln,e],[Yt,n],[xt,r]])}function JN(t,e,n){var r=typeof n=="number"?{index:n,length:0}:n.oldRange,i=typeof n=="number"?null:n.newRange,o=t.length,s=e.length;if(r.length===0&&(i===null||i.length===0)){var a=r.index,l=t.slice(0,a),u=t.slice(a),d=i?i.index:null;e:{var f=a+s-o;if(d!==null&&d!==f||f<0||f>s)break e;var c=e.slice(0,f),h=e.slice(f);if(h!==u)break e;var v=Math.min(a,f),y=l.slice(0,v),_=c.slice(0,v);if(y!==_)break e;var m=l.slice(v),g=c.slice(v);return Lu(y,m,g,u)}e:{if(d!==null&&d!==a)break e;var E=a,c=e.slice(0,E),h=e.slice(E);if(c!==l)break e;var p=Math.min(o-E,s-E),b=u.slice(u.length-p),C=h.slice(h.length-p);if(b!==C)break e;var m=u.slice(0,u.length-p),g=h.slice(0,h.length-p);return Lu(l,m,g,b)}}if(r.length>0&&i&&i.length===0)e:{var y=t.slice(0,r.index),b=t.slice(r.index+r.length),v=y.length,p=b.length;if(s<v+p)break e;var _=e.slice(0,v),C=e.slice(s-p);if(y!==_||b!==C)break e;var m=t.slice(v,o-p),g=e.slice(v,s-p);return Lu(y,m,g,b)}return null}function wl(t,e,n){return is(t,e,n,!0)}wl.INSERT=Yt;wl.DELETE=ln;wl.EQUAL=xt;var ex=wl,Da={exports:{}};Da.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object GeneratorFunction]",c="[object Map]",h="[object Number]",v="[object Object]",y="[object Promise]",_="[object RegExp]",m="[object Set]",g="[object String]",E="[object Symbol]",p="[object WeakMap]",b="[object ArrayBuffer]",C="[object DataView]",O="[object Float32Array]",I="[object Float64Array]",N="[object Int8Array]",A="[object Int16Array]",T="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",P="[object Uint16Array]",U="[object Uint32Array]",z=/[\\^$.*+?()[\]{}|]/g,Q=/\w*$/,se=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,B={};B[o]=B[s]=B[b]=B[C]=B[a]=B[l]=B[O]=B[I]=B[N]=B[A]=B[T]=B[c]=B[h]=B[v]=B[_]=B[m]=B[g]=B[E]=B[S]=B[k]=B[P]=B[U]=!0,B[u]=B[d]=B[p]=!1;var x=typeof pt=="object"&&pt&&pt.Object===Object&&pt,j=typeof self=="object"&&self&&self.Object===Object&&self,H=x||j||Function("return this")(),ee=e&&!e.nodeType&&e,Y=ee&&!0&&t&&!t.nodeType&&t,D=Y&&Y.exports===ee;function L(w,R){return w.set(R[0],R[1]),w}function $(w,R){return w.add(R),w}function F(w,R){for(var W=-1,ae=w?w.length:0;++W<ae&&R(w[W],W,w)!==!1;);return w}function Z(w,R){for(var W=-1,ae=R.length,Te=w.length;++W<ae;)w[Te+W]=R[W];return w}function le(w,R,W,ae){var Te=-1,ge=w?w.length:0;for(ae&&ge&&(W=w[++Te]);++Te<ge;)W=R(W,w[Te],Te,w);return W}function M(w,R){for(var W=-1,ae=Array(w);++W<w;)ae[W]=R(W);return ae}function q(w,R){return w==null?void 0:w[R]}function K(w){var R=!1;if(w!=null&&typeof w.toString!="function")try{R=!!(w+"")}catch{}return R}function ne(w){var R=-1,W=Array(w.size);return w.forEach(function(ae,Te){W[++R]=[Te,ae]}),W}function oe(w,R){return function(W){return w(R(W))}}function ie(w){var R=-1,W=Array(w.size);return w.forEach(function(ae){W[++R]=ae}),W}var G=Array.prototype,V=Function.prototype,te=Object.prototype,J=H["__core-js_shared__"],re=function(){var w=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),ce=V.toString,ue=te.hasOwnProperty,fe=te.toString,me=RegExp("^"+ce.call(ue).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),be=D?H.Buffer:void 0,pe=H.Symbol,Oe=H.Uint8Array,ve=oe(Object.getPrototypeOf,Object),qe=Object.create,mn=te.propertyIsEnumerable,At=G.splice,en=Object.getOwnPropertySymbols,Ge=be?be.isBuffer:void 0,lt=oe(Object.keys,Object),vn=$t(H,"DataView"),Tr=$t(H,"Map"),Ht=$t(H,"Promise"),ri=$t(H,"Set"),Gi=$t(H,"WeakMap"),Sr=$t(Object,"create"),Yi=wt(vn),Or=wt(Tr),Qi=wt(Ht),Zi=wt(ri),Xi=wt(Gi),qn=pe?pe.prototype:void 0,bs=qn?qn.valueOf:void 0;function yn(w){var R=-1,W=w?w.length:0;for(this.clear();++R<W;){var ae=w[R];this.set(ae[0],ae[1])}}function Sl(){this.__data__=Sr?Sr(null):{}}function Ol(w){return this.has(w)&&delete this.__data__[w]}function Il(w){var R=this.__data__;if(Sr){var W=R[w];return W===r?void 0:W}return ue.call(R,w)?R[w]:void 0}function Es(w){var R=this.__data__;return Sr?R[w]!==void 0:ue.call(R,w)}function Ji(w,R){var W=this.__data__;return W[w]=Sr&&R===void 0?r:R,this}yn.prototype.clear=Sl,yn.prototype.delete=Ol,yn.prototype.get=Il,yn.prototype.has=Es,yn.prototype.set=Ji;function ut(w){var R=-1,W=w?w.length:0;for(this.clear();++R<W;){var ae=w[R];this.set(ae[0],ae[1])}}function Al(){this.__data__=[]}function Cl(w){var R=this.__data__,W=oi(R,w);if(W<0)return!1;var ae=R.length-1;return W==ae?R.pop():At.call(R,W,1),!0}function kl(w){var R=this.__data__,W=oi(R,w);return W<0?void 0:R[W][1]}function Nl(w){return oi(this.__data__,w)>-1}function xl(w,R){var W=this.__data__,ae=oi(W,w);return ae<0?W.push([w,R]):W[ae][1]=R,this}ut.prototype.clear=Al,ut.prototype.delete=Cl,ut.prototype.get=kl,ut.prototype.has=Nl,ut.prototype.set=xl;function gt(w){var R=-1,W=w?w.length:0;for(this.clear();++R<W;){var ae=w[R];this.set(ae[0],ae[1])}}function Rl(){this.__data__={hash:new yn,map:new(Tr||ut),string:new yn}}function Pl(w){return Ar(this,w).delete(w)}function Ll(w){return Ar(this,w).get(w)}function Ml(w){return Ar(this,w).has(w)}function Dl(w,R){return Ar(this,w).set(w,R),this}gt.prototype.clear=Rl,gt.prototype.delete=Pl,gt.prototype.get=Ll,gt.prototype.has=Ml,gt.prototype.set=Dl;function Ct(w){this.__data__=new ut(w)}function Fl(){this.__data__=new ut}function jl(w){return this.__data__.delete(w)}function Bl(w){return this.__data__.get(w)}function ql(w){return this.__data__.has(w)}function Ul(w,R){var W=this.__data__;if(W instanceof ut){var ae=W.__data__;if(!Tr||ae.length<n-1)return ae.push([w,R]),this;W=this.__data__=new gt(ae)}return W.set(w,R),this}Ct.prototype.clear=Fl,Ct.prototype.delete=jl,Ct.prototype.get=Bl,Ct.prototype.has=ql,Ct.prototype.set=Ul;function ii(w,R){var W=ro(w)||ai(w)?M(w.length,String):[],ae=W.length,Te=!!ae;for(var ge in w)(R||ue.call(w,ge))&&!(Te&&(ge=="length"||tu(ge,ae)))&&W.push(ge);return W}function ws(w,R,W){var ae=w[R];(!(ue.call(w,R)&&As(ae,W))||W===void 0&&!(R in w))&&(w[R]=W)}function oi(w,R){for(var W=w.length;W--;)if(As(w[W][0],R))return W;return-1}function tn(w,R){return w&&no(R,oo(R),w)}function eo(w,R,W,ae,Te,ge,xe){var Re;if(ae&&(Re=ge?ae(w,Te,ge,xe):ae(w)),Re!==void 0)return Re;if(!rn(w))return w;var Xe=ro(w);if(Xe){if(Re=Jl(w),!R)return Ql(w,Re)}else{var Me=bn(w),mt=Me==d||Me==f;if(Cs(w))return si(w,R);if(Me==v||Me==o||mt&&!ge){if(K(w))return ge?w:{};if(Re=nn(mt?{}:w),!R)return Zl(w,tn(Re,w))}else{if(!B[Me])return ge?w:{};Re=eu(w,Me,eo,R)}}xe||(xe=new Ct);var kt=xe.get(w);if(kt)return kt;if(xe.set(w,Re),!Xe)var et=W?Xl(w):oo(w);return F(et||w,function(vt,ct){et&&(ct=vt,vt=w[ct]),ws(Re,ct,eo(vt,R,W,ae,ct,w,xe))}),Re}function Hl(w){return rn(w)?qe(w):{}}function $l(w,R,W){var ae=R(w);return ro(w)?ae:Z(ae,W(w))}function Wl(w){return fe.call(w)}function zl(w){if(!rn(w)||ru(w))return!1;var R=io(w)||K(w)?me:se;return R.test(wt(w))}function Vl(w){if(!Os(w))return lt(w);var R=[];for(var W in Object(w))ue.call(w,W)&&W!="constructor"&&R.push(W);return R}function si(w,R){if(R)return w.slice();var W=new w.constructor(w.length);return w.copy(W),W}function to(w){var R=new w.constructor(w.byteLength);return new Oe(R).set(new Oe(w)),R}function Ir(w,R){var W=R?to(w.buffer):w.buffer;return new w.constructor(W,w.byteOffset,w.byteLength)}function Ts(w,R,W){var ae=R?W(ne(w),!0):ne(w);return le(ae,L,new w.constructor)}function Ss(w){var R=new w.constructor(w.source,Q.exec(w));return R.lastIndex=w.lastIndex,R}function Kl(w,R,W){var ae=R?W(ie(w),!0):ie(w);return le(ae,$,new w.constructor)}function Gl(w){return bs?Object(bs.call(w)):{}}function Yl(w,R){var W=R?to(w.buffer):w.buffer;return new w.constructor(W,w.byteOffset,w.length)}function Ql(w,R){var W=-1,ae=w.length;for(R||(R=Array(ae));++W<ae;)R[W]=w[W];return R}function no(w,R,W,ae){W||(W={});for(var Te=-1,ge=R.length;++Te<ge;){var xe=R[Te],Re=ae?ae(W[xe],w[xe],xe,W,w):void 0;ws(W,xe,Re===void 0?w[xe]:Re)}return W}function Zl(w,R){return no(w,_n(w),R)}function Xl(w){return $l(w,oo,_n)}function Ar(w,R){var W=w.__data__;return nu(R)?W[typeof R=="string"?"string":"hash"]:W.map}function $t(w,R){var W=q(w,R);return zl(W)?W:void 0}var _n=en?oe(en,Object):ou,bn=Wl;(vn&&bn(new vn(new ArrayBuffer(1)))!=C||Tr&&bn(new Tr)!=c||Ht&&bn(Ht.resolve())!=y||ri&&bn(new ri)!=m||Gi&&bn(new Gi)!=p)&&(bn=function(w){var R=fe.call(w),W=R==v?w.constructor:void 0,ae=W?wt(W):void 0;if(ae)switch(ae){case Yi:return C;case Or:return c;case Qi:return y;case Zi:return m;case Xi:return p}return R});function Jl(w){var R=w.length,W=w.constructor(R);return R&&typeof w[0]=="string"&&ue.call(w,"index")&&(W.index=w.index,W.input=w.input),W}function nn(w){return typeof w.constructor=="function"&&!Os(w)?Hl(ve(w)):{}}function eu(w,R,W,ae){var Te=w.constructor;switch(R){case b:return to(w);case a:case l:return new Te(+w);case C:return Ir(w,ae);case O:case I:case N:case A:case T:case S:case k:case P:case U:return Yl(w,ae);case c:return Ts(w,ae,W);case h:case g:return new Te(w);case _:return Ss(w);case m:return Kl(w,ae,W);case E:return Gl(w)}}function tu(w,R){return R=R??i,!!R&&(typeof w=="number"||X.test(w))&&w>-1&&w%1==0&&w<R}function nu(w){var R=typeof w;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?w!=="__proto__":w===null}function ru(w){return!!re&&re in w}function Os(w){var R=w&&w.constructor,W=typeof R=="function"&&R.prototype||te;return w===W}function wt(w){if(w!=null){try{return ce.call(w)}catch{}try{return w+""}catch{}}return""}function Is(w){return eo(w,!0,!0)}function As(w,R){return w===R||w!==w&&R!==R}function ai(w){return iu(w)&&ue.call(w,"callee")&&(!mn.call(w,"callee")||fe.call(w)==o)}var ro=Array.isArray;function li(w){return w!=null&&ks(w.length)&&!io(w)}function iu(w){return Ns(w)&&li(w)}var Cs=Ge||su;function io(w){var R=rn(w)?fe.call(w):"";return R==d||R==f}function ks(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=i}function rn(w){var R=typeof w;return!!w&&(R=="object"||R=="function")}function Ns(w){return!!w&&typeof w=="object"}function oo(w){return li(w)?ii(w):Vl(w)}function ou(){return[]}function su(){return!1}t.exports=Is})(Da,Da.exports);var My=Da.exports,Fa={exports:{}};Fa.exports;(function(t,e){var n=200,r="__lodash_hash_undefined__",i=1,o=2,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",d="[object Boolean]",f="[object Date]",c="[object Error]",h="[object Function]",v="[object GeneratorFunction]",y="[object Map]",_="[object Number]",m="[object Null]",g="[object Object]",E="[object Promise]",p="[object Proxy]",b="[object RegExp]",C="[object Set]",O="[object String]",I="[object Symbol]",N="[object Undefined]",A="[object WeakMap]",T="[object ArrayBuffer]",S="[object DataView]",k="[object Float32Array]",P="[object Float64Array]",U="[object Int8Array]",z="[object Int16Array]",Q="[object Int32Array]",se="[object Uint8Array]",X="[object Uint8ClampedArray]",B="[object Uint16Array]",x="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,H=/^\[object .+?Constructor\]$/,ee=/^(?:0|[1-9]\d*)$/,Y={};Y[k]=Y[P]=Y[U]=Y[z]=Y[Q]=Y[se]=Y[X]=Y[B]=Y[x]=!0,Y[a]=Y[l]=Y[T]=Y[d]=Y[S]=Y[f]=Y[c]=Y[h]=Y[y]=Y[_]=Y[g]=Y[b]=Y[C]=Y[O]=Y[A]=!1;var D=typeof pt=="object"&&pt&&pt.Object===Object&&pt,L=typeof self=="object"&&self&&self.Object===Object&&self,$=D||L||Function("return this")(),F=e&&!e.nodeType&&e,Z=F&&!0&&t&&!t.nodeType&&t,le=Z&&Z.exports===F,M=le&&D.process,q=function(){try{return M&&M.binding&&M.binding("util")}catch{}}(),K=q&&q.isTypedArray;function ne(w,R){for(var W=-1,ae=w==null?0:w.length,Te=0,ge=[];++W<ae;){var xe=w[W];R(xe,W,w)&&(ge[Te++]=xe)}return ge}function oe(w,R){for(var W=-1,ae=R.length,Te=w.length;++W<ae;)w[Te+W]=R[W];return w}function ie(w,R){for(var W=-1,ae=w==null?0:w.length;++W<ae;)if(R(w[W],W,w))return!0;return!1}function G(w,R){for(var W=-1,ae=Array(w);++W<w;)ae[W]=R(W);return ae}function V(w){return function(R){return w(R)}}function te(w,R){return w.has(R)}function J(w,R){return w==null?void 0:w[R]}function re(w){var R=-1,W=Array(w.size);return w.forEach(function(ae,Te){W[++R]=[Te,ae]}),W}function ce(w,R){return function(W){return w(R(W))}}function ue(w){var R=-1,W=Array(w.size);return w.forEach(function(ae){W[++R]=ae}),W}var fe=Array.prototype,me=Function.prototype,be=Object.prototype,pe=$["__core-js_shared__"],Oe=me.toString,ve=be.hasOwnProperty,qe=function(){var w=/[^.]+$/.exec(pe&&pe.keys&&pe.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""}(),mn=be.toString,At=RegExp("^"+Oe.call(ve).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),en=le?$.Buffer:void 0,Ge=$.Symbol,lt=$.Uint8Array,vn=be.propertyIsEnumerable,Tr=fe.splice,Ht=Ge?Ge.toStringTag:void 0,ri=Object.getOwnPropertySymbols,Gi=en?en.isBuffer:void 0,Sr=ce(Object.keys,Object),Yi=_n($,"DataView"),Or=_n($,"Map"),Qi=_n($,"Promise"),Zi=_n($,"Set"),Xi=_n($,"WeakMap"),qn=_n(Object,"create"),bs=wt(Yi),yn=wt(Or),Sl=wt(Qi),Ol=wt(Zi),Il=wt(Xi),Es=Ge?Ge.prototype:void 0,Ji=Es?Es.valueOf:void 0;function ut(w){var R=-1,W=w==null?0:w.length;for(this.clear();++R<W;){var ae=w[R];this.set(ae[0],ae[1])}}function Al(){this.__data__=qn?qn(null):{},this.size=0}function Cl(w){var R=this.has(w)&&delete this.__data__[w];return this.size-=R?1:0,R}function kl(w){var R=this.__data__;if(qn){var W=R[w];return W===r?void 0:W}return ve.call(R,w)?R[w]:void 0}function Nl(w){var R=this.__data__;return qn?R[w]!==void 0:ve.call(R,w)}function xl(w,R){var W=this.__data__;return this.size+=this.has(w)?0:1,W[w]=qn&&R===void 0?r:R,this}ut.prototype.clear=Al,ut.prototype.delete=Cl,ut.prototype.get=kl,ut.prototype.has=Nl,ut.prototype.set=xl;function gt(w){var R=-1,W=w==null?0:w.length;for(this.clear();++R<W;){var ae=w[R];this.set(ae[0],ae[1])}}function Rl(){this.__data__=[],this.size=0}function Pl(w){var R=this.__data__,W=si(R,w);if(W<0)return!1;var ae=R.length-1;return W==ae?R.pop():Tr.call(R,W,1),--this.size,!0}function Ll(w){var R=this.__data__,W=si(R,w);return W<0?void 0:R[W][1]}function Ml(w){return si(this.__data__,w)>-1}function Dl(w,R){var W=this.__data__,ae=si(W,w);return ae<0?(++this.size,W.push([w,R])):W[ae][1]=R,this}gt.prototype.clear=Rl,gt.prototype.delete=Pl,gt.prototype.get=Ll,gt.prototype.has=Ml,gt.prototype.set=Dl;function Ct(w){var R=-1,W=w==null?0:w.length;for(this.clear();++R<W;){var ae=w[R];this.set(ae[0],ae[1])}}function Fl(){this.size=0,this.__data__={hash:new ut,map:new(Or||gt),string:new ut}}function jl(w){var R=$t(this,w).delete(w);return this.size-=R?1:0,R}function Bl(w){return $t(this,w).get(w)}function ql(w){return $t(this,w).has(w)}function Ul(w,R){var W=$t(this,w),ae=W.size;return W.set(w,R),this.size+=W.size==ae?0:1,this}Ct.prototype.clear=Fl,Ct.prototype.delete=jl,Ct.prototype.get=Bl,Ct.prototype.has=ql,Ct.prototype.set=Ul;function ii(w){var R=-1,W=w==null?0:w.length;for(this.__data__=new Ct;++R<W;)this.add(w[R])}function ws(w){return this.__data__.set(w,r),this}function oi(w){return this.__data__.has(w)}ii.prototype.add=ii.prototype.push=ws,ii.prototype.has=oi;function tn(w){var R=this.__data__=new gt(w);this.size=R.size}function eo(){this.__data__=new gt,this.size=0}function Hl(w){var R=this.__data__,W=R.delete(w);return this.size=R.size,W}function $l(w){return this.__data__.get(w)}function Wl(w){return this.__data__.has(w)}function zl(w,R){var W=this.__data__;if(W instanceof gt){var ae=W.__data__;if(!Or||ae.length<n-1)return ae.push([w,R]),this.size=++W.size,this;W=this.__data__=new Ct(ae)}return W.set(w,R),this.size=W.size,this}tn.prototype.clear=eo,tn.prototype.delete=Hl,tn.prototype.get=$l,tn.prototype.has=Wl,tn.prototype.set=zl;function Vl(w,R){var W=ai(w),ae=!W&&As(w),Te=!W&&!ae&&li(w),ge=!W&&!ae&&!Te&&Ns(w),xe=W||ae||Te||ge,Re=xe?G(w.length,String):[],Xe=Re.length;for(var Me in w)(R||ve.call(w,Me))&&!(xe&&(Me=="length"||Te&&(Me=="offset"||Me=="parent")||ge&&(Me=="buffer"||Me=="byteLength"||Me=="byteOffset")||eu(Me,Xe)))&&Re.push(Me);return Re}function si(w,R){for(var W=w.length;W--;)if(Is(w[W][0],R))return W;return-1}function to(w,R,W){var ae=R(w);return ai(w)?ae:oe(ae,W(w))}function Ir(w){return w==null?w===void 0?N:m:Ht&&Ht in Object(w)?bn(w):Os(w)}function Ts(w){return rn(w)&&Ir(w)==a}function Ss(w,R,W,ae,Te){return w===R?!0:w==null||R==null||!rn(w)&&!rn(R)?w!==w&&R!==R:Kl(w,R,W,ae,Ss,Te)}function Kl(w,R,W,ae,Te,ge){var xe=ai(w),Re=ai(R),Xe=xe?l:nn(w),Me=Re?l:nn(R);Xe=Xe==a?g:Xe,Me=Me==a?g:Me;var mt=Xe==g,kt=Me==g,et=Xe==Me;if(et&&li(w)){if(!li(R))return!1;xe=!0,mt=!1}if(et&&!mt)return ge||(ge=new tn),xe||Ns(w)?no(w,R,W,ae,Te,ge):Zl(w,R,Xe,W,ae,Te,ge);if(!(W&i)){var vt=mt&&ve.call(w,"__wrapped__"),ct=kt&&ve.call(R,"__wrapped__");if(vt||ct){var Un=vt?w.value():w,En=ct?R.value():R;return ge||(ge=new tn),Te(Un,En,W,ae,ge)}}return et?(ge||(ge=new tn),Xl(w,R,W,ae,Te,ge)):!1}function Gl(w){if(!ks(w)||nu(w))return!1;var R=Cs(w)?At:H;return R.test(wt(w))}function Yl(w){return rn(w)&&io(w.length)&&!!Y[Ir(w)]}function Ql(w){if(!ru(w))return Sr(w);var R=[];for(var W in Object(w))ve.call(w,W)&&W!="constructor"&&R.push(W);return R}function no(w,R,W,ae,Te,ge){var xe=W&i,Re=w.length,Xe=R.length;if(Re!=Xe&&!(xe&&Xe>Re))return!1;var Me=ge.get(w);if(Me&&ge.get(R))return Me==R;var mt=-1,kt=!0,et=W&o?new ii:void 0;for(ge.set(w,R),ge.set(R,w);++mt<Re;){var vt=w[mt],ct=R[mt];if(ae)var Un=xe?ae(ct,vt,mt,R,w,ge):ae(vt,ct,mt,w,R,ge);if(Un!==void 0){if(Un)continue;kt=!1;break}if(et){if(!ie(R,function(En,Cr){if(!te(et,Cr)&&(vt===En||Te(vt,En,W,ae,ge)))return et.push(Cr)})){kt=!1;break}}else if(!(vt===ct||Te(vt,ct,W,ae,ge))){kt=!1;break}}return ge.delete(w),ge.delete(R),kt}function Zl(w,R,W,ae,Te,ge,xe){switch(W){case S:if(w.byteLength!=R.byteLength||w.byteOffset!=R.byteOffset)return!1;w=w.buffer,R=R.buffer;case T:return!(w.byteLength!=R.byteLength||!ge(new lt(w),new lt(R)));case d:case f:case _:return Is(+w,+R);case c:return w.name==R.name&&w.message==R.message;case b:case O:return w==R+"";case y:var Re=re;case C:var Xe=ae&i;if(Re||(Re=ue),w.size!=R.size&&!Xe)return!1;var Me=xe.get(w);if(Me)return Me==R;ae|=o,xe.set(w,R);var mt=no(Re(w),Re(R),ae,Te,ge,xe);return xe.delete(w),mt;case I:if(Ji)return Ji.call(w)==Ji.call(R)}return!1}function Xl(w,R,W,ae,Te,ge){var xe=W&i,Re=Ar(w),Xe=Re.length,Me=Ar(R),mt=Me.length;if(Xe!=mt&&!xe)return!1;for(var kt=Xe;kt--;){var et=Re[kt];if(!(xe?et in R:ve.call(R,et)))return!1}var vt=ge.get(w);if(vt&&ge.get(R))return vt==R;var ct=!0;ge.set(w,R),ge.set(R,w);for(var Un=xe;++kt<Xe;){et=Re[kt];var En=w[et],Cr=R[et];if(ae)var td=xe?ae(Cr,En,et,R,w,ge):ae(En,Cr,et,w,R,ge);if(!(td===void 0?En===Cr||Te(En,Cr,W,ae,ge):td)){ct=!1;break}Un||(Un=et=="constructor")}if(ct&&!Un){var xs=w.constructor,Rs=R.constructor;xs!=Rs&&"constructor"in w&&"constructor"in R&&!(typeof xs=="function"&&xs instanceof xs&&typeof Rs=="function"&&Rs instanceof Rs)&&(ct=!1)}return ge.delete(w),ge.delete(R),ct}function Ar(w){return to(w,oo,Jl)}function $t(w,R){var W=w.__data__;return tu(R)?W[typeof R=="string"?"string":"hash"]:W.map}function _n(w,R){var W=J(w,R);return Gl(W)?W:void 0}function bn(w){var R=ve.call(w,Ht),W=w[Ht];try{w[Ht]=void 0;var ae=!0}catch{}var Te=mn.call(w);return ae&&(R?w[Ht]=W:delete w[Ht]),Te}var Jl=ri?function(w){return w==null?[]:(w=Object(w),ne(ri(w),function(R){return vn.call(w,R)}))}:ou,nn=Ir;(Yi&&nn(new Yi(new ArrayBuffer(1)))!=S||Or&&nn(new Or)!=y||Qi&&nn(Qi.resolve())!=E||Zi&&nn(new Zi)!=C||Xi&&nn(new Xi)!=A)&&(nn=function(w){var R=Ir(w),W=R==g?w.constructor:void 0,ae=W?wt(W):"";if(ae)switch(ae){case bs:return S;case yn:return y;case Sl:return E;case Ol:return C;case Il:return A}return R});function eu(w,R){return R=R??s,!!R&&(typeof w=="number"||ee.test(w))&&w>-1&&w%1==0&&w<R}function tu(w){var R=typeof w;return R=="string"||R=="number"||R=="symbol"||R=="boolean"?w!=="__proto__":w===null}function nu(w){return!!qe&&qe in w}function ru(w){var R=w&&w.constructor,W=typeof R=="function"&&R.prototype||be;return w===W}function Os(w){return mn.call(w)}function wt(w){if(w!=null){try{return Oe.call(w)}catch{}try{return w+""}catch{}}return""}function Is(w,R){return w===R||w!==w&&R!==R}var As=Ts(function(){return arguments}())?Ts:function(w){return rn(w)&&ve.call(w,"callee")&&!vn.call(w,"callee")},ai=Array.isArray;function ro(w){return w!=null&&io(w.length)&&!Cs(w)}var li=Gi||su;function iu(w,R){return Ss(w,R)}function Cs(w){if(!ks(w))return!1;var R=Ir(w);return R==h||R==v||R==u||R==p}function io(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=s}function ks(w){var R=typeof w;return w!=null&&(R=="object"||R=="function")}function rn(w){return w!=null&&typeof w=="object"}var Ns=K?V(K):Yl;function oo(w){return ro(w)?Vl(w):Ql(w)}function ou(){return[]}function su(){return!1}t.exports=iu})(Fa,Fa.exports);var Dy=Fa.exports,ed={},Fy=pt&&pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ed,"__esModule",{value:!0});var tx=Fy(My),nx=Fy(Dy),Cc;(function(t){function e(o,s,a){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var l=tx.default(s);a||(l=Object.keys(l).reduce(function(d,f){return l[f]!=null&&(d[f]=l[f]),d},{}));for(var u in o)o[u]!==void 0&&s[u]===void 0&&(l[u]=o[u]);return Object.keys(l).length>0?l:void 0}t.compose=e;function n(o,s){o===void 0&&(o={}),s===void 0&&(s={}),typeof o!="object"&&(o={}),typeof s!="object"&&(s={});var a=Object.keys(o).concat(Object.keys(s)).reduce(function(l,u){return nx.default(o[u],s[u])||(l[u]=s[u]===void 0?null:s[u]),l},{});return Object.keys(a).length>0?a:void 0}t.diff=n;function r(o,s){o===void 0&&(o={}),s===void 0&&(s={}),o=o||{};var a=Object.keys(s).reduce(function(l,u){return s[u]!==o[u]&&o[u]!==void 0&&(l[u]=s[u]),l},{});return Object.keys(o).reduce(function(l,u){return o[u]!==s[u]&&s[u]===void 0&&(l[u]=null),l},a)}t.invert=r;function i(o,s,a){if(a===void 0&&(a=!1),typeof o!="object")return s;if(typeof s=="object"){if(!a)return s;var l=Object.keys(s).reduce(function(u,d){return o[d]===void 0&&(u[d]=s[d]),u},{});return Object.keys(l).length>0?l:void 0}}t.transform=i})(Cc||(Cc={}));ed.default=Cc;var $s={},Ws={},Sp;function rx(){if(Sp)return Ws;Sp=1;var t=pt&&pt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ws,"__esModule",{value:!0});var e=t(jy()),n=function(){function r(i){this.ops=i,this.index=0,this.offset=0}return r.prototype.hasNext=function(){return this.peekLength()<1/0},r.prototype.next=function(i){i||(i=1/0);var o=this.ops[this.index];if(o){var s=this.offset,a=e.default.length(o);if(i>=a-s?(i=a-s,this.index+=1,this.offset=0):this.offset+=i,typeof o.delete=="number")return{delete:i};var l={};return o.attributes&&(l.attributes=o.attributes),typeof o.retain=="number"?l.retain=i:typeof o.insert=="string"?l.insert=o.insert.substr(s,i):l.insert=o.insert,l}else return{retain:1/0}},r.prototype.peek=function(){return this.ops[this.index]},r.prototype.peekLength=function(){return this.ops[this.index]?e.default.length(this.ops[this.index])-this.offset:1/0},r.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},r.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,o=this.index,s=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=o,[s].concat(a)}else return[]},r}();return Ws.default=n,Ws}var Op;function jy(){if(Op)return $s;Op=1;var t=pt&&pt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($s,"__esModule",{value:!0});var e=t(rx()),n;return function(r){function i(s){return new e.default(s)}r.iterator=i;function o(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.insert=="string"?s.insert.length:1}r.length=o}(n||(n={})),$s.default=n,$s}var _s=pt&&pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},zs=_s(ex),ix=_s(My),Mu=_s(Dy),go=_s(ed),ft=_s(jy()),ox=String.fromCharCode(0),sx=function(){function t(e){Array.isArray(e)?this.ops=e:e!=null&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}return t.prototype.insert=function(e,n){var r={};return typeof e=="string"&&e.length===0?this:(r.insert=e,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r))},t.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},t.prototype.retain=function(e,n){if(e<=0)return this;var r={retain:e};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(r.attributes=n),this.push(r)},t.prototype.push=function(e){var n=this.ops.length,r=this.ops[n-1];if(e=ix.default(e),typeof r=="object"){if(typeof e.delete=="number"&&typeof r.delete=="number")return this.ops[n-1]={delete:r.delete+e.delete},this;if(typeof r.delete=="number"&&e.insert!=null&&(n-=1,r=this.ops[n-1],typeof r!="object"))return this.ops.unshift(e),this;if(Mu.default(e.attributes,r.attributes)){if(typeof e.insert=="string"&&typeof r.insert=="string")return this.ops[n-1]={insert:r.insert+e.insert},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this;if(typeof e.retain=="number"&&typeof r.retain=="number")return this.ops[n-1]={retain:r.retain+e.retain},typeof e.attributes=="object"&&(this.ops[n-1].attributes=e.attributes),this}}return n===this.ops.length?this.ops.push(e):this.ops.splice(n,0,e),this},t.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},t.prototype.filter=function(e){return this.ops.filter(e)},t.prototype.forEach=function(e){this.ops.forEach(e)},t.prototype.map=function(e){return this.ops.map(e)},t.prototype.partition=function(e){var n=[],r=[];return this.forEach(function(i){var o=e(i)?n:r;o.push(i)}),[n,r]},t.prototype.reduce=function(e,n){return this.ops.reduce(e,n)},t.prototype.changeLength=function(){return this.reduce(function(e,n){return n.insert?e+ft.default.length(n):n.delete?e-n.delete:e},0)},t.prototype.length=function(){return this.reduce(function(e,n){return e+ft.default.length(n)},0)},t.prototype.slice=function(e,n){e===void 0&&(e=0),n===void 0&&(n=1/0);for(var r=[],i=ft.default.iterator(this.ops),o=0;o<n&&i.hasNext();){var s=void 0;o<e?s=i.next(e-o):(s=i.next(n-o),r.push(s)),o+=ft.default.length(s)}return new t(r)},t.prototype.compose=function(e){var n=ft.default.iterator(this.ops),r=ft.default.iterator(e.ops),i=[],o=r.peek();if(o!=null&&typeof o.retain=="number"&&o.attributes==null){for(var s=o.retain;n.peekType()==="insert"&&n.peekLength()<=s;)s-=n.peekLength(),i.push(n.next());o.retain-s>0&&r.next(o.retain-s)}for(var a=new t(i);n.hasNext()||r.hasNext();)if(r.peekType()==="insert")a.push(r.next());else if(n.peekType()==="delete")a.push(n.next());else{var l=Math.min(n.peekLength(),r.peekLength()),u=n.next(l),d=r.next(l);if(typeof d.retain=="number"){var f={};typeof u.retain=="number"?f.retain=l:f.insert=u.insert;var c=go.default.compose(u.attributes,d.attributes,typeof u.retain=="number");if(c&&(f.attributes=c),a.push(f),!r.hasNext()&&Mu.default(a.ops[a.ops.length-1],f)){var h=new t(n.rest());return a.concat(h).chop()}}else typeof d.delete=="number"&&typeof u.retain=="number"&&a.push(d)}return a.chop()},t.prototype.concat=function(e){var n=new t(this.ops.slice());return e.ops.length>0&&(n.push(e.ops[0]),n.ops=n.ops.concat(e.ops.slice(1))),n},t.prototype.diff=function(e,n){if(this.ops===e.ops)return new t;var r=[this,e].map(function(l){return l.map(function(u){if(u.insert!=null)return typeof u.insert=="string"?u.insert:ox;var d=l===e?"on":"with";throw new Error("diff() called "+d+" non-document")}).join("")}),i=new t,o=zs.default(r[0],r[1],n),s=ft.default.iterator(this.ops),a=ft.default.iterator(e.ops);return o.forEach(function(l){for(var u=l[1].length;u>0;){var d=0;switch(l[0]){case zs.default.INSERT:d=Math.min(a.peekLength(),u),i.push(a.next(d));break;case zs.default.DELETE:d=Math.min(u,s.peekLength()),s.next(d),i.delete(d);break;case zs.default.EQUAL:d=Math.min(s.peekLength(),a.peekLength(),u);var f=s.next(d),c=a.next(d);Mu.default(f.insert,c.insert)?i.retain(d,go.default.diff(f.attributes,c.attributes)):i.push(c).delete(d);break}u-=d}}),i.chop()},t.prototype.eachLine=function(e,n){n===void 0&&(n=`
`);for(var r=ft.default.iterator(this.ops),i=new t,o=0;r.hasNext();){if(r.peekType()!=="insert")return;var s=r.peek(),a=ft.default.length(s)-r.peekLength(),l=typeof s.insert=="string"?s.insert.indexOf(n,a)-a:-1;if(l<0)i.push(r.next());else if(l>0)i.push(r.next(l));else{if(e(i,r.next(1).attributes||{},o)===!1)return;o+=1,i=new t}}i.length()>0&&e(i,{},o)},t.prototype.invert=function(e){var n=new t;return this.reduce(function(r,i){if(i.insert)n.delete(ft.default.length(i));else{if(i.retain&&i.attributes==null)return n.retain(i.retain),r+i.retain;if(i.delete||i.retain&&i.attributes){var o=i.delete||i.retain,s=e.slice(r,r+o);return s.forEach(function(a){i.delete?n.push(a):i.retain&&i.attributes&&n.retain(ft.default.length(a),go.default.invert(i.attributes,a.attributes))}),r+o}}return r},0),n.chop()},t.prototype.transform=function(e,n){if(n===void 0&&(n=!1),n=!!n,typeof e=="number")return this.transformPosition(e,n);for(var r=e,i=ft.default.iterator(this.ops),o=ft.default.iterator(r.ops),s=new t;i.hasNext()||o.hasNext();)if(i.peekType()==="insert"&&(n||o.peekType()!=="insert"))s.retain(ft.default.length(i.next()));else if(o.peekType()==="insert")s.push(o.next());else{var a=Math.min(i.peekLength(),o.peekLength()),l=i.next(a),u=o.next(a);if(l.delete)continue;u.delete?s.push(u):s.retain(a,go.default.transform(l.attributes,u.attributes,n))}return s.chop()},t.prototype.transformPosition=function(e,n){n===void 0&&(n=!1),n=!!n;for(var r=ft.default.iterator(this.ops),i=0;r.hasNext()&&i<=e;){var o=r.peekLength(),s=r.peekType();if(r.next(),s==="delete"){e-=Math.min(o,e-i);continue}else s==="insert"&&(i<e||!n)&&(e+=o);i+=o}return e},t.Op=ft.default,t.AttributeMap=go.default,t}(),ax=sx;const lx=Cy(ax);/*!
 * VueQuill @vueup/vue-quill v1.2.0
 * https://vueup.github.io/vue-quill/
 * 
 * Includes quill v1.3.7
 * https://quilljs.com/
 * 
 * Copyright (c) 2023 Ahmad Luthfi Masruri
 * Released under the MIT license
 * Date: 2023-05-12T08:44:03.742Z
 */const Ip={essential:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}],["blockquote","code-block","link"],[{color:[]},"clean"]],minimal:[[{header:1},{header:2}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"},{align:[]}]],full:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","video","image"],["clean"]]},ux=yr({name:"QuillEditor",inheritAttrs:!1,props:{content:{type:[String,Object]},contentType:{type:String,default:"delta",validator:t=>["delta","html","text"].includes(t)},enable:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},placeholder:{type:String,required:!1},theme:{type:String,default:"snow",validator:t=>["snow","bubble",""].includes(t)},toolbar:{type:[String,Array,Object],required:!1,validator:t=>typeof t=="string"&&t!==""?t.charAt(0)==="#"?!0:Object.keys(Ip).indexOf(t)!==-1:!0},modules:{type:Object,required:!1},options:{type:Object,required:!1},globalOptions:{type:Object,required:!1}},emits:["textChange","selectionChange","editorChange","update:content","focus","blur","ready"],setup:(t,e)=>{_r(()=>{o()}),Ya(()=>{n=null});let n,r;const i=$e(),o=()=>{var T;if(i.value){if(r=s(),t.modules)if(Array.isArray(t.modules))for(const S of t.modules)Pu.register(`modules/${S.name}`,S.module);else Pu.register(`modules/${t.modules.name}`,t.modules.module);n=new Pu(i.value,r),E(t.content),n.on("text-change",f),n.on("selection-change",h),n.on("editor-change",v),t.theme!=="bubble"&&i.value.classList.remove("ql-bubble"),t.theme!=="snow"&&i.value.classList.remove("ql-snow"),(T=n.getModule("toolbar"))===null||T===void 0||T.container.addEventListener("mousedown",S=>{S.preventDefault()}),e.emit("ready",n)}},s=()=>{const T={};if(t.theme!==""&&(T.theme=t.theme),t.readOnly&&(T.readOnly=t.readOnly),t.placeholder&&(T.placeholder=t.placeholder),t.toolbar&&t.toolbar!==""&&(T.modules={toolbar:(()=>{if(typeof t.toolbar=="object")return t.toolbar;if(typeof t.toolbar=="string")return t.toolbar.charAt(0)==="#"?t.toolbar:Ip[t.toolbar]})()}),t.modules){const S=(()=>{var k,P;const U={};if(Array.isArray(t.modules))for(const z of t.modules)U[z.name]=(k=z.options)!==null&&k!==void 0?k:{};else U[t.modules.name]=(P=t.modules.options)!==null&&P!==void 0?P:{};return U})();T.modules=Object.assign({},T.modules,S)}return Object.assign({},t.globalOptions,t.options,T)},a=T=>typeof T=="object"&&T?T.slice():T,l=T=>Object.values(T.ops).some(S=>!S.retain||Object.keys(S).length!==1);let u;const d=T=>{if(typeof u==typeof T){if(T===u)return!0;if(typeof T=="object"&&T&&typeof u=="object"&&u)return!l(u.diff(T))}return!1},f=(T,S,k)=>{u=a(g()),d(t.content)||e.emit("update:content",u),e.emit("textChange",{delta:T,oldContents:S,source:k})},c=$e(),h=(T,S,k)=>{c.value=!!(n!=null&&n.hasFocus()),e.emit("selectionChange",{range:T,oldRange:S,source:k})};lr(c,T=>{T?e.emit("focus",i):e.emit("blur",i)});const v=(...T)=>{T[0]==="text-change"&&e.emit("editorChange",{name:T[0],delta:T[1],oldContents:T[2],source:T[3]}),T[0]==="selection-change"&&e.emit("editorChange",{name:T[0],range:T[1],oldRange:T[2],source:T[3]})},y=()=>i.value,_=()=>{var T;return(T=n==null?void 0:n.getModule("toolbar"))===null||T===void 0?void 0:T.container},m=()=>{if(n)return n;throw`The quill editor hasn't been instantiated yet,
                  make sure to call this method when the editor ready
                  or use v-on:ready="onReady(quill)" event instead.`},g=(T,S)=>t.contentType==="html"?C():t.contentType==="text"?p(T,S):n==null?void 0:n.getContents(T,S),E=(T,S="api")=>{const k=T||(t.contentType==="delta"?new lx:"");t.contentType==="html"?O(k):t.contentType==="text"?b(k,S):n==null||n.setContents(k,S),u=a(k)},p=(T,S)=>{var k;return(k=n==null?void 0:n.getText(T,S))!==null&&k!==void 0?k:""},b=(T,S="api")=>{n==null||n.setText(T,S)},C=()=>{var T;return(T=n==null?void 0:n.root.innerHTML)!==null&&T!==void 0?T:""},O=T=>{n&&(n.root.innerHTML=T)},I=(T,S="api")=>{const k=n==null?void 0:n.clipboard.convert(T);k&&(n==null||n.setContents(k,S))},N=()=>{n==null||n.focus()},A=()=>{Kr(()=>{var T;!e.slots.toolbar&&n&&((T=n.getModule("toolbar"))===null||T===void 0||T.container.remove()),o()})};return lr(()=>t.content,T=>{if(!n||!T||d(T))return;const S=n.getSelection();S&&Kr(()=>n==null?void 0:n.setSelection(S)),E(T)},{deep:!0}),lr(()=>t.enable,T=>{n&&n.enable(T)}),{editor:i,getEditor:y,getToolbar:_,getQuill:m,getContents:g,setContents:E,getHTML:C,setHTML:O,pasteHTML:I,focus:N,getText:p,setText:b,reinit:A}},render(){var t,e;return[(e=(t=this.$slots).toolbar)===null||e===void 0?void 0:e.call(t),rr("div",{ref:"editor",...this.$attrs})]}}),cx={key:0,class:"max-w-screen-xl my-0 mx-auto pb-20 px-4 flex flex-col pt-5 border-grey-500 leading-5 bg-scroll whitespace-pre-line text-center"},fx={class:"mb-2 bg-green-100 w-14 mx-auto text-green-800 text-base font-semibold px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300"},dx={class:"mt-2"},hx=["value"],px=de("br",null,null,-1),gx=["value"],mx={class:"mx-auto w-full"},vx=["innerHTML"],yx={__name:"LyricEditView",setup(t){const e=Jg(),{song:n,loading:r}=Ci(Mn()),{fetchSong:i,saveLyric:o,saveSong:s,revertLyric:a}=Mn(),l=e.params.id;i(l);const u=$e(!1);Kf()&&(u.value=!0);var d=[["bold","italic","underline"],["blockquote"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}]];return(f,c)=>{var h,v,y,_,m;return(h=ye(n))!=null&&h.id?(Be(),Ze("div",cx,[de("p",fx,sr((v=ye(n))==null?void 0:v.id),1),de("div",dx,[de("input",{type:"text",class:"font-semibold text-center md:text-2xl text-lg mb-2 leading-8",value:(y=ye(n))==null?void 0:y.name1,onChange:c[0]||(c[0]=g=>ye(n).name1=g.target.value),onKeyup:c[1]||(c[1]=$d((...g)=>ye(s)&&ye(s)(...g),["enter"]))},null,40,hx),px,de("input",{type:"text",class:"md:text-lg text-base mb-5 text-center h-8",value:(_=ye(n))==null?void 0:_.name2,onChange:c[2]||(c[2]=g=>ye(n).name2=g.target.value),onKeyup:c[3]||(c[3]=$d((...g)=>ye(s)&&ye(s)(...g),["enter"]))},null,40,gx),Se(ye(ux),{theme:"snow",content:ye(n).lyric,"onUpdate:content":c[4]||(c[4]=g=>ye(n).lyric=g),contentType:"html",toolbar:ye(d)},null,8,["content","toolbar"]),de("div",mx,[de("button",{class:"mt-5 bg-green-400 hover:bg-green-300 text-white font-bold py-2 px-4 rounded",onClick:c[5]||(c[5]=(...g)=>ye(s)&&ye(s)(...g))}," Lưu "),de("button",{class:"mt-5 ml-2 bg-red-400 hover:bg-red-300 text-white font-bold py-2 px-4 rounded",onClick:c[6]||(c[6]=(...g)=>ye(a)&&ye(a)(...g))}," Đặt lại ")])]),de("div",{class:"mt-5",innerHTML:(m=ye(n))==null?void 0:m.lyric},null,8,vx)])):$r("",!0)}}},_x={class:"pt-5 max-w-screen-xl mb-20 my-0 mx-auto pl-5 sm:pl-0"},bx=de("h1",{class:"mb-6 text-xl font-extrabold leading-none tracking-tight text-gray-900 dark:text-white"},"Cài đặt",-1),Ex=de("p",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300 mb-3"},"Cuộn lời bài hát",-1),wx={class:"relative flex items-center mb-5 cursor-pointer ml-4"},Tx=de("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:w-5 after:h-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"},null,-1),Sx=de("p",{class:"ms-3 text-sm font-medium text-gray-900 dark:text-gray-300 mb-3"},"Kích thước lời bài hát",-1),Ox={class:"relative mb-6"},Ix=de("span",{class:"text-gray-500 dark:text-gray-400 absolute start-0 -bottom-6 ml-4"},"A",-1),Ax=["value"],Cx=de("span",{class:"text-2xl text-gray-500 dark:text-gray-400 absolute start-1/3 -bottom-6 mt-15"},"A",-1),kx={__name:"SettingView",setup(t){const{isAutoScroll:e,textSizeLyric:n}=Ci(Ty());return(r,i)=>(Be(),Ze("main",null,[de("div",_x,[bx,Ex,de("label",wx,[Do(de("input",{type:"checkbox",class:"sr-only peer","onUpdate:modelValue":i[0]||(i[0]=o=>Ye(e)?e.value=o:null)},null,512),[[Ib,ye(e)]]),Tx]),Sx,de("div",Ox,[Ix,de("input",{value:ye(n),onChange:i[1]||(i[1]=o=>n.value=o.target.value),id:"labels-range-input",type:"range",min:"15",max:"24",class:"mb-5 w-1/3 ml-4 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"},null,40,Ax),Cx])])]))}},Nx={},xx={width:"350",height:"350",class:"mx-auto mt-5",src:"https://static.vecteezy.com/system/resources/previews/024/527/473/original/headphones-dj-error-404-flash-message-listening-to-music-beats-audio-sound-empty-state-ui-design-page-not-found-popup-cartoon-image-flat-illustration-concept-on-white-background-vector.jpg",alt:""};function Rx(t,e){return Be(),Ze("img",xx)}const Px=gn(Nx,[["render",Rx]]),By=B1({history:n1("/"),scrollBehavior(t,e,n){return{top:0}},routes:[{path:"/login",name:"login",component:KN},{path:"/logout",name:"logout",component:mp},{path:"/",name:"home",component:mp},{path:"/songs/:id",name:"single-song",component:DN},{path:"/songs/:id/edit",name:"single-song-edit",component:yx},{path:"/setting",name:"setting",component:kx},{path:"/:catchAll(.*)",component:Px}]}),Lx=["single-song-edit"];By.beforeEach(async(t,e,n)=>{const r=await Kf();Lx.includes(t.name)&&(r||n("/login")),t.name==="login"&&r&&n("/"),t.name==="logout"&&(fy(),n("/")),n()});const Tl=Fg(Ek);Tl.use(Pb());Tl.use(By);Tl.use(wy,{autoClose:3e3});Tl.mount("#app");
